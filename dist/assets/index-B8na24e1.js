var oC=t=>{throw TypeError(t)};var jy=(t,e,n)=>e.has(t)||oC("Cannot "+n);var z=(t,e,n)=>(jy(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?oC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(jy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Xt=(t,e,n)=>(jy(t,e,"access private method"),n);var Hh=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return z(t,e,r)}});function h5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function nP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rP={exports:{}},$m={},sP={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=Symbol.for("react.element"),f5=Symbol.for("react.portal"),p5=Symbol.for("react.fragment"),m5=Symbol.for("react.strict_mode"),g5=Symbol.for("react.profiler"),y5=Symbol.for("react.provider"),v5=Symbol.for("react.context"),_5=Symbol.for("react.forward_ref"),w5=Symbol.for("react.suspense"),x5=Symbol.for("react.memo"),E5=Symbol.for("react.lazy"),aC=Symbol.iterator;function T5(t){return t===null||typeof t!="object"?null:(t=aC&&t[aC]||t["@@iterator"],typeof t=="function"?t:null)}var iP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oP=Object.assign,aP={};function lc(t,e,n){this.props=t,this.context=e,this.refs=aP,this.updater=n||iP}lc.prototype.isReactComponent={};lc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lP(){}lP.prototype=lc.prototype;function Aw(t,e,n){this.props=t,this.context=e,this.refs=aP,this.updater=n||iP}var Rw=Aw.prototype=new lP;Rw.constructor=Aw;oP(Rw,lc.prototype);Rw.isPureReactComponent=!0;var lC=Array.isArray,cP=Object.prototype.hasOwnProperty,Pw={current:null},uP={key:!0,ref:!0,__self:!0,__source:!0};function dP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cP.call(e,r)&&!uP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:qd,type:t,key:i,ref:o,props:s,_owner:Pw.current}}function b5(t,e){return{$$typeof:qd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nw(t){return typeof t=="object"&&t!==null&&t.$$typeof===qd}function C5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cC=/\/+/g;function Vy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C5(""+t.key):e.toString(36)}function Nf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qd:case f5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Vy(o,0):r,lC(s)?(n="",t!=null&&(n=t.replace(cC,"$&/")+"/"),Nf(s,e,n,"",function(c){return c})):s!=null&&(Nw(s)&&(s=b5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cC,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",lC(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Vy(i,a);o+=Nf(i,e,n,l,s)}else if(l=T5(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Vy(i,a++),o+=Nf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qh(t,e,n){if(t==null)return t;var r=[],s=0;return Nf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function S5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},kf={transition:null},I5={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:kf,ReactCurrentOwner:Pw};function hP(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:qh,forEach:function(t,e,n){qh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qh(t,function(){e++}),e},toArray:function(t){return qh(t,function(e){return e})||[]},only:function(t){if(!Nw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=lc;Se.Fragment=p5;Se.Profiler=g5;Se.PureComponent=Aw;Se.StrictMode=m5;Se.Suspense=w5;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I5;Se.act=hP;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Pw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cP.call(e,l)&&!uP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:qd,type:t.type,key:s,ref:i,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:v5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y5,_context:t},t.Consumer=t};Se.createElement=dP;Se.createFactory=function(t){var e=dP.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:_5,render:t}};Se.isValidElement=Nw;Se.lazy=function(t){return{$$typeof:E5,_payload:{_status:-1,_result:t},_init:S5}};Se.memo=function(t,e){return{$$typeof:x5,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=kf.transition;kf.transition={};try{t()}finally{kf.transition=e}};Se.unstable_act=hP;Se.useCallback=function(t,e){return vn.current.useCallback(t,e)};Se.useContext=function(t){return vn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return vn.current.useEffect(t,e)};Se.useId=function(){return vn.current.useId()};Se.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return vn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Se.useRef=function(t){return vn.current.useRef(t)};Se.useState=function(t){return vn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return vn.current.useTransition()};Se.version="18.3.1";sP.exports=Se;var v=sP.exports;const K=nP(v),fP=h5({__proto__:null,default:K},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A5=v,R5=Symbol.for("react.element"),P5=Symbol.for("react.fragment"),N5=Object.prototype.hasOwnProperty,k5=A5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D5={key:!0,ref:!0,__self:!0,__source:!0};function pP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)N5.call(e,r)&&!D5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:R5,type:t,key:i,ref:o,props:s,_owner:k5.current}}$m.Fragment=P5;$m.jsx=pP;$m.jsxs=pP;rP.exports=$m;var f=rP.exports,mP={exports:{}},er={},gP={exports:{}},yP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var Y=j.length;j.push(U);e:for(;0<Y;){var H=Y-1>>>1,X=j[H];if(0<s(X,U))j[H]=U,j[Y]=X,Y=H;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],Y=j.pop();if(Y!==U){j[0]=Y;e:for(var H=0,X=j.length,se=X>>>1;H<se;){var ke=2*(H+1)-1,Ge=j[ke],ge=ke+1,ze=j[ge];if(0>s(Ge,Y))ge<X&&0>s(ze,Ge)?(j[H]=ze,j[ge]=Y,H=ge):(j[H]=Ge,j[ke]=Y,H=ke);else if(ge<X&&0>s(ze,Y))j[H]=ze,j[ge]=Y,H=ge;else break e}}return U}function s(j,U){var Y=j.sortIndex-U.sortIndex;return Y!==0?Y:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function R(j){if(_=!1,b(j),!y)if(n(l)!==null)y=!0,J(k);else{var U=n(c);U!==null&&oe(R,U.startTime-j)}}function k(j,U){y=!1,_&&(_=!1,T(C),C=-1),m=!0;var Y=p;try{for(b(U),h=n(l);h!==null&&(!(h.expirationTime>U)||j&&!D());){var H=h.callback;if(typeof H=="function"){h.callback=null,p=h.priorityLevel;var X=H(h.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),b(U)}else r(l);h=n(l)}if(h!==null)var se=!0;else{var ke=n(c);ke!==null&&oe(R,ke.startTime-U),se=!1}return se}finally{h=null,p=Y,m=!1}}var O=!1,S=null,C=-1,I=5,P=-1;function D(){return!(t.unstable_now()-P<I)}function M(){if(S!==null){var j=t.unstable_now();P=j;var U=!0;try{U=S(!0,j)}finally{U?N():(O=!1,S=null)}}else O=!1}var N;if(typeof w=="function")N=function(){w(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=M,N=function(){ee.postMessage(null)}}else N=function(){x(M,0)};function J(j){S=j,O||(O=!0,N())}function oe(j,U){C=x(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,J(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var Y=p;p=U;try{return j()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=p;p=j;try{return U()}finally{p=Y}},t.unstable_scheduleCallback=function(j,U,Y){var H=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?H+Y:H):Y=H,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,j={id:u++,callback:U,priorityLevel:j,startTime:Y,expirationTime:X,sortIndex:-1},Y>H?(j.sortIndex=Y,e(c,j),n(l)===null&&j===n(c)&&(_?(T(C),C=-1):_=!0,oe(R,Y-H))):(j.sortIndex=X,e(l,j),y||m||(y=!0,J(k))),j},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(j){var U=p;return function(){var Y=p;p=U;try{return j.apply(this,arguments)}finally{p=Y}}}})(yP);gP.exports=yP;var M5=gP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O5=v,Jn=M5;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vP=new Set,Yu={};function wa(t,e){Fl(t,e),Fl(t+"Capture",e)}function Fl(t,e){for(Yu[t]=e,t=0;t<e.length;t++)vP.add(e[t])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u_=Object.prototype.hasOwnProperty,L5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uC={},dC={};function j5(t){return u_.call(dC,t)?!0:u_.call(uC,t)?!1:L5.test(t)?dC[t]=!0:(uC[t]=!0,!1)}function V5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F5(t,e,n,r){if(e===null||typeof e>"u"||V5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var kw=/[\-:]([a-z])/g;function Dw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kw,Dw);qt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kw,Dw);qt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kw,Dw);qt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mw(t,e,n,r){var s=qt.hasOwnProperty(e)?qt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F5(e,n,s,r)&&(n=null),r||s===null?j5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Js=O5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gh=Symbol.for("react.element"),Qa=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),Ow=Symbol.for("react.strict_mode"),d_=Symbol.for("react.profiler"),_P=Symbol.for("react.provider"),wP=Symbol.for("react.context"),Lw=Symbol.for("react.forward_ref"),h_=Symbol.for("react.suspense"),f_=Symbol.for("react.suspense_list"),jw=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),xP=Symbol.for("react.offscreen"),hC=Symbol.iterator;function Kc(t){return t===null||typeof t!="object"?null:(t=hC&&t[hC]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Fy;function hu(t){if(Fy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fy=e&&e[1]||""}return`
`+Fy+t}var Uy=!1;function By(t,e){if(!t||Uy)return"";Uy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Uy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hu(t):""}function U5(t){switch(t.tag){case 5:return hu(t.type);case 16:return hu("Lazy");case 13:return hu("Suspense");case 19:return hu("SuspenseList");case 0:case 2:case 15:return t=By(t.type,!1),t;case 11:return t=By(t.type.render,!1),t;case 1:return t=By(t.type,!0),t;default:return""}}function p_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ya:return"Fragment";case Qa:return"Portal";case d_:return"Profiler";case Ow:return"StrictMode";case h_:return"Suspense";case f_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wP:return(t.displayName||"Context")+".Consumer";case _P:return(t._context.displayName||"Context")+".Provider";case Lw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jw:return e=t.displayName||null,e!==null?e:p_(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return p_(t(e))}catch{}}return null}function B5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p_(e);case 8:return e===Ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $5(t){var e=EP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kh(t){t._valueTracker||(t._valueTracker=$5(t))}function TP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function m_(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bP(t,e){e=e.checked,e!=null&&Mw(t,"checked",e,!1)}function g_(t,e){bP(t,e);var n=Xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?y_(t,e.type,n):e.hasOwnProperty("defaultValue")&&y_(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function y_(t,e,n){(e!=="number"||fp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fu=Array.isArray;function pl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function v_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(fu(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xi(n)}}function CP(t,e){var n=Xi(e.value),r=Xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function SP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function __(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qh,IP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qh=Qh||document.createElement("div"),Qh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z5=["Webkit","ms","Moz","O"];Object.keys(bu).forEach(function(t){z5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bu[e]=bu[t]})});function AP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bu.hasOwnProperty(t)&&bu[t]?(""+e).trim():e+"px"}function RP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=AP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var W5=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function w_(t,e){if(e){if(W5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function x_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E_=null;function Vw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var T_=null,ml=null,gl=null;function yC(t){if(t=Qd(t)){if(typeof T_!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Gm(e),T_(t.stateNode,t.type,e))}}function PP(t){ml?gl?gl.push(t):gl=[t]:ml=t}function NP(){if(ml){var t=ml,e=gl;if(gl=ml=null,yC(t),e)for(t=0;t<e.length;t++)yC(e[t])}}function kP(t,e){return t(e)}function DP(){}var $y=!1;function MP(t,e,n){if($y)return t(e,n);$y=!0;try{return kP(t,e,n)}finally{$y=!1,(ml!==null||gl!==null)&&(DP(),NP())}}function Ju(t,e){var n=t.stateNode;if(n===null)return null;var r=Gm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var b_=!1;if(Fs)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){b_=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{b_=!1}function H5(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Cu=!1,pp=null,mp=!1,C_=null,q5={onError:function(t){Cu=!0,pp=t}};function G5(t,e,n,r,s,i,o,a,l){Cu=!1,pp=null,H5.apply(q5,arguments)}function K5(t,e,n,r,s,i,o,a,l){if(G5.apply(this,arguments),Cu){if(Cu){var c=pp;Cu=!1,pp=null}else throw Error(q(198));mp||(mp=!0,C_=c)}}function xa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vC(t){if(xa(t)!==t)throw Error(q(188))}function Q5(t){var e=t.alternate;if(!e){if(e=xa(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vC(s),t;if(i===r)return vC(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function LP(t){return t=Q5(t),t!==null?jP(t):null}function jP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jP(t);if(e!==null)return e;t=t.sibling}return null}var VP=Jn.unstable_scheduleCallback,_C=Jn.unstable_cancelCallback,Y5=Jn.unstable_shouldYield,X5=Jn.unstable_requestPaint,gt=Jn.unstable_now,J5=Jn.unstable_getCurrentPriorityLevel,Fw=Jn.unstable_ImmediatePriority,FP=Jn.unstable_UserBlockingPriority,gp=Jn.unstable_NormalPriority,Z5=Jn.unstable_LowPriority,UP=Jn.unstable_IdlePriority,zm=null,ns=null;function e3(t){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(zm,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:r3,t3=Math.log,n3=Math.LN2;function r3(t){return t>>>=0,t===0?32:31-(t3(t)/n3|0)|0}var Yh=64,Xh=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=pu(a):(i&=o,i!==0&&(r=pu(i)))}else o=n&~s,o!==0?r=pu(o):i!==0&&(r=pu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),s=1<<n,r|=t[n],e&=~s;return r}function s3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=s3(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function S_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BP(){var t=Yh;return Yh<<=1,!(Yh&4194240)&&(Yh=64),t}function zy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function o3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Uw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ve=0;function $P(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zP,Bw,WP,HP,qP,I_=!1,Jh=[],Di=null,Mi=null,Oi=null,Zu=new Map,ed=new Map,vi=[],a3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wC(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ed.delete(e.pointerId)}}function Yc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Qd(e),e!==null&&Bw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function l3(t,e,n,r,s){switch(e){case"focusin":return Di=Yc(Di,t,e,n,r,s),!0;case"dragenter":return Mi=Yc(Mi,t,e,n,r,s),!0;case"mouseover":return Oi=Yc(Oi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zu.set(i,Yc(Zu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ed.set(i,Yc(ed.get(i)||null,t,e,n,r,s)),!0}return!1}function GP(t){var e=Fo(t.target);if(e!==null){var n=xa(e);if(n!==null){if(e=n.tag,e===13){if(e=OP(n),e!==null){t.blockedOn=e,qP(t.priority,function(){WP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Df(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=A_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);E_=r,n.target.dispatchEvent(r),E_=null}else return e=Qd(n),e!==null&&Bw(e),t.blockedOn=n,!1;e.shift()}return!0}function xC(t,e,n){Df(t)&&n.delete(e)}function c3(){I_=!1,Di!==null&&Df(Di)&&(Di=null),Mi!==null&&Df(Mi)&&(Mi=null),Oi!==null&&Df(Oi)&&(Oi=null),Zu.forEach(xC),ed.forEach(xC)}function Xc(t,e){t.blockedOn===e&&(t.blockedOn=null,I_||(I_=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,c3)))}function td(t){function e(s){return Xc(s,t)}if(0<Jh.length){Xc(Jh[0],t);for(var n=1;n<Jh.length;n++){var r=Jh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Di!==null&&Xc(Di,t),Mi!==null&&Xc(Mi,t),Oi!==null&&Xc(Oi,t),Zu.forEach(e),ed.forEach(e),n=0;n<vi.length;n++)r=vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vi.length&&(n=vi[0],n.blockedOn===null);)GP(n),n.blockedOn===null&&vi.shift()}var yl=Js.ReactCurrentBatchConfig,vp=!0;function u3(t,e,n,r){var s=Ve,i=yl.transition;yl.transition=null;try{Ve=1,$w(t,e,n,r)}finally{Ve=s,yl.transition=i}}function d3(t,e,n,r){var s=Ve,i=yl.transition;yl.transition=null;try{Ve=4,$w(t,e,n,r)}finally{Ve=s,yl.transition=i}}function $w(t,e,n,r){if(vp){var s=A_(t,e,n,r);if(s===null)Zy(t,e,r,_p,n),wC(t,r);else if(l3(s,t,e,n,r))r.stopPropagation();else if(wC(t,r),e&4&&-1<a3.indexOf(t)){for(;s!==null;){var i=Qd(s);if(i!==null&&zP(i),i=A_(t,e,n,r),i===null&&Zy(t,e,r,_p,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zy(t,e,r,null,n)}}var _p=null;function A_(t,e,n,r){if(_p=null,t=Vw(r),t=Fo(t),t!==null)if(e=xa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=OP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _p=t,null}function KP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J5()){case Fw:return 1;case FP:return 4;case gp:case Z5:return 16;case UP:return 536870912;default:return 16}default:return 16}}var Ri=null,zw=null,Mf=null;function QP(){if(Mf)return Mf;var t,e=zw,n=e.length,r,s="value"in Ri?Ri.value:Ri.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Mf=s.slice(t,1<r?1-r:void 0)}function Of(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zh(){return!0}function EC(){return!1}function tr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zh:EC,this.isPropagationStopped=EC,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zh)},persist:function(){},isPersistent:Zh}),e}var cc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ww=tr(cc),Kd=at({},cc,{view:0,detail:0}),h3=tr(Kd),Wy,Hy,Jc,Wm=at({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jc&&(Jc&&t.type==="mousemove"?(Wy=t.screenX-Jc.screenX,Hy=t.screenY-Jc.screenY):Hy=Wy=0,Jc=t),Wy)},movementY:function(t){return"movementY"in t?t.movementY:Hy}}),TC=tr(Wm),f3=at({},Wm,{dataTransfer:0}),p3=tr(f3),m3=at({},Kd,{relatedTarget:0}),qy=tr(m3),g3=at({},cc,{animationName:0,elapsedTime:0,pseudoElement:0}),y3=tr(g3),v3=at({},cc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_3=tr(v3),w3=at({},cc,{data:0}),bC=tr(w3),x3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T3[t])?!!e[t]:!1}function Hw(){return b3}var C3=at({},Kd,{key:function(t){if(t.key){var e=x3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Of(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(t){return t.type==="keypress"?Of(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Of(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S3=tr(C3),I3=at({},Wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CC=tr(I3),A3=at({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),R3=tr(A3),P3=at({},cc,{propertyName:0,elapsedTime:0,pseudoElement:0}),N3=tr(P3),k3=at({},Wm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D3=tr(k3),M3=[9,13,27,32],qw=Fs&&"CompositionEvent"in window,Su=null;Fs&&"documentMode"in document&&(Su=document.documentMode);var O3=Fs&&"TextEvent"in window&&!Su,YP=Fs&&(!qw||Su&&8<Su&&11>=Su),SC=" ",IC=!1;function XP(t,e){switch(t){case"keyup":return M3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function L3(t,e){switch(t){case"compositionend":return JP(e);case"keypress":return e.which!==32?null:(IC=!0,SC);case"textInput":return t=e.data,t===SC&&IC?null:t;default:return null}}function j3(t,e){if(Xa)return t==="compositionend"||!qw&&XP(t,e)?(t=QP(),Mf=zw=Ri=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YP&&e.locale!=="ko"?null:e.data;default:return null}}var V3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V3[t.type]:e==="textarea"}function ZP(t,e,n,r){PP(r),e=wp(e,"onChange"),0<e.length&&(n=new Ww("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Iu=null,nd=null;function F3(t){uN(t,0)}function Hm(t){var e=el(t);if(TP(e))return t}function U3(t,e){if(t==="change")return e}var eN=!1;if(Fs){var Gy;if(Fs){var Ky="oninput"in document;if(!Ky){var RC=document.createElement("div");RC.setAttribute("oninput","return;"),Ky=typeof RC.oninput=="function"}Gy=Ky}else Gy=!1;eN=Gy&&(!document.documentMode||9<document.documentMode)}function PC(){Iu&&(Iu.detachEvent("onpropertychange",tN),nd=Iu=null)}function tN(t){if(t.propertyName==="value"&&Hm(nd)){var e=[];ZP(e,nd,t,Vw(t)),MP(F3,e)}}function B3(t,e,n){t==="focusin"?(PC(),Iu=e,nd=n,Iu.attachEvent("onpropertychange",tN)):t==="focusout"&&PC()}function $3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hm(nd)}function z3(t,e){if(t==="click")return Hm(e)}function W3(t,e){if(t==="input"||t==="change")return Hm(e)}function H3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:H3;function rd(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u_.call(e,s)||!Dr(t[s],e[s]))return!1}return!0}function NC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kC(t,e){var n=NC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NC(n)}}function nN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rN(){for(var t=window,e=fp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fp(t.document)}return e}function Gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function q3(t){var e=rN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nN(n.ownerDocument.documentElement,n)){if(r!==null&&Gw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=kC(n,i);var o=kC(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G3=Fs&&"documentMode"in document&&11>=document.documentMode,Ja=null,R_=null,Au=null,P_=!1;function DC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;P_||Ja==null||Ja!==fp(r)||(r=Ja,"selectionStart"in r&&Gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Au&&rd(Au,r)||(Au=r,r=wp(R_,"onSelect"),0<r.length&&(e=new Ww("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ja)))}function ef(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Za={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionend:ef("Transition","TransitionEnd")},Qy={},sN={};Fs&&(sN=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function qm(t){if(Qy[t])return Qy[t];if(!Za[t])return t;var e=Za[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sN)return Qy[t]=e[n];return t}var iN=qm("animationend"),oN=qm("animationiteration"),aN=qm("animationstart"),lN=qm("transitionend"),cN=new Map,MC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(t,e){cN.set(t,e),wa(e,[t])}for(var Yy=0;Yy<MC.length;Yy++){var Xy=MC[Yy],K3=Xy.toLowerCase(),Q3=Xy[0].toUpperCase()+Xy.slice(1);go(K3,"on"+Q3)}go(iN,"onAnimationEnd");go(oN,"onAnimationIteration");go(aN,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(lN,"onTransitionEnd");Fl("onMouseEnter",["mouseout","mouseover"]);Fl("onMouseLeave",["mouseout","mouseover"]);Fl("onPointerEnter",["pointerout","pointerover"]);Fl("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y3=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function OC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K5(r,e,void 0,t),t.currentTarget=null}function uN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;OC(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;OC(s,a,c),i=l}}}if(mp)throw t=C_,mp=!1,C_=null,t}function Ye(t,e){var n=e[O_];n===void 0&&(n=e[O_]=new Set);var r=t+"__bubble";n.has(r)||(dN(e,t,2,!1),n.add(r))}function Jy(t,e,n){var r=0;e&&(r|=4),dN(n,t,r,e)}var tf="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[tf]){t[tf]=!0,vP.forEach(function(n){n!=="selectionchange"&&(Y3.has(n)||Jy(n,!1,t),Jy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tf]||(e[tf]=!0,Jy("selectionchange",!1,e))}}function dN(t,e,n,r){switch(KP(e)){case 1:var s=u3;break;case 4:s=d3;break;default:s=$w}n=s.bind(null,e,n,t),s=void 0,!b_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Fo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}MP(function(){var c=i,u=Vw(n),h=[];e:{var p=cN.get(t);if(p!==void 0){var m=Ww,y=t;switch(t){case"keypress":if(Of(n)===0)break e;case"keydown":case"keyup":m=S3;break;case"focusin":y="focus",m=qy;break;case"focusout":y="blur",m=qy;break;case"beforeblur":case"afterblur":m=qy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=TC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=p3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=R3;break;case iN:case oN:case aN:m=y3;break;case lN:m=N3;break;case"scroll":m=h3;break;case"wheel":m=D3;break;case"copy":case"cut":case"paste":m=_3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=CC}var _=(e&4)!==0,x=!_&&t==="scroll",T=_?p!==null?p+"Capture":null:p;_=[];for(var w=c,b;w!==null;){b=w;var R=b.stateNode;if(b.tag===5&&R!==null&&(b=R,T!==null&&(R=Ju(w,T),R!=null&&_.push(id(w,R,b)))),x)break;w=w.return}0<_.length&&(p=new m(p,y,null,n,u),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==E_&&(y=n.relatedTarget||n.fromElement)&&(Fo(y)||y[Us]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Fo(y):null,y!==null&&(x=xa(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(_=TC,R="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=CC,R="onPointerLeave",T="onPointerEnter",w="pointer"),x=m==null?p:el(m),b=y==null?p:el(y),p=new _(R,w+"leave",m,n,u),p.target=x,p.relatedTarget=b,R=null,Fo(u)===c&&(_=new _(T,w+"enter",y,n,u),_.target=b,_.relatedTarget=x,R=_),x=R,m&&y)t:{for(_=m,T=y,w=0,b=_;b;b=Ua(b))w++;for(b=0,R=T;R;R=Ua(R))b++;for(;0<w-b;)_=Ua(_),w--;for(;0<b-w;)T=Ua(T),b--;for(;w--;){if(_===T||T!==null&&_===T.alternate)break t;_=Ua(_),T=Ua(T)}_=null}else _=null;m!==null&&LC(h,p,m,_,!1),y!==null&&x!==null&&LC(h,x,y,_,!0)}}e:{if(p=c?el(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=U3;else if(AC(p))if(eN)k=W3;else{k=$3;var O=B3}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=z3);if(k&&(k=k(t,c))){ZP(h,k,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&y_(p,"number",p.value)}switch(O=c?el(c):window,t){case"focusin":(AC(O)||O.contentEditable==="true")&&(Ja=O,R_=c,Au=null);break;case"focusout":Au=R_=Ja=null;break;case"mousedown":P_=!0;break;case"contextmenu":case"mouseup":case"dragend":P_=!1,DC(h,n,u);break;case"selectionchange":if(G3)break;case"keydown":case"keyup":DC(h,n,u)}var S;if(qw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Xa?XP(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(YP&&n.locale!=="ko"&&(Xa||C!=="onCompositionStart"?C==="onCompositionEnd"&&Xa&&(S=QP()):(Ri=u,zw="value"in Ri?Ri.value:Ri.textContent,Xa=!0)),O=wp(c,C),0<O.length&&(C=new bC(C,t,null,n,u),h.push({event:C,listeners:O}),S?C.data=S:(S=JP(n),S!==null&&(C.data=S)))),(S=O3?L3(t,n):j3(t,n))&&(c=wp(c,"onBeforeInput"),0<c.length&&(u=new bC("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=S))}uN(h,e)})}function id(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ju(t,n),i!=null&&r.unshift(id(t,i,s)),i=Ju(t,e),i!=null&&r.push(id(t,i,s))),t=t.return}return r}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LC(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ju(n,i),l!=null&&o.unshift(id(n,l,a))):s||(l=Ju(n,i),l!=null&&o.push(id(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var X3=/\r\n?/g,J3=/\u0000|\uFFFD/g;function jC(t){return(typeof t=="string"?t:""+t).replace(X3,`
`).replace(J3,"")}function nf(t,e,n){if(e=jC(e),jC(t)!==e&&n)throw Error(q(425))}function xp(){}var N_=null,k_=null;function D_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var M_=typeof setTimeout=="function"?setTimeout:void 0,Z3=typeof clearTimeout=="function"?clearTimeout:void 0,VC=typeof Promise=="function"?Promise:void 0,e6=typeof queueMicrotask=="function"?queueMicrotask:typeof VC<"u"?function(t){return VC.resolve(null).then(t).catch(t6)}:M_;function t6(t){setTimeout(function(){throw t})}function ev(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),td(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);td(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uc=Math.random().toString(36).slice(2),es="__reactFiber$"+uc,od="__reactProps$"+uc,Us="__reactContainer$"+uc,O_="__reactEvents$"+uc,n6="__reactListeners$"+uc,r6="__reactHandles$"+uc;function Fo(t){var e=t[es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Us]||n[es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FC(t);t!==null;){if(n=t[es])return n;t=FC(t)}return e}t=n,n=t.parentNode}return null}function Qd(t){return t=t[es]||t[Us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function el(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Gm(t){return t[od]||null}var L_=[],tl=-1;function yo(t){return{current:t}}function Ze(t){0>tl||(t.current=L_[tl],L_[tl]=null,tl--)}function qe(t,e){tl++,L_[tl]=t.current,t.current=e}var Ji={},ln=yo(Ji),An=yo(!1),na=Ji;function Ul(t,e){var n=t.type.contextTypes;if(!n)return Ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Rn(t){return t=t.childContextTypes,t!=null}function Ep(){Ze(An),Ze(ln)}function UC(t,e,n){if(ln.current!==Ji)throw Error(q(168));qe(ln,e),qe(An,n)}function hN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,B5(t)||"Unknown",s));return at({},n,r)}function Tp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,na=ln.current,qe(ln,t),qe(An,An.current),!0}function BC(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=hN(t,e,na),r.__reactInternalMemoizedMergedChildContext=t,Ze(An),Ze(ln),qe(ln,t)):Ze(An),qe(An,n)}var Cs=null,Km=!1,tv=!1;function fN(t){Cs===null?Cs=[t]:Cs.push(t)}function s6(t){Km=!0,fN(t)}function vo(){if(!tv&&Cs!==null){tv=!0;var t=0,e=Ve;try{var n=Cs;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cs=null,Km=!1}catch(s){throw Cs!==null&&(Cs=Cs.slice(t+1)),VP(Fw,vo),s}finally{Ve=e,tv=!1}}return null}var nl=[],rl=0,bp=null,Cp=0,sr=[],ir=0,ra=null,Ss=1,Is="";function Do(t,e){nl[rl++]=Cp,nl[rl++]=bp,bp=t,Cp=e}function pN(t,e,n){sr[ir++]=Ss,sr[ir++]=Is,sr[ir++]=ra,ra=t;var r=Ss;t=Is;var s=32-Rr(r)-1;r&=~(1<<s),n+=1;var i=32-Rr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ss=1<<32-Rr(e)+s|n<<s|r,Is=i+t}else Ss=1<<i|n<<s|r,Is=t}function Kw(t){t.return!==null&&(Do(t,1),pN(t,1,0))}function Qw(t){for(;t===bp;)bp=nl[--rl],nl[rl]=null,Cp=nl[--rl],nl[rl]=null;for(;t===ra;)ra=sr[--ir],sr[ir]=null,Is=sr[--ir],sr[ir]=null,Ss=sr[--ir],sr[ir]=null}var Gn=null,qn=null,nt=!1,br=null;function mN(t,e){var n=ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $C(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gn=t,qn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ra!==null?{id:Ss,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gn=t,qn=null,!0):!1;default:return!1}}function j_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function V_(t){if(nt){var e=qn;if(e){var n=e;if(!$C(t,e)){if(j_(t))throw Error(q(418));e=Li(n.nextSibling);var r=Gn;e&&$C(t,e)?mN(r,n):(t.flags=t.flags&-4097|2,nt=!1,Gn=t)}}else{if(j_(t))throw Error(q(418));t.flags=t.flags&-4097|2,nt=!1,Gn=t}}}function zC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gn=t}function rf(t){if(t!==Gn)return!1;if(!nt)return zC(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!D_(t.type,t.memoizedProps)),e&&(e=qn)){if(j_(t))throw gN(),Error(q(418));for(;e;)mN(t,e),e=Li(e.nextSibling)}if(zC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Gn?Li(t.stateNode.nextSibling):null;return!0}function gN(){for(var t=qn;t;)t=Li(t.nextSibling)}function Bl(){qn=Gn=null,nt=!1}function Yw(t){br===null?br=[t]:br.push(t)}var i6=Js.ReactCurrentBatchConfig;function Zc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function sf(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WC(t){var e=t._init;return e(t._payload)}function yN(t){function e(T,w){if(t){var b=T.deletions;b===null?(T.deletions=[w],T.flags|=16):b.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function s(T,w){return T=Ui(T,w),T.index=0,T.sibling=null,T}function i(T,w,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<w?(T.flags|=2,w):b):(T.flags|=2,w)):(T.flags|=1048576,w)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,w,b,R){return w===null||w.tag!==6?(w=lv(b,T.mode,R),w.return=T,w):(w=s(w,b),w.return=T,w)}function l(T,w,b,R){var k=b.type;return k===Ya?u(T,w,b.props.children,R,b.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===mi&&WC(k)===w.type)?(R=s(w,b.props),R.ref=Zc(T,w,b),R.return=T,R):(R=$f(b.type,b.key,b.props,null,T.mode,R),R.ref=Zc(T,w,b),R.return=T,R)}function c(T,w,b,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=cv(b,T.mode,R),w.return=T,w):(w=s(w,b.children||[]),w.return=T,w)}function u(T,w,b,R,k){return w===null||w.tag!==7?(w=Jo(b,T.mode,R,k),w.return=T,w):(w=s(w,b),w.return=T,w)}function h(T,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=lv(""+w,T.mode,b),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gh:return b=$f(w.type,w.key,w.props,null,T.mode,b),b.ref=Zc(T,null,w),b.return=T,b;case Qa:return w=cv(w,T.mode,b),w.return=T,w;case mi:var R=w._init;return h(T,R(w._payload),b)}if(fu(w)||Kc(w))return w=Jo(w,T.mode,b,null),w.return=T,w;sf(T,w)}return null}function p(T,w,b,R){var k=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:a(T,w,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gh:return b.key===k?l(T,w,b,R):null;case Qa:return b.key===k?c(T,w,b,R):null;case mi:return k=b._init,p(T,w,k(b._payload),R)}if(fu(b)||Kc(b))return k!==null?null:u(T,w,b,R,null);sf(T,b)}return null}function m(T,w,b,R,k){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(b)||null,a(w,T,""+R,k);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Gh:return T=T.get(R.key===null?b:R.key)||null,l(w,T,R,k);case Qa:return T=T.get(R.key===null?b:R.key)||null,c(w,T,R,k);case mi:var O=R._init;return m(T,w,b,O(R._payload),k)}if(fu(R)||Kc(R))return T=T.get(b)||null,u(w,T,R,k,null);sf(w,R)}return null}function y(T,w,b,R){for(var k=null,O=null,S=w,C=w=0,I=null;S!==null&&C<b.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var P=p(T,S,b[C],R);if(P===null){S===null&&(S=I);break}t&&S&&P.alternate===null&&e(T,S),w=i(P,w,C),O===null?k=P:O.sibling=P,O=P,S=I}if(C===b.length)return n(T,S),nt&&Do(T,C),k;if(S===null){for(;C<b.length;C++)S=h(T,b[C],R),S!==null&&(w=i(S,w,C),O===null?k=S:O.sibling=S,O=S);return nt&&Do(T,C),k}for(S=r(T,S);C<b.length;C++)I=m(S,T,C,b[C],R),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),w=i(I,w,C),O===null?k=I:O.sibling=I,O=I);return t&&S.forEach(function(D){return e(T,D)}),nt&&Do(T,C),k}function _(T,w,b,R){var k=Kc(b);if(typeof k!="function")throw Error(q(150));if(b=k.call(b),b==null)throw Error(q(151));for(var O=k=null,S=w,C=w=0,I=null,P=b.next();S!==null&&!P.done;C++,P=b.next()){S.index>C?(I=S,S=null):I=S.sibling;var D=p(T,S,P.value,R);if(D===null){S===null&&(S=I);break}t&&S&&D.alternate===null&&e(T,S),w=i(D,w,C),O===null?k=D:O.sibling=D,O=D,S=I}if(P.done)return n(T,S),nt&&Do(T,C),k;if(S===null){for(;!P.done;C++,P=b.next())P=h(T,P.value,R),P!==null&&(w=i(P,w,C),O===null?k=P:O.sibling=P,O=P);return nt&&Do(T,C),k}for(S=r(T,S);!P.done;C++,P=b.next())P=m(S,T,C,P.value,R),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?C:P.key),w=i(P,w,C),O===null?k=P:O.sibling=P,O=P);return t&&S.forEach(function(M){return e(T,M)}),nt&&Do(T,C),k}function x(T,w,b,R){if(typeof b=="object"&&b!==null&&b.type===Ya&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Gh:e:{for(var k=b.key,O=w;O!==null;){if(O.key===k){if(k=b.type,k===Ya){if(O.tag===7){n(T,O.sibling),w=s(O,b.props.children),w.return=T,T=w;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===mi&&WC(k)===O.type){n(T,O.sibling),w=s(O,b.props),w.ref=Zc(T,O,b),w.return=T,T=w;break e}n(T,O);break}else e(T,O);O=O.sibling}b.type===Ya?(w=Jo(b.props.children,T.mode,R,b.key),w.return=T,T=w):(R=$f(b.type,b.key,b.props,null,T.mode,R),R.ref=Zc(T,w,b),R.return=T,T=R)}return o(T);case Qa:e:{for(O=b.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(T,w.sibling),w=s(w,b.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=cv(b,T.mode,R),w.return=T,T=w}return o(T);case mi:return O=b._init,x(T,w,O(b._payload),R)}if(fu(b))return y(T,w,b,R);if(Kc(b))return _(T,w,b,R);sf(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(T,w.sibling),w=s(w,b),w.return=T,T=w):(n(T,w),w=lv(b,T.mode,R),w.return=T,T=w),o(T)):n(T,w)}return x}var $l=yN(!0),vN=yN(!1),Sp=yo(null),Ip=null,sl=null,Xw=null;function Jw(){Xw=sl=Ip=null}function Zw(t){var e=Sp.current;Ze(Sp),t._currentValue=e}function F_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vl(t,e){Ip=t,Xw=sl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function ur(t){var e=t._currentValue;if(Xw!==t)if(t={context:t,memoizedValue:e,next:null},sl===null){if(Ip===null)throw Error(q(308));sl=t,Ip.dependencies={lanes:0,firstContext:t}}else sl=sl.next=t;return e}var Uo=null;function ex(t){Uo===null?Uo=[t]:Uo.push(t)}function _N(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ex(e)):(n.next=s.next,s.next=n),e.interleaved=n,Bs(t,r)}function Bs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gi=!1;function tx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Bs(t,n)}return s=r.interleaved,s===null?(e.next=e,ex(r)):(e.next=s.next,s.next=e),r.interleaved=e,Bs(t,n)}function Lf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uw(t,n)}}function HC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ap(t,e,n,r){var s=t.updateQueue;gi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(p=e,m=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=at({},h,p);break e;case 2:gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ia|=o,t.lanes=o,t.memoizedState=h}}function qC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Yd={},rs=yo(Yd),ad=yo(Yd),ld=yo(Yd);function Bo(t){if(t===Yd)throw Error(q(174));return t}function nx(t,e){switch(qe(ld,e),qe(ad,t),qe(rs,Yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:__(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=__(e,t)}Ze(rs),qe(rs,e)}function zl(){Ze(rs),Ze(ad),Ze(ld)}function xN(t){Bo(ld.current);var e=Bo(rs.current),n=__(e,t.type);e!==n&&(qe(ad,t),qe(rs,n))}function rx(t){ad.current===t&&(Ze(rs),Ze(ad))}var rt=yo(0);function Rp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nv=[];function sx(){for(var t=0;t<nv.length;t++)nv[t]._workInProgressVersionPrimary=null;nv.length=0}var jf=Js.ReactCurrentDispatcher,rv=Js.ReactCurrentBatchConfig,sa=0,ot=null,Rt=null,jt=null,Pp=!1,Ru=!1,cd=0,o6=0;function Jt(){throw Error(q(321))}function ix(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function ox(t,e,n,r,s,i){if(sa=i,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jf.current=t===null||t.memoizedState===null?u6:d6,t=n(r,s),Ru){i=0;do{if(Ru=!1,cd=0,25<=i)throw Error(q(301));i+=1,jt=Rt=null,e.updateQueue=null,jf.current=h6,t=n(r,s)}while(Ru)}if(jf.current=Np,e=Rt!==null&&Rt.next!==null,sa=0,jt=Rt=ot=null,Pp=!1,e)throw Error(q(300));return t}function ax(){var t=cd!==0;return cd=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ot.memoizedState=jt=t:jt=jt.next=t,jt}function dr(){if(Rt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=jt===null?ot.memoizedState:jt.next;if(e!==null)jt=e,Rt=t;else{if(t===null)throw Error(q(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},jt===null?ot.memoizedState=jt=t:jt=jt.next=t}return jt}function ud(t,e){return typeof e=="function"?e(t):e}function sv(t){var e=dr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((sa&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ot.lanes|=u,ia|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Dr(r,e.memoizedState)||(Sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ot.lanes|=i,ia|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function iv(t){var e=dr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Dr(i,e.memoizedState)||(Sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function EN(){}function TN(t,e){var n=ot,r=dr(),s=e(),i=!Dr(r.memoizedState,s);if(i&&(r.memoizedState=s,Sn=!0),r=r.queue,lx(SN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,dd(9,CN.bind(null,n,r,s,e),void 0,null),Ft===null)throw Error(q(349));sa&30||bN(n,e,s)}return s}function bN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CN(t,e,n,r){e.value=n,e.getSnapshot=r,IN(e)&&AN(t)}function SN(t,e,n){return n(function(){IN(e)&&AN(t)})}function IN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function AN(t){var e=Bs(t,1);e!==null&&Pr(e,t,1,-1)}function GC(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:t},e.queue=t,t=t.dispatch=c6.bind(null,ot,t),[e.memoizedState,t]}function dd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function RN(){return dr().memoizedState}function Vf(t,e,n,r){var s=Kr();ot.flags|=t,s.memoizedState=dd(1|e,n,void 0,r===void 0?null:r)}function Qm(t,e,n,r){var s=dr();r=r===void 0?null:r;var i=void 0;if(Rt!==null){var o=Rt.memoizedState;if(i=o.destroy,r!==null&&ix(r,o.deps)){s.memoizedState=dd(e,n,i,r);return}}ot.flags|=t,s.memoizedState=dd(1|e,n,i,r)}function KC(t,e){return Vf(8390656,8,t,e)}function lx(t,e){return Qm(2048,8,t,e)}function PN(t,e){return Qm(4,2,t,e)}function NN(t,e){return Qm(4,4,t,e)}function kN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DN(t,e,n){return n=n!=null?n.concat([t]):null,Qm(4,4,kN.bind(null,e,t),n)}function cx(){}function MN(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ix(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ON(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ix(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LN(t,e,n){return sa&21?(Dr(n,e)||(n=BP(),ot.lanes|=n,ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=n)}function a6(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=rv.transition;rv.transition={};try{t(!1),e()}finally{Ve=n,rv.transition=r}}function jN(){return dr().memoizedState}function l6(t,e,n){var r=Fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VN(t))FN(e,n);else if(n=_N(t,e,n,r),n!==null){var s=yn();Pr(n,t,r,s),UN(n,e,r)}}function c6(t,e,n){var r=Fi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VN(t))FN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Dr(a,o)){var l=e.interleaved;l===null?(s.next=s,ex(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=_N(t,e,s,r),n!==null&&(s=yn(),Pr(n,t,r,s),UN(n,e,r))}}function VN(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function FN(t,e){Ru=Pp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uw(t,n)}}var Np={readContext:ur,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},u6={readContext:ur,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:ur,useEffect:KC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vf(4194308,4,kN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vf(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l6.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:GC,useDebugValue:cx,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=GC(!1),e=t[0];return t=a6.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,s=Kr();if(nt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Ft===null)throw Error(q(349));sa&30||bN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,KC(SN.bind(null,r,i,t),[t]),r.flags|=2048,dd(9,CN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kr(),e=Ft.identifierPrefix;if(nt){var n=Is,r=Ss;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d6={readContext:ur,useCallback:MN,useContext:ur,useEffect:lx,useImperativeHandle:DN,useInsertionEffect:PN,useLayoutEffect:NN,useMemo:ON,useReducer:sv,useRef:RN,useState:function(){return sv(ud)},useDebugValue:cx,useDeferredValue:function(t){var e=dr();return LN(e,Rt.memoizedState,t)},useTransition:function(){var t=sv(ud)[0],e=dr().memoizedState;return[t,e]},useMutableSource:EN,useSyncExternalStore:TN,useId:jN,unstable_isNewReconciler:!1},h6={readContext:ur,useCallback:MN,useContext:ur,useEffect:lx,useImperativeHandle:DN,useInsertionEffect:PN,useLayoutEffect:NN,useMemo:ON,useReducer:iv,useRef:RN,useState:function(){return iv(ud)},useDebugValue:cx,useDeferredValue:function(t){var e=dr();return Rt===null?e.memoizedState=t:LN(e,Rt.memoizedState,t)},useTransition:function(){var t=iv(ud)[0],e=dr().memoizedState;return[t,e]},useMutableSource:EN,useSyncExternalStore:TN,useId:jN,unstable_isNewReconciler:!1};function wr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function U_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ym={isMounted:function(t){return(t=t._reactInternals)?xa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),s=Fi(t),i=Ds(r,s);i.payload=e,n!=null&&(i.callback=n),e=ji(t,i,s),e!==null&&(Pr(e,t,s,r),Lf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),s=Fi(t),i=Ds(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ji(t,i,s),e!==null&&(Pr(e,t,s,r),Lf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=Fi(t),s=Ds(n,r);s.tag=2,e!=null&&(s.callback=e),e=ji(t,s,r),e!==null&&(Pr(e,t,r,n),Lf(e,t,r))}};function QC(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!rd(n,r)||!rd(s,i):!0}function BN(t,e,n){var r=!1,s=Ji,i=e.contextType;return typeof i=="object"&&i!==null?i=ur(i):(s=Rn(e)?na:ln.current,r=e.contextTypes,i=(r=r!=null)?Ul(t,s):Ji),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ym,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function YC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ym.enqueueReplaceState(e,e.state,null)}function B_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},tx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ur(i):(i=Rn(e)?na:ln.current,s.context=Ul(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(U_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ym.enqueueReplaceState(s,s.state,null),Ap(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wl(t,e){try{var n="",r=e;do n+=U5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ov(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var f6=typeof WeakMap=="function"?WeakMap:Map;function $N(t,e,n){n=Ds(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dp||(Dp=!0,J_=r),$_(t,e)},n}function zN(t,e,n){n=Ds(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){$_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$_(t,e),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new f6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=I6.bind(null,t,e,n),e.then(t,t))}function JC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ds(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var p6=Js.ReactCurrentOwner,Sn=!1;function pn(t,e,n,r){e.child=t===null?vN(e,null,n,r):$l(e,t.child,n,r)}function eS(t,e,n,r,s){n=n.render;var i=e.ref;return vl(e,s),r=ox(t,e,n,r,i,s),n=ax(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$s(t,e,s)):(nt&&n&&Kw(e),e.flags|=1,pn(t,e,r,s),e.child)}function tS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!yx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,WN(t,e,i,r,s)):(t=$f(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:rd,n(o,r)&&t.ref===e.ref)return $s(t,e,s)}return e.flags|=1,t=Ui(i,r),t.ref=e.ref,t.return=e,e.child=t}function WN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(rd(i,r)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,$s(t,e,s)}return z_(t,e,n,r,s)}function HN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ol,zn),zn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(ol,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qe(ol,zn),zn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qe(ol,zn),zn|=r;return pn(t,e,s,n),e.child}function qN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function z_(t,e,n,r,s){var i=Rn(n)?na:ln.current;return i=Ul(e,i),vl(e,s),n=ox(t,e,n,r,i,s),r=ax(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$s(t,e,s)):(nt&&r&&Kw(e),e.flags|=1,pn(t,e,n,s),e.child)}function nS(t,e,n,r,s){if(Rn(n)){var i=!0;Tp(e)}else i=!1;if(vl(e,s),e.stateNode===null)Ff(t,e),BN(e,n,r),B_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ur(c):(c=Rn(n)?na:ln.current,c=Ul(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&YC(e,o,r,c),gi=!1;var p=e.memoizedState;o.state=p,Ap(e,r,o,s),l=e.memoizedState,a!==r||p!==l||An.current||gi?(typeof u=="function"&&(U_(e,n,u,r),l=e.memoizedState),(a=gi||QC(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=Rn(n)?na:ln.current,l=Ul(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&YC(e,o,r,l),gi=!1,p=e.memoizedState,o.state=p,Ap(e,r,o,s);var y=e.memoizedState;a!==h||p!==y||An.current||gi?(typeof m=="function"&&(U_(e,n,m,r),y=e.memoizedState),(c=gi||QC(e,n,c,r,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return W_(t,e,n,r,i,s)}function W_(t,e,n,r,s,i){qN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&BC(e,n,!1),$s(t,e,i);r=e.stateNode,p6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$l(e,t.child,null,i),e.child=$l(e,null,a,i)):pn(t,e,a,i),e.memoizedState=r.state,s&&BC(e,n,!0),e.child}function GN(t){var e=t.stateNode;e.pendingContext?UC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&UC(t,e.context,!1),nx(t,e.containerInfo)}function rS(t,e,n,r,s){return Bl(),Yw(s),e.flags|=256,pn(t,e,n,r),e.child}var H_={dehydrated:null,treeContext:null,retryLane:0};function q_(t){return{baseLanes:t,cachePool:null,transitions:null}}function KN(t,e,n){var r=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(rt,s&1),t===null)return V_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zm(o,r,0,null),t=Jo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=q_(n),e.memoizedState=H_,t):ux(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return m6(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ui(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ui(a,i):(i=Jo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?q_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=H_,r}return i=t.child,t=i.sibling,r=Ui(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ux(t,e){return e=Zm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function of(t,e,n,r){return r!==null&&Yw(r),$l(e,t.child,null,n),t=ux(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function m6(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ov(Error(q(422))),of(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zm({mode:"visible",children:r.children},s,0,null),i=Jo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$l(e,t.child,null,o),e.child.memoizedState=q_(o),e.memoizedState=H_,i);if(!(e.mode&1))return of(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=ov(i,r,void 0),of(t,e,o,r)}if(a=(o&t.childLanes)!==0,Sn||a){if(r=Ft,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bs(t,s),Pr(r,t,s,-1))}return gx(),r=ov(Error(q(421))),of(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=A6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qn=Li(s.nextSibling),Gn=e,nt=!0,br=null,t!==null&&(sr[ir++]=Ss,sr[ir++]=Is,sr[ir++]=ra,Ss=t.id,Is=t.overflow,ra=e),e=ux(e,r.children),e.flags|=4096,e)}function sS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),F_(t.return,e,n)}function av(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function QN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sS(t,n,e);else if(t.tag===19)sS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Rp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),av(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Rp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}av(e,!0,n,null,i);break;case"together":av(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ff(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $s(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function g6(t,e,n){switch(e.tag){case 3:GN(e),Bl();break;case 5:xN(e);break;case 1:Rn(e.type)&&Tp(e);break;case 4:nx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qe(Sp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?KN(t,e,n):(qe(rt,rt.current&1),t=$s(t,e,n),t!==null?t.sibling:null);qe(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,HN(t,e,n)}return $s(t,e,n)}var YN,G_,XN,JN;YN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};G_=function(){};XN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Bo(rs.current);var i=null;switch(n){case"input":s=m_(t,s),r=m_(t,r),i=[];break;case"select":s=at({},s,{value:void 0}),r=at({},r,{value:void 0}),i=[];break;case"textarea":s=v_(t,s),r=v_(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xp)}w_(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ye("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};JN=function(t,e,n,r){n!==r&&(e.flags|=4)};function eu(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function y6(t,e,n){var r=e.pendingProps;switch(Qw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Rn(e.type)&&Ep(),Zt(e),null;case 3:return r=e.stateNode,zl(),Ze(An),Ze(ln),sx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(t0(br),br=null))),G_(t,e),Zt(e),null;case 5:rx(e);var s=Bo(ld.current);if(n=e.type,t!==null&&e.stateNode!=null)XN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Zt(e),null}if(t=Bo(rs.current),rf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[es]=e,r[od]=i,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(s=0;s<mu.length;s++)Ye(mu[s],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":fC(r,i),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",r);break;case"textarea":mC(r,i),Ye("invalid",r)}w_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&nf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&nf(r.textContent,a,t),s=["children",""+a]):Yu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Kh(r),pC(r,i,!0);break;case"textarea":Kh(r),gC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=SP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[es]=e,t[od]=r,YN(t,e,!1,!1),e.stateNode=t;e:{switch(o=x_(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),s=r;break;case"iframe":case"object":case"embed":Ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<mu.length;s++)Ye(mu[s],t);s=r;break;case"source":Ye("error",t),s=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),s=r;break;case"details":Ye("toggle",t),s=r;break;case"input":fC(t,r),s=m_(t,r),Ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=at({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":mC(t,r),s=v_(t,r),Ye("invalid",t);break;default:s=r}w_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?RP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xu(t,l):typeof l=="number"&&Xu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ye("scroll",t):l!=null&&Mw(t,i,l,o))}switch(n){case"input":Kh(t),pC(t,r,!1);break;case"textarea":Kh(t),gC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pl(t,!!r.multiple,i,!1):r.defaultValue!=null&&pl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)JN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Bo(ld.current),Bo(rs.current),rf(e)){if(r=e.stateNode,n=e.memoizedProps,r[es]=e,(i=r.nodeValue!==n)&&(t=Gn,t!==null))switch(t.tag){case 3:nf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[es]=e,e.stateNode=r}return Zt(e),null;case 13:if(Ze(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&qn!==null&&e.mode&1&&!(e.flags&128))gN(),Bl(),e.flags|=98560,i=!1;else if(i=rf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[es]=e}else Bl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),i=!1}else br!==null&&(t0(br),br=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?kt===0&&(kt=3):gx())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return zl(),G_(t,e),t===null&&sd(e.stateNode.containerInfo),Zt(e),null;case 10:return Zw(e.type._context),Zt(e),null;case 17:return Rn(e.type)&&Ep(),Zt(e),null;case 19:if(Ze(rt),i=e.memoizedState,i===null)return Zt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)eu(i,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rp(t),o!==null){for(e.flags|=128,eu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&gt()>Hl&&(e.flags|=128,r=!0,eu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Rp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nt)return Zt(e),null}else 2*gt()-i.renderingStartTime>Hl&&n!==1073741824&&(e.flags|=128,r=!0,eu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=gt(),e.sibling=null,n=rt.current,qe(rt,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return mx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function v6(t,e){switch(Qw(e),e.tag){case 1:return Rn(e.type)&&Ep(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zl(),Ze(An),Ze(ln),sx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rx(e),null;case 13:if(Ze(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Bl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(rt),null;case 4:return zl(),null;case 10:return Zw(e.type._context),null;case 22:case 23:return mx(),null;case 24:return null;default:return null}}var af=!1,rn=!1,_6=typeof WeakSet=="function"?WeakSet:Set,ne=null;function il(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function K_(t,e,n){try{n()}catch(r){dt(t,e,r)}}var iS=!1;function w6(t,e){if(N_=vp,t=rN(),Gw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(k_={focusedElem:t,selectionRange:n},vp=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?_:wr(e.type,_),x);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(R){dt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return y=iS,iS=!1,y}function Pu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&K_(e,n,i)}s=s.next}while(s!==r)}}function Xm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Q_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZN(t){var e=t.alternate;e!==null&&(t.alternate=null,ZN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[es],delete e[od],delete e[O_],delete e[n6],delete e[r6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ek(t){return t.tag===5||t.tag===3||t.tag===4}function oS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ek(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Y_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xp));else if(r!==4&&(t=t.child,t!==null))for(Y_(t,e,n),t=t.sibling;t!==null;)Y_(t,e,n),t=t.sibling}function X_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(X_(t,e,n),t=t.sibling;t!==null;)X_(t,e,n),t=t.sibling}var $t=null,Tr=!1;function li(t,e,n){for(n=n.child;n!==null;)tk(t,e,n),n=n.sibling}function tk(t,e,n){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(zm,n)}catch{}switch(n.tag){case 5:rn||il(n,e);case 6:var r=$t,s=Tr;$t=null,li(t,e,n),$t=r,Tr=s,$t!==null&&(Tr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(Tr?(t=$t,n=n.stateNode,t.nodeType===8?ev(t.parentNode,n):t.nodeType===1&&ev(t,n),td(t)):ev($t,n.stateNode));break;case 4:r=$t,s=Tr,$t=n.stateNode.containerInfo,Tr=!0,li(t,e,n),$t=r,Tr=s;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&K_(n,e,o),s=s.next}while(s!==r)}li(t,e,n);break;case 1:if(!rn&&(il(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}li(t,e,n);break;case 21:li(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,li(t,e,n),rn=r):li(t,e,n);break;default:li(t,e,n)}}function aS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _6),e.forEach(function(r){var s=R6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,Tr=!1;break e;case 3:$t=a.stateNode.containerInfo,Tr=!0;break e;case 4:$t=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if($t===null)throw Error(q(160));tk(i,o,s),$t=null,Tr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){dt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nk(e,t),e=e.sibling}function nk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),qr(t),r&4){try{Pu(3,t,t.return),Xm(3,t)}catch(_){dt(t,t.return,_)}try{Pu(5,t,t.return)}catch(_){dt(t,t.return,_)}}break;case 1:vr(e,t),qr(t),r&512&&n!==null&&il(n,n.return);break;case 5:if(vr(e,t),qr(t),r&512&&n!==null&&il(n,n.return),t.flags&32){var s=t.stateNode;try{Xu(s,"")}catch(_){dt(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bP(s,i),x_(a,o);var c=x_(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?RP(s,h):u==="dangerouslySetInnerHTML"?IP(s,h):u==="children"?Xu(s,h):Mw(s,u,h,c)}switch(a){case"input":g_(s,i);break;case"textarea":CP(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?pl(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?pl(s,!!i.multiple,i.defaultValue,!0):pl(s,!!i.multiple,i.multiple?[]:"",!1))}s[od]=i}catch(_){dt(t,t.return,_)}}break;case 6:if(vr(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){dt(t,t.return,_)}}break;case 3:if(vr(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{td(e.containerInfo)}catch(_){dt(t,t.return,_)}break;case 4:vr(e,t),qr(t);break;case 13:vr(e,t),qr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fx=gt())),r&4&&aS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(c=rn)||u,vr(e,t),rn=c):vr(e,t),qr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ne=t,u=t.child;u!==null;){for(h=ne=u;ne!==null;){switch(p=ne,m=p.child,p.tag){case 0:case 11:case 14:case 15:Pu(4,p,p.return);break;case 1:il(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){dt(r,n,_)}}break;case 5:il(p,p.return);break;case 22:if(p.memoizedState!==null){cS(h);continue}}m!==null?(m.return=p,ne=m):cS(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=AP("display",o))}catch(_){dt(t,t.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){dt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vr(e,t),qr(t),r&4&&aS(t);break;case 21:break;default:vr(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ek(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xu(s,""),r.flags&=-33);var i=oS(t);X_(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=oS(t);Y_(t,a,o);break;default:throw Error(q(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x6(t,e,n){ne=t,rk(t)}function rk(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||af;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||rn;a=af;var c=rn;if(af=o,(rn=l)&&!c)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?uS(s):l!==null?(l.return=o,ne=l):uS(s);for(;i!==null;)ne=i,rk(i),i=i.sibling;ne=s,af=a,rn=c}lS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):lS(t)}}function lS(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||Xm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:wr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qC(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&td(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}rn||e.flags&512&&Q_(e)}catch(p){dt(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function cS(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function uS(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xm(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){dt(e,s,l)}}var i=e.return;try{Q_(e)}catch(l){dt(e,i,l)}break;case 5:var o=e.return;try{Q_(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var E6=Math.ceil,kp=Js.ReactCurrentDispatcher,dx=Js.ReactCurrentOwner,lr=Js.ReactCurrentBatchConfig,Ne=0,Ft=null,Tt=null,Ht=0,zn=0,ol=yo(0),kt=0,hd=null,ia=0,Jm=0,hx=0,Nu=null,Cn=null,fx=0,Hl=1/0,bs=null,Dp=!1,J_=null,Vi=null,lf=!1,Pi=null,Mp=0,ku=0,Z_=null,Uf=-1,Bf=0;function yn(){return Ne&6?gt():Uf!==-1?Uf:Uf=gt()}function Fi(t){return t.mode&1?Ne&2&&Ht!==0?Ht&-Ht:i6.transition!==null?(Bf===0&&(Bf=BP()),Bf):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:KP(t.type)),t):1}function Pr(t,e,n,r){if(50<ku)throw ku=0,Z_=null,Error(q(185));Gd(t,n,r),(!(Ne&2)||t!==Ft)&&(t===Ft&&(!(Ne&2)&&(Jm|=n),kt===4&&_i(t,Ht)),Pn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Hl=gt()+500,Km&&vo()))}function Pn(t,e){var n=t.callbackNode;i3(t,e);var r=yp(t,t===Ft?Ht:0);if(r===0)n!==null&&_C(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_C(n),e===1)t.tag===0?s6(dS.bind(null,t)):fN(dS.bind(null,t)),e6(function(){!(Ne&6)&&vo()}),n=null;else{switch($P(r)){case 1:n=Fw;break;case 4:n=FP;break;case 16:n=gp;break;case 536870912:n=UP;break;default:n=gp}n=dk(n,sk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sk(t,e){if(Uf=-1,Bf=0,Ne&6)throw Error(q(327));var n=t.callbackNode;if(_l()&&t.callbackNode!==n)return null;var r=yp(t,t===Ft?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Op(t,r);else{e=r;var s=Ne;Ne|=2;var i=ok();(Ft!==t||Ht!==e)&&(bs=null,Hl=gt()+500,Xo(t,e));do try{C6();break}catch(a){ik(t,a)}while(!0);Jw(),kp.current=i,Ne=s,Tt!==null?e=0:(Ft=null,Ht=0,e=kt)}if(e!==0){if(e===2&&(s=S_(t),s!==0&&(r=s,e=e0(t,s))),e===1)throw n=hd,Xo(t,0),_i(t,r),Pn(t,gt()),n;if(e===6)_i(t,r);else{if(s=t.current.alternate,!(r&30)&&!T6(s)&&(e=Op(t,r),e===2&&(i=S_(t),i!==0&&(r=i,e=e0(t,i))),e===1))throw n=hd,Xo(t,0),_i(t,r),Pn(t,gt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Mo(t,Cn,bs);break;case 3:if(_i(t,r),(r&130023424)===r&&(e=fx+500-gt(),10<e)){if(yp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=M_(Mo.bind(null,t,Cn,bs),e);break}Mo(t,Cn,bs);break;case 4:if(_i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E6(r/1960))-r,10<r){t.timeoutHandle=M_(Mo.bind(null,t,Cn,bs),r);break}Mo(t,Cn,bs);break;case 5:Mo(t,Cn,bs);break;default:throw Error(q(329))}}}return Pn(t,gt()),t.callbackNode===n?sk.bind(null,t):null}function e0(t,e){var n=Nu;return t.current.memoizedState.isDehydrated&&(Xo(t,e).flags|=256),t=Op(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&t0(e)),t}function t0(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function T6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~hx,e&=~Jm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function dS(t){if(Ne&6)throw Error(q(327));_l();var e=yp(t,0);if(!(e&1))return Pn(t,gt()),null;var n=Op(t,e);if(t.tag!==0&&n===2){var r=S_(t);r!==0&&(e=r,n=e0(t,r))}if(n===1)throw n=hd,Xo(t,0),_i(t,e),Pn(t,gt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,Cn,bs),Pn(t,gt()),null}function px(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Hl=gt()+500,Km&&vo())}}function oa(t){Pi!==null&&Pi.tag===0&&!(Ne&6)&&_l();var e=Ne;Ne|=1;var n=lr.transition,r=Ve;try{if(lr.transition=null,Ve=1,t)return t()}finally{Ve=r,lr.transition=n,Ne=e,!(Ne&6)&&vo()}}function mx(){zn=ol.current,Ze(ol)}function Xo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Z3(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(Qw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ep();break;case 3:zl(),Ze(An),Ze(ln),sx();break;case 5:rx(r);break;case 4:zl();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:Zw(r.type._context);break;case 22:case 23:mx()}n=n.return}if(Ft=t,Tt=t=Ui(t.current,null),Ht=zn=e,kt=0,hd=null,hx=Jm=ia=0,Cn=Nu=null,Uo!==null){for(e=0;e<Uo.length;e++)if(n=Uo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Uo=null}return t}function ik(t,e){do{var n=Tt;try{if(Jw(),jf.current=Np,Pp){for(var r=ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pp=!1}if(sa=0,jt=Rt=ot=null,Ru=!1,cd=0,dx.current=null,n===null||n.return===null){kt=1,hd=e,Tt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=JC(o);if(m!==null){m.flags&=-257,ZC(m,o,a,i,e),m.mode&1&&XC(i,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){XC(i,c,e),gx();break e}l=Error(q(426))}}else if(nt&&a.mode&1){var x=JC(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ZC(x,o,a,i,e),Yw(Wl(l,a));break e}}i=l=Wl(l,a),kt!==4&&(kt=2),Nu===null?Nu=[i]:Nu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=$N(i,l,e);HC(i,T);break e;case 1:a=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vi===null||!Vi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=zN(i,a,e);HC(i,R);break e}}i=i.return}while(i!==null)}lk(n)}catch(k){e=k,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function ok(){var t=kp.current;return kp.current=Np,t===null?Np:t}function gx(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||!(ia&268435455)&&!(Jm&268435455)||_i(Ft,Ht)}function Op(t,e){var n=Ne;Ne|=2;var r=ok();(Ft!==t||Ht!==e)&&(bs=null,Xo(t,e));do try{b6();break}catch(s){ik(t,s)}while(!0);if(Jw(),Ne=n,kp.current=r,Tt!==null)throw Error(q(261));return Ft=null,Ht=0,kt}function b6(){for(;Tt!==null;)ak(Tt)}function C6(){for(;Tt!==null&&!Y5();)ak(Tt)}function ak(t){var e=uk(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?lk(t):Tt=e,dx.current=null}function lk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=v6(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,Tt=null;return}}else if(n=y6(n,e,zn),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);kt===0&&(kt=5)}function Mo(t,e,n){var r=Ve,s=lr.transition;try{lr.transition=null,Ve=1,S6(t,e,n,r)}finally{lr.transition=s,Ve=r}return null}function S6(t,e,n,r){do _l();while(Pi!==null);if(Ne&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(o3(t,i),t===Ft&&(Tt=Ft=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lf||(lf=!0,dk(gp,function(){return _l(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lr.transition,lr.transition=null;var o=Ve;Ve=1;var a=Ne;Ne|=4,dx.current=null,w6(t,n),nk(n,t),q3(k_),vp=!!N_,k_=N_=null,t.current=n,x6(n),X5(),Ne=a,Ve=o,lr.transition=i}else t.current=n;if(lf&&(lf=!1,Pi=t,Mp=s),i=t.pendingLanes,i===0&&(Vi=null),e3(n.stateNode),Pn(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Dp)throw Dp=!1,t=J_,J_=null,t;return Mp&1&&t.tag!==0&&_l(),i=t.pendingLanes,i&1?t===Z_?ku++:(ku=0,Z_=t):ku=0,vo(),null}function _l(){if(Pi!==null){var t=$P(Mp),e=lr.transition,n=Ve;try{if(lr.transition=null,Ve=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,Mp=0,Ne&6)throw Error(q(331));var s=Ne;for(Ne|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:Pu(8,u,i)}var h=u.child;if(h!==null)h.return=u,ne=h;else for(;ne!==null;){u=ne;var p=u.sibling,m=u.return;if(ZN(u),u===c){ne=null;break}if(p!==null){p.return=m,ne=p;break}ne=m}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pu(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,ne=T;break e}ne=i.return}}var w=t.current;for(ne=w;ne!==null;){o=ne;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ne=b;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xm(9,a)}}catch(k){dt(a,a.return,k)}if(a===o){ne=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ne=R;break e}ne=a.return}}if(Ne=s,vo(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(zm,t)}catch{}r=!0}return r}finally{Ve=n,lr.transition=e}}return!1}function hS(t,e,n){e=Wl(n,e),e=$N(t,e,1),t=ji(t,e,1),e=yn(),t!==null&&(Gd(t,1,e),Pn(t,e))}function dt(t,e,n){if(t.tag===3)hS(t,t,n);else for(;e!==null;){if(e.tag===3){hS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vi===null||!Vi.has(r))){t=Wl(n,t),t=zN(e,t,1),e=ji(e,t,1),t=yn(),e!==null&&(Gd(e,1,t),Pn(e,t));break}}e=e.return}}function I6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Ht&n)===n&&(kt===4||kt===3&&(Ht&130023424)===Ht&&500>gt()-fx?Xo(t,0):hx|=n),Pn(t,e)}function ck(t,e){e===0&&(t.mode&1?(e=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):e=1);var n=yn();t=Bs(t,e),t!==null&&(Gd(t,e,n),Pn(t,n))}function A6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ck(t,n)}function R6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),ck(t,n)}var uk;uk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)Sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sn=!1,g6(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,nt&&e.flags&1048576&&pN(e,Cp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ff(t,e),t=e.pendingProps;var s=Ul(e,ln.current);vl(e,n),s=ox(null,e,r,t,s,n);var i=ax();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(i=!0,Tp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tx(e),s.updater=Ym,e.stateNode=s,s._reactInternals=e,B_(e,r,t,n),e=W_(null,e,r,!0,i,n)):(e.tag=0,nt&&i&&Kw(e),pn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ff(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=N6(r),t=wr(r,t),s){case 0:e=z_(null,e,r,t,n);break e;case 1:e=nS(null,e,r,t,n);break e;case 11:e=eS(null,e,r,t,n);break e;case 14:e=tS(null,e,r,wr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),z_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),nS(t,e,r,s,n);case 3:e:{if(GN(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,wN(t,e),Ap(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wl(Error(q(423)),e),e=rS(t,e,r,n,s);break e}else if(r!==s){s=Wl(Error(q(424)),e),e=rS(t,e,r,n,s);break e}else for(qn=Li(e.stateNode.containerInfo.firstChild),Gn=e,nt=!0,br=null,n=vN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bl(),r===s){e=$s(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return xN(e),t===null&&V_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,D_(r,s)?o=null:i!==null&&D_(r,i)&&(e.flags|=32),qN(t,e),pn(t,e,o,n),e.child;case 6:return t===null&&V_(e),null;case 13:return KN(t,e,n);case 4:return nx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$l(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),eS(t,e,r,s,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qe(Sp,r._currentValue),r._currentValue=o,i!==null)if(Dr(i.value,o)){if(i.children===s.children&&!An.current){e=$s(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ds(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),F_(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),F_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vl(e,n),s=ur(s),r=r(s),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,s=wr(r,e.pendingProps),s=wr(r.type,s),tS(t,e,r,s,n);case 15:return WN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wr(r,s),Ff(t,e),e.tag=1,Rn(r)?(t=!0,Tp(e)):t=!1,vl(e,n),BN(e,r,s),B_(e,r,s,n),W_(null,e,r,!0,t,n);case 19:return QN(t,e,n);case 22:return HN(t,e,n)}throw Error(q(156,e.tag))};function dk(t,e){return VP(t,e)}function P6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,e,n,r){return new P6(t,e,n,r)}function yx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N6(t){if(typeof t=="function")return yx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lw)return 11;if(t===jw)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $f(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")yx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ya:return Jo(n.children,s,i,e);case Ow:o=8,s|=8;break;case d_:return t=ar(12,n,e,s|2),t.elementType=d_,t.lanes=i,t;case h_:return t=ar(13,n,e,s),t.elementType=h_,t.lanes=i,t;case f_:return t=ar(19,n,e,s),t.elementType=f_,t.lanes=i,t;case xP:return Zm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _P:o=10;break e;case wP:o=9;break e;case Lw:o=11;break e;case jw:o=14;break e;case mi:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=ar(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Jo(t,e,n,r){return t=ar(7,t,r,e),t.lanes=n,t}function Zm(t,e,n,r){return t=ar(22,t,r,e),t.elementType=xP,t.lanes=n,t.stateNode={isHidden:!1},t}function lv(t,e,n){return t=ar(6,t,null,e),t.lanes=n,t}function cv(t,e,n){return e=ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zy(0),this.expirationTimes=zy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vx(t,e,n,r,s,i,o,a,l){return t=new k6(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ar(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tx(i),t}function D6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hk(t){if(!t)return Ji;t=t._reactInternals;e:{if(xa(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Rn(n))return hN(t,n,e)}return e}function fk(t,e,n,r,s,i,o,a,l){return t=vx(n,r,!0,t,s,i,o,a,l),t.context=hk(null),n=t.current,r=yn(),s=Fi(n),i=Ds(r,s),i.callback=e??null,ji(n,i,s),t.current.lanes=s,Gd(t,s,r),Pn(t,r),t}function eg(t,e,n,r){var s=e.current,i=yn(),o=Fi(s);return n=hk(n),e.context===null?e.context=n:e.pendingContext=n,e=Ds(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ji(s,e,o),t!==null&&(Pr(t,s,o,i),Lf(t,s,o)),o}function Lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _x(t,e){fS(t,e),(t=t.alternate)&&fS(t,e)}function M6(){return null}var pk=typeof reportError=="function"?reportError:function(t){console.error(t)};function wx(t){this._internalRoot=t}tg.prototype.render=wx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));eg(t,e,null,null)};tg.prototype.unmount=wx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oa(function(){eg(null,t,null,null)}),e[Us]=null}};function tg(t){this._internalRoot=t}tg.prototype.unstable_scheduleHydration=function(t){if(t){var e=HP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vi.length&&e!==0&&e<vi[n].priority;n++);vi.splice(n,0,t),n===0&&GP(t)}};function xx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ng(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pS(){}function O6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Lp(o);i.call(c)}}var o=fk(e,r,t,0,null,!1,!1,"",pS);return t._reactRootContainer=o,t[Us]=o.current,sd(t.nodeType===8?t.parentNode:t),oa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Lp(l);a.call(c)}}var l=vx(t,0,!1,null,null,!1,!1,"",pS);return t._reactRootContainer=l,t[Us]=l.current,sd(t.nodeType===8?t.parentNode:t),oa(function(){eg(e,l,n,r)}),l}function rg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Lp(o);a.call(l)}}eg(e,o,t,s)}else o=O6(n,e,t,s,r);return Lp(o)}zP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(Uw(e,n|1),Pn(e,gt()),!(Ne&6)&&(Hl=gt()+500,vo()))}break;case 13:oa(function(){var r=Bs(t,1);if(r!==null){var s=yn();Pr(r,t,1,s)}}),_x(t,1)}};Bw=function(t){if(t.tag===13){var e=Bs(t,134217728);if(e!==null){var n=yn();Pr(e,t,134217728,n)}_x(t,134217728)}};WP=function(t){if(t.tag===13){var e=Fi(t),n=Bs(t,e);if(n!==null){var r=yn();Pr(n,t,e,r)}_x(t,e)}};HP=function(){return Ve};qP=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};T_=function(t,e,n){switch(e){case"input":if(g_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gm(r);if(!s)throw Error(q(90));TP(r),g_(r,s)}}}break;case"textarea":CP(t,n);break;case"select":e=n.value,e!=null&&pl(t,!!n.multiple,e,!1)}};kP=px;DP=oa;var L6={usingClientEntryPoint:!1,Events:[Qd,el,Gm,PP,NP,px]},tu={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j6={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LP(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||M6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{zm=cf.inject(j6),ns=cf}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L6;er.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xx(e))throw Error(q(200));return D6(t,e,null,n)};er.createRoot=function(t,e){if(!xx(t))throw Error(q(299));var n=!1,r="",s=pk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vx(t,1,!1,null,null,n,!1,r,s),t[Us]=e.current,sd(t.nodeType===8?t.parentNode:t),new wx(e)};er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=LP(e),t=t===null?null:t.stateNode,t};er.flushSync=function(t){return oa(t)};er.hydrate=function(t,e,n){if(!ng(e))throw Error(q(200));return rg(null,t,e,!0,n)};er.hydrateRoot=function(t,e,n){if(!xx(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fk(e,null,t,1,n??null,s,!1,i,o),t[Us]=e.current,sd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tg(e)};er.render=function(t,e,n){if(!ng(e))throw Error(q(200));return rg(null,t,e,!1,n)};er.unmountComponentAtNode=function(t){if(!ng(t))throw Error(q(40));return t._reactRootContainer?(oa(function(){rg(null,null,t,!1,function(){t._reactRootContainer=null,t[Us]=null})}),!0):!1};er.unstable_batchedUpdates=px;er.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ng(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return rg(t,e,n,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function mk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mk)}catch(t){console.error(t)}}mk(),mP.exports=er;var Xd=mP.exports;const gk=nP(Xd);var yk,mS=Xd;yk=mS.createRoot,mS.hydrateRoot;const V6=1,F6=1e6;let uv=0;function U6(){return uv=(uv+1)%Number.MAX_SAFE_INTEGER,uv.toString()}const dv=new Map,gS=t=>{if(dv.has(t))return;const e=setTimeout(()=>{dv.delete(t),Du({type:"REMOVE_TOAST",toastId:t})},F6);dv.set(t,e)},B6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,V6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?gS(n):t.toasts.forEach(r=>{gS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zf=[];let Wf={toasts:[]};function Du(t){Wf=B6(Wf,t),zf.forEach(e=>{e(Wf)})}function $6({...t}){const e=U6(),n=s=>Du({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Du({type:"DISMISS_TOAST",toastId:e});return Du({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function fs(){const[t,e]=v.useState(Wf);return v.useEffect(()=>(zf.push(e),()=>{const n=zf.indexOf(e);n>-1&&zf.splice(n,1)}),[t]),{...t,toast:$6,dismiss:n=>Du({type:"DISMISS_TOAST",toastId:n})}}function re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function z6(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function sg(...t){return e=>t.forEach(n=>z6(n,e))}function Be(...t){return v.useCallback(sg(...t),t)}function W6(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...y}=h,_=(p==null?void 0:p[t][l])||a,x=v.useMemo(()=>y,Object.values(y));return f.jsx(_.Provider,{value:x,children:m})}function u(h,p){const m=(p==null?void 0:p[t][l])||a,y=v.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,H6(s,...e)]}function H6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var aa=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(q6);if(i){const o=i.props.children,a=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return f.jsx(n0,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return f.jsx(n0,{...r,ref:e,children:n})});aa.displayName="Slot";var n0=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=K6(n);return v.cloneElement(n,{...G6(r,n.props),ref:e?sg(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});n0.displayName="SlotClone";var vk=({children:t})=>f.jsx(f.Fragment,{children:t});function q6(t){return v.isValidElement(t)&&t.type===vk}function G6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function K6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ex(t){const e=t+"CollectionProvider",[n,r]=W6(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:_}=m,x=K.useRef(null),T=K.useRef(new Map).current;return f.jsx(s,{scope:y,itemMap:T,collectionRef:x,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=K.forwardRef((m,y)=>{const{scope:_,children:x}=m,T=i(a,_),w=Be(y,T.collectionRef);return f.jsx(aa,{ref:w,children:x})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=K.forwardRef((m,y)=>{const{scope:_,children:x,...T}=m,w=K.useRef(null),b=Be(y,w),R=i(c,_);return K.useEffect(()=>(R.itemMap.set(w,{ref:w,...T}),()=>void R.itemMap.delete(w))),f.jsx(aa,{[u]:"",ref:b,children:x})});h.displayName=c;function p(m){const y=i(t+"CollectionConsumer",m);return K.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const T=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((R,k)=>T.indexOf(R.ref.current)-T.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function Q6(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function _o(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var T;const{scope:p,children:m,...y}=h,_=((T=p==null?void 0:p[t])==null?void 0:T[l])||a,x=v.useMemo(()=>y,Object.values(y));return f.jsx(_.Provider,{value:x,children:m})};c.displayName=i+"Provider";function u(h,p){var _;const m=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,y=v.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Y6(s,...e)]}function Y6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var X6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=X6.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?aa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Tx(t,e){t&&Xd.flushSync(()=>t.dispatchEvent(e))}function st(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function J6(t,e=globalThis==null?void 0:globalThis.document){const n=st(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Z6="DismissableLayer",r0="dismissableLayer.update",eB="dismissableLayer.pointerDownOutside",tB="dismissableLayer.focusOutside",yS,_k=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jd=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(_k),[u,h]=v.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),y=Be(e,S=>h(S)),_=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),T=_.indexOf(x),w=u?_.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,R=w>=T,k=rB(S=>{const C=S.target,I=[...c.branches].some(P=>P.contains(C));!R||I||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},p),O=sB(S=>{const C=S.target;[...c.branches].some(P=>P.contains(C))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},p);return J6(S=>{w===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),v.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(yS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),vS(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=yS)}},[u,p,n,c]),v.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),vS())},[u,c]),v.useEffect(()=>{const S=()=>m({});return document.addEventListener(r0,S),()=>document.removeEventListener(r0,S)},[]),f.jsx(ve.div,{...l,ref:y,style:{pointerEvents:b?R?"auto":"none":void 0,...t.style},onFocusCapture:re(t.onFocusCapture,O.onFocusCapture),onBlurCapture:re(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:re(t.onPointerDownCapture,k.onPointerDownCapture)})});Jd.displayName=Z6;var nB="DismissableLayerBranch",wk=v.forwardRef((t,e)=>{const n=v.useContext(_k),r=v.useRef(null),s=Be(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(ve.div,{...t,ref:s})});wk.displayName=nB;function rB(t,e=globalThis==null?void 0:globalThis.document){const n=st(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){xk(eB,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function sB(t,e=globalThis==null?void 0:globalThis.document){const n=st(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&xk(tB,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vS(){const t=new CustomEvent(r0);document.dispatchEvent(t)}function xk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Tx(s,i):s.dispatchEvent(i)}var iB=Jd,oB=wk,Mr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},aB="Portal",ig=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Mr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gk.createPortal(f.jsx(ve.div,{...r,ref:e}),o):null});ig.displayName=aB;function lB(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var wn=t=>{const{present:e,children:n}=t,r=cB(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Be(r.ref,uB(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};wn.displayName="Presence";function cB(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=lB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=uf(r.current);i.current=a==="mounted"?c:"none"},[a]),Mr(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,m=uf(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Mr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=m=>{const _=uf(r.current).includes(m.animationName);if(m.target===e&&_&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=m=>{m.target===e&&(i.current=uf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function uf(t){return(t==null?void 0:t.animationName)||"none"}function uB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Zd({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=dB({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=st(n),l=v.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function dB({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=st(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var hB="VisuallyHidden",og=v.forwardRef((t,e)=>f.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));og.displayName=hB;var fB=og,bx="ToastProvider",[Cx,pB,mB]=Ex("Toast"),[Ek,que]=_o("Toast",[mB]),[gB,ag]=Ek(bx),Tk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,u]=v.useState(0),h=v.useRef(!1),p=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bx}\`. Expected non-empty \`string\`.`),f.jsx(Cx.Provider,{scope:e,children:f.jsx(gB,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>u(m=>m+1),[]),onToastRemove:v.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};Tk.displayName=bx;var bk="ToastViewport",yB=["F8"],s0="toast.viewportPause",i0="toast.viewportResume",Ck=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=yB,label:s="Notifications ({hotkey})",...i}=t,o=ag(bk,n),a=pB(n),l=v.useRef(null),c=v.useRef(null),u=v.useRef(null),h=v.useRef(null),p=Be(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;v.useEffect(()=>{const x=T=>{var b;r.length!==0&&r.every(R=>T[R]||T.code===R)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=l.current,T=h.current;if(y&&x&&T){const w=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(s0);T.dispatchEvent(O),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(i0);T.dispatchEvent(O),o.isClosePausedRef.current=!1}},R=O=>{!x.contains(O.relatedTarget)&&b()},k=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",w),x.addEventListener("focusout",R),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",k),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",R),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const _=v.useCallback(({tabbingDirection:x})=>{const w=a().map(b=>{const R=b.ref.current,k=[R,...PB(R)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return v.useEffect(()=>{const x=h.current;if(x){const T=w=>{var k,O,S;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const C=document.activeElement,I=w.shiftKey;if(w.target===x&&I){(k=c.current)==null||k.focus();return}const M=_({tabbingDirection:I?"backwards":"forwards"}),N=M.findIndex(W=>W===C);hv(M.slice(N+1))?w.preventDefault():I?(O=c.current)==null||O.focus():(S=u.current)==null||S.focus()}};return x.addEventListener("keydown",T),()=>x.removeEventListener("keydown",T)}},[a,_]),f.jsxs(oB,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&f.jsx(o0,{ref:c,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"forwards"});hv(x)}}),f.jsx(Cx.Slot,{scope:n,children:f.jsx(ve.ol,{tabIndex:-1,...i,ref:p})}),y&&f.jsx(o0,{ref:u,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"backwards"});hv(x)}})]})});Ck.displayName=bk;var Sk="ToastFocusProxy",o0=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=ag(Sk,n);return f.jsx(og,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});o0.displayName=Sk;var lg="Toast",vB="toast.swipeStart",_B="toast.swipeMove",wB="toast.swipeCancel",xB="toast.swipeEnd",Ik=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Zd({prop:r,defaultProp:s,onChange:i});return f.jsx(wn,{present:n||a,children:f.jsx(bB,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:st(t.onPause),onResume:st(t.onResume),onSwipeStart:re(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:re(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Ik.displayName=lg;var[EB,TB]=Ek(lg,{onClose(){}}),bB=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...y}=t,_=ag(lg,n),[x,T]=v.useState(null),w=Be(e,W=>T(W)),b=v.useRef(null),R=v.useRef(null),k=s||_.duration,O=v.useRef(0),S=v.useRef(k),C=v.useRef(0),{onToastAdd:I,onToastRemove:P}=_,D=st(()=>{var ee;(x==null?void 0:x.contains(document.activeElement))&&((ee=_.viewport)==null||ee.focus()),o()}),M=v.useCallback(W=>{!W||W===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(D,W))},[D]);v.useEffect(()=>{const W=_.viewport;if(W){const ee=()=>{M(S.current),c==null||c()},J=()=>{const oe=new Date().getTime()-O.current;S.current=S.current-oe,window.clearTimeout(C.current),l==null||l()};return W.addEventListener(s0,J),W.addEventListener(i0,ee),()=>{W.removeEventListener(s0,J),W.removeEventListener(i0,ee)}}},[_.viewport,k,l,c,M]),v.useEffect(()=>{i&&!_.isClosePausedRef.current&&M(k)},[i,k,_.isClosePausedRef,M]),v.useEffect(()=>(I(),()=>P()),[I,P]);const N=v.useMemo(()=>x?Mk(x):null,[x]);return _.viewport?f.jsxs(f.Fragment,{children:[N&&f.jsx(CB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),f.jsx(EB,{scope:n,onClose:D,children:Xd.createPortal(f.jsx(Cx.ItemSlot,{scope:n,children:f.jsx(iB,{asChild:!0,onEscapeKeyDown:re(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||D(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:re(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:re(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:re(t.onPointerMove,W=>{if(!b.current)return;const ee=W.clientX-b.current.x,J=W.clientY-b.current.y,oe=!!R.current,j=["left","right"].includes(_.swipeDirection),U=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Y=j?U(0,ee):0,H=j?0:U(0,J),X=W.pointerType==="touch"?10:2,se={x:Y,y:H},ke={originalEvent:W,delta:se};oe?(R.current=se,df(_B,h,ke,{discrete:!1})):_S(se,_.swipeDirection,X)?(R.current=se,df(vB,u,ke,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ee)>X||Math.abs(J)>X)&&(b.current=null)}),onPointerUp:re(t.onPointerUp,W=>{const ee=R.current,J=W.target;if(J.hasPointerCapture(W.pointerId)&&J.releasePointerCapture(W.pointerId),R.current=null,b.current=null,ee){const oe=W.currentTarget,j={originalEvent:W,delta:ee};_S(ee,_.swipeDirection,_.swipeThreshold)?df(xB,m,j,{discrete:!0}):df(wB,p,j,{discrete:!0}),oe.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),CB=t=>{const{__scopeToast:e,children:n,...r}=t,s=ag(lg,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return AB(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(ig,{asChild:!0,children:f.jsx(og,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},SB="ToastTitle",Ak=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(ve.div,{...r,ref:e})});Ak.displayName=SB;var IB="ToastDescription",Rk=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(ve.div,{...r,ref:e})});Rk.displayName=IB;var Pk="ToastAction",Nk=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(Dk,{altText:n,asChild:!0,children:f.jsx(Sx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Pk}\`. Expected non-empty \`string\`.`),null)});Nk.displayName=Pk;var kk="ToastClose",Sx=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=TB(kk,n);return f.jsx(Dk,{asChild:!0,children:f.jsx(ve.button,{type:"button",...r,ref:e,onClick:re(t.onClick,s.onClose)})})});Sx.displayName=kk;var Dk=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Mk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),RB(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Mk(r))}}),e}function df(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Tx(s,i):s.dispatchEvent(i)}var _S=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function AB(t=()=>{}){const e=st(t);Mr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function RB(t){return t.nodeType===t.ELEMENT_NODE}function PB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var NB=Tk,Ok=Ck,Lk=Ik,jk=Ak,Vk=Rk,Fk=Nk,Uk=Sx;function Bk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Bk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $k(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Bk(t))&&(r&&(r+=" "),r+=e);return r}const wS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xS=$k,dc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return xS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],h=i==null?void 0:i[c];if(u===null)return null;const p=wS(u)||wS(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...m}=u;return Object.entries(m).every(y=>{let[_,x]=y;return Array.isArray(x)?x.includes({...i,...a}[_]):{...i,...a}[_]===x})?[...c,h,p]:c},[]);return xS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...DB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zk("lucide",s),...a},[...o.map(([c,u])=>v.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(MB,{ref:i,iconNode:e,className:zk(`lucide-${kB(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Re("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Re("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=Re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=Re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Re("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=Re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=Re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=Re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=Re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=Re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Re("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=Re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=Re("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=Re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=Re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),kx="-",e9=t=>{const e=n9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(kx);return a[0]===""&&a.length!==1&&a.shift(),Qk(a,e)||t9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Qk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Qk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(kx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},TS=/^\[(.+)\]$/,t9=t=>{if(TS.test(t)){const e=TS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},n9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return s9(Object.entries(t.classGroups),n).forEach(([i,o])=>{c0(o,r,i,e)}),r},c0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:bS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(r9(s)){c0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{c0(o,bS(e,i),n,r)})})},bS=(t,e)=>{let n=t;return e.split(kx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},r9=t=>t.isThemeGetter,s9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,i9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Yk="!",o9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let x=0;x<a.length;x++){let T=a[x];if(c===0){if(T===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(u,x)),u=x+i;continue}if(T==="/"){h=x;continue}}T==="["?c++:T==="]"&&c--}const p=l.length===0?a:a.substring(u),m=p.startsWith(Yk),y=m?p.substring(1):p,_=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},a9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},l9=t=>({cache:i9(t.cacheSize),parseClassName:o9(t),...e9(t)}),c9=/\s+/,u9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(c9);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let y=!!m,_=r(y?p.substring(0,m):p);if(!_){if(!y){a=c+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=c+(a.length>0?" "+a:a);continue}y=!1}const x=a9(u).join(":"),T=h?x+Yk:x,w=T+_;if(i.includes(w))continue;i.push(w);const b=s(_,y);for(let R=0;R<b.length;++R){const k=b[R];i.push(T+k)}a=c+(a.length>0?" "+a:a)}return a};function d9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Xk(e))&&(r&&(r+=" "),r+=n);return r}const Xk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Xk(t[r]))&&(n&&(n+=" "),n+=e);return n};function h9(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=l9(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=u9(l,n);return s(l,u),u}return function(){return i(d9.apply(null,arguments))}}const Qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Jk=/^\[(?:([a-z-]+):)?(.+)\]$/i,f9=/^\d+\/\d+$/,p9=new Set(["px","full","screen"]),m9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=t=>wl(t)||p9.has(t)||f9.test(t),ci=t=>hc(t,"length",I9),wl=t=>!!t&&!Number.isNaN(Number(t)),fv=t=>hc(t,"number",wl),nu=t=>!!t&&Number.isInteger(Number(t)),w9=t=>t.endsWith("%")&&wl(t.slice(0,-1)),_e=t=>Jk.test(t),ui=t=>m9.test(t),x9=new Set(["length","size","percentage"]),E9=t=>hc(t,x9,Zk),T9=t=>hc(t,"position",Zk),b9=new Set(["image","url"]),C9=t=>hc(t,b9,R9),S9=t=>hc(t,"",A9),ru=()=>!0,hc=(t,e,n)=>{const r=Jk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},I9=t=>g9.test(t)&&!y9.test(t),Zk=()=>!1,A9=t=>v9.test(t),R9=t=>_9.test(t),P9=()=>{const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),s=Qe("borderColor"),i=Qe("borderRadius"),o=Qe("borderSpacing"),a=Qe("borderWidth"),l=Qe("contrast"),c=Qe("grayscale"),u=Qe("hueRotate"),h=Qe("invert"),p=Qe("gap"),m=Qe("gradientColorStops"),y=Qe("gradientColorStopPositions"),_=Qe("inset"),x=Qe("margin"),T=Qe("opacity"),w=Qe("padding"),b=Qe("saturate"),R=Qe("scale"),k=Qe("sepia"),O=Qe("skew"),S=Qe("space"),C=Qe("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",_e,e],M=()=>[_e,e],N=()=>["",xs,ci],W=()=>["auto",wl,_e],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",_e],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[wl,_e];return{cacheSize:500,separator:":",theme:{colors:[ru],spacing:[xs,ci],blur:["none","",ui,_e],brightness:H(),borderColor:[t],borderRadius:["none","","full",ui,_e],borderSpacing:M(),borderWidth:N(),contrast:H(),grayscale:U(),hueRotate:H(),invert:U(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[w9,ci],inset:D(),margin:D(),opacity:H(),padding:M(),saturate:H(),scale:H(),sepia:U(),skew:H(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[ui]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),_e]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nu,_e]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",nu,_e]}],"grid-cols":[{"grid-cols":[ru]}],"col-start-end":[{col:["auto",{span:["full",nu,_e]},_e]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[ru]}],"row-start-end":[{row:["auto",{span:[nu,_e]},_e]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[ui]},ui]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ui,ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fv]}],"font-family":[{font:[ru]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",wl,fv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,ci]}],"underline-offset":[{"underline-offset":["auto",xs,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),T9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",E9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},C9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[xs,_e]}],"outline-w":[{outline:[xs,ci]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[xs,ci]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ui,S9]}],"shadow-color":[{shadow:[ru]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ui,_e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[nu,_e]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xs,ci,fv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},N9=h9(P9);function ae(...t){return N9($k(t))}const k9=NB,eD=v.forwardRef(({className:t,...e},n)=>f.jsx(Ok,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));eD.displayName=Ok.displayName;const D9=dc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tD=v.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(Lk,{ref:r,className:ae(D9({variant:e}),t),...n}));tD.displayName=Lk.displayName;const M9=v.forwardRef(({className:t,...e},n)=>f.jsx(Fk,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));M9.displayName=Fk.displayName;const nD=v.forwardRef(({className:t,...e},n)=>f.jsx(Uk,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(ug,{className:"h-4 w-4"})}));nD.displayName=Uk.displayName;const rD=v.forwardRef(({className:t,...e},n)=>f.jsx(jk,{ref:n,className:ae("text-sm font-semibold",t),...e}));rD.displayName=jk.displayName;const sD=v.forwardRef(({className:t,...e},n)=>f.jsx(Vk,{ref:n,className:ae("text-sm opacity-90",t),...e}));sD.displayName=Vk.displayName;function O9(){const{toasts:t}=fs();return f.jsxs(k9,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(tD,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(rD,{children:n}),r&&f.jsx(sD,{children:r})]}),s,f.jsx(nD,{})]},e)}),f.jsx(eD,{})]})}var CS=["light","dark"],L9="(prefers-color-scheme: dark)",j9=v.createContext(void 0),V9={setTheme:t=>{},themes:[]},F9=()=>{var t;return(t=v.useContext(j9))!=null?t:V9};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?CS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,_=!1,x=!0)=>{let T=o?o[y]:y,w=_?y+"|| ''":`'${T}'`,b="";return s&&x&&!_&&CS.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),n==="class"?_||T?b+=`c.add(${w})`:b+="null":T&&(b+=`d[s](n,${w})`),b},m=t?`!function(){${u}${p(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${L9}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var U9=t=>{switch(t){case"success":return z9;case"info":return H9;case"warning":return W9;case"error":return q9;default:return null}},B9=Array(12).fill(0),$9=({visible:t})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},K.createElement("div",{className:"sonner-spinner"},B9.map((e,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),z9=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),W9=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),H9=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),q9=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),G9=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},u0=1,K9=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:u0++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(Y9(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||u0++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},$n=new K9,Q9=(t,e)=>{let n=(e==null?void 0:e.id)||u0++;return $n.addToast({title:t,...e,id:n}),n},Y9=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",X9=Q9,J9=()=>$n.toasts;Object.assign(X9,{success:$n.success,info:$n.info,warning:$n.warning,error:$n.error,custom:$n.custom,message:$n.message,promise:$n.promise,dismiss:$n.dismiss,loading:$n.loading},{getHistory:J9});function Z9(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Z9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function hf(t){return t.label!==void 0}var e$=3,t$="32px",n$=4e3,r$=356,s$=14,i$=20,o$=200;function a$(...t){return t.filter(Boolean).join(" ")}var l$=t=>{var e,n,r,s,i,o,a,l,c,u;let{invert:h,toast:p,unstyled:m,interacting:y,setHeights:_,visibleToasts:x,heights:T,index:w,toasts:b,expanded:R,removeToast:k,defaultRichColors:O,closeButton:S,style:C,cancelButtonStyle:I,actionButtonStyle:P,className:D="",descriptionClassName:M="",duration:N,position:W,gap:ee,loadingIcon:J,expandByDefault:oe,classNames:j,icons:U,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:H,cn:X}=t,[se,ke]=K.useState(!1),[Ge,ge]=K.useState(!1),[ze,un]=K.useState(!1),[tt,pt]=K.useState(!1),[Ut,Fn]=K.useState(0),[En,gs]=K.useState(0),ti=K.useRef(null),gr=K.useRef(null),Nc=w===0,kc=w+1<=x,_t=p.type,Wr=p.dismissible!==!1,Ah=p.className||"",Ey=p.descriptionClassName||"",ni=K.useMemo(()=>T.findIndex(fe=>fe.toastId===p.id)||0,[T,p.id]),Dc=K.useMemo(()=>{var fe;return(fe=p.closeButton)!=null?fe:S},[p.closeButton,S]),Mc=K.useMemo(()=>p.duration||N||n$,[p.duration,N]),wt=K.useRef(0),lt=K.useRef(0),Io=K.useRef(0),ys=K.useRef(null),[Oc,Ty]=W.split("-"),ri=K.useMemo(()=>T.reduce((fe,Fe,je)=>je>=ni?fe:fe+Fe.height,0),[T,ni]),Lc=G9(),Rh=p.invert||h,Ao=_t==="loading";lt.current=K.useMemo(()=>ni*ee+ri,[ni,ri]),K.useEffect(()=>{ke(!0)},[]),K.useLayoutEffect(()=>{if(!se)return;let fe=gr.current,Fe=fe.style.height;fe.style.height="auto";let je=fe.getBoundingClientRect().height;fe.style.height=Fe,gs(je),_(Kt=>Kt.find(Tn=>Tn.toastId===p.id)?Kt.map(Tn=>Tn.toastId===p.id?{...Tn,height:je}:Tn):[{toastId:p.id,height:je,position:p.position},...Kt])},[se,p.title,p.description,_,p.id]);let Hr=K.useCallback(()=>{ge(!0),Fn(lt.current),_(fe=>fe.filter(Fe=>Fe.toastId!==p.id)),setTimeout(()=>{k(p)},o$)},[p,k,_,lt]);K.useEffect(()=>{if(p.promise&&_t==="loading"||p.duration===1/0||p.type==="loading")return;let fe,Fe=Mc;return R||y||H&&Lc?(()=>{if(Io.current<wt.current){let je=new Date().getTime()-wt.current;Fe=Fe-je}Io.current=new Date().getTime()})():Fe!==1/0&&(wt.current=new Date().getTime(),fe=setTimeout(()=>{var je;(je=p.onAutoClose)==null||je.call(p,p),Hr()},Fe)),()=>clearTimeout(fe)},[R,y,oe,p,Mc,Hr,p.promise,_t,H,Lc]),K.useEffect(()=>{let fe=gr.current;if(fe){let Fe=fe.getBoundingClientRect().height;return gs(Fe),_(je=>[{toastId:p.id,height:Fe,position:p.position},...je]),()=>_(je=>je.filter(Kt=>Kt.toastId!==p.id))}},[_,p.id]),K.useEffect(()=>{p.delete&&Hr()},[Hr,p.delete]);function by(){return U!=null&&U.loading?K.createElement("div",{className:"sonner-loader","data-visible":_t==="loading"},U.loading):J?K.createElement("div",{className:"sonner-loader","data-visible":_t==="loading"},J):K.createElement($9,{visible:_t==="loading"})}return K.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:gr,className:X(D,Ah,j==null?void 0:j.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[_t],(n=p==null?void 0:p.classNames)==null?void 0:n[_t]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:O,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":se,"data-promise":!!p.promise,"data-removed":Ge,"data-visible":kc,"data-y-position":Oc,"data-x-position":Ty,"data-index":w,"data-front":Nc,"data-swiping":ze,"data-dismissible":Wr,"data-type":_t,"data-invert":Rh,"data-swipe-out":tt,"data-expanded":!!(R||oe&&se),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${Ge?Ut:lt.current}px`,"--initial-height":oe?"auto":`${En}px`,...C,...p.style},onPointerDown:fe=>{Ao||!Wr||(ti.current=new Date,Fn(lt.current),fe.target.setPointerCapture(fe.pointerId),fe.target.tagName!=="BUTTON"&&(un(!0),ys.current={x:fe.clientX,y:fe.clientY}))},onPointerUp:()=>{var fe,Fe,je,Kt;if(tt||!Wr)return;ys.current=null;let Tn=Number(((fe=gr.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),si=new Date().getTime()-((Fe=ti.current)==null?void 0:Fe.getTime()),vs=Math.abs(Tn)/si;if(Math.abs(Tn)>=i$||vs>.11){Fn(lt.current),(je=p.onDismiss)==null||je.call(p,p),Hr(),pt(!0);return}(Kt=gr.current)==null||Kt.style.setProperty("--swipe-amount","0px"),un(!1)},onPointerMove:fe=>{var Fe;if(!ys.current||!Wr)return;let je=fe.clientY-ys.current.y,Kt=fe.clientX-ys.current.x,Tn=(Oc==="top"?Math.min:Math.max)(0,je),si=fe.pointerType==="touch"?10:2;Math.abs(Tn)>si?(Fe=gr.current)==null||Fe.style.setProperty("--swipe-amount",`${je}px`):Math.abs(Kt)>si&&(ys.current=null)}},Dc&&!p.jsx?K.createElement("button",{"aria-label":Y,"data-disabled":Ao,"data-close-button":!0,onClick:Ao||!Wr?()=>{}:()=>{var fe;Hr(),(fe=p.onDismiss)==null||fe.call(p,p)},className:X(j==null?void 0:j.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||K.isValidElement(p.title)?p.jsx||p.title:K.createElement(K.Fragment,null,_t||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:X(j==null?void 0:j.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||by():null,p.type!=="loading"?p.icon||(U==null?void 0:U[_t])||U9(_t):null):null,K.createElement("div",{"data-content":"",className:X(j==null?void 0:j.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:X(j==null?void 0:j.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?K.createElement("div",{"data-description":"",className:X(M,Ey,j==null?void 0:j.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),K.isValidElement(p.cancel)?p.cancel:p.cancel&&hf(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:fe=>{var Fe,je;hf(p.cancel)&&Wr&&((je=(Fe=p.cancel).onClick)==null||je.call(Fe,fe),Hr())},className:X(j==null?void 0:j.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,K.isValidElement(p.action)?p.action:p.action&&hf(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:fe=>{var Fe,je;hf(p.action)&&(fe.defaultPrevented||((je=(Fe=p.action).onClick)==null||je.call(Fe,fe),Hr()))},className:X(j==null?void 0:j.actionButton,(u=p==null?void 0:p.classNames)==null?void 0:u.actionButton)},p.action.label):null))};function SS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var c$=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:h,visibleToasts:p=e$,toastOptions:m,dir:y=SS(),gap:_=s$,loadingIcon:x,icons:T,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:R=a$}=t,[k,O]=K.useState([]),S=K.useMemo(()=>Array.from(new Set([n].concat(k.filter(H=>H.position).map(H=>H.position)))),[k,n]),[C,I]=K.useState([]),[P,D]=K.useState(!1),[M,N]=K.useState(!1),[W,ee]=K.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=K.useRef(null),oe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=K.useRef(null),U=K.useRef(!1),Y=K.useCallback(H=>{var X;(X=k.find(se=>se.id===H.id))!=null&&X.delete||$n.dismiss(H.id),O(se=>se.filter(({id:ke})=>ke!==H.id))},[k]);return K.useEffect(()=>$n.subscribe(H=>{if(H.dismiss){O(X=>X.map(se=>se.id===H.id?{...se,delete:!0}:se));return}setTimeout(()=>{gk.flushSync(()=>{O(X=>{let se=X.findIndex(ke=>ke.id===H.id);return se!==-1?[...X.slice(0,se),{...X[se],...H},...X.slice(se+1)]:[H,...X]})})})}),[]),K.useEffect(()=>{if(l!=="system"){ee(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{ee(H?"dark":"light")})},[l]),K.useEffect(()=>{k.length<=1&&D(!1)},[k]),K.useEffect(()=>{let H=X=>{var se,ke;r.every(Ge=>X[Ge]||X.code===Ge)&&(D(!0),(se=J.current)==null||se.focus()),X.code==="Escape"&&(document.activeElement===J.current||(ke=J.current)!=null&&ke.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),K.useEffect(()=>{if(J.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,U.current=!1)}},[J.current]),k.length?K.createElement("section",{"aria-label":`${w} ${oe}`,tabIndex:-1},S.map((H,X)=>{var se;let[ke,Ge]=H.split("-");return K.createElement("ol",{key:H,dir:y==="auto"?SS():y,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":ke,"data-x-position":Ge,style:{"--front-toast-height":`${((se=C[0])==null?void 0:se.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||t$,"--width":`${r$}px`,"--gap":`${_}px`,...h},onBlur:ge=>{U.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(U.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||U.current||(U.current=!0,j.current=ge.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},k.filter(ge=>!ge.position&&X===0||ge.position===H).map((ge,ze)=>{var un,tt;return K.createElement(l$,{key:ge.id,icons:T,index:ze,toast:ge,defaultRichColors:c,duration:(un=m==null?void 0:m.duration)!=null?un:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:p,closeButton:(tt=m==null?void 0:m.closeButton)!=null?tt:i,interacting:M,position:H,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Y,toasts:k.filter(pt=>pt.position==ge.position),heights:C.filter(pt=>pt.position==ge.position),setHeights:I,expandByDefault:s,gap:_,loadingIcon:x,expanded:P,pauseWhenPageIsHidden:b,cn:R})}))})):null};const u$=({...t})=>{const{theme:e="system"}=F9();return f.jsx(c$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var d$=fP.useId||(()=>{}),h$=0;function Zo(t){const[e,n]=v.useState(d$());return Mr(()=>{t||n(r=>r??String(h$++))},[t]),t||(e?`radix-${e}`:"")}const f$=["top","right","bottom","left"],Zi=Math.min,Wn=Math.max,jp=Math.round,ff=Math.floor,eo=t=>({x:t,y:t}),p$={left:"right",right:"left",bottom:"top",top:"bottom"},m$={start:"end",end:"start"};function d0(t,e,n){return Wn(t,Zi(e,n))}function zs(t,e){return typeof t=="function"?t(e):t}function Ws(t){return t.split("-")[0]}function fc(t){return t.split("-")[1]}function Dx(t){return t==="x"?"y":"x"}function Mx(t){return t==="y"?"height":"width"}function to(t){return["top","bottom"].includes(Ws(t))?"y":"x"}function Ox(t){return Dx(to(t))}function g$(t,e,n){n===void 0&&(n=!1);const r=fc(t),s=Ox(t),i=Mx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vp(o)),[o,Vp(o)]}function y$(t){const e=Vp(t);return[h0(t),e,h0(e)]}function h0(t){return t.replace(/start|end/g,e=>m$[e])}function v$(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function _$(t,e,n,r){const s=fc(t);let i=v$(Ws(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(h0)))),i}function Vp(t){return t.replace(/left|right|bottom|top/g,e=>p$[e])}function w$(t){return{top:0,right:0,bottom:0,left:0,...t}}function iD(t){return typeof t!="number"?w$(t):{top:t,right:t,bottom:t,left:t}}function Fp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function IS(t,e,n){let{reference:r,floating:s}=t;const i=to(e),o=Ox(e),a=Mx(o),l=Ws(e),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(fc(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const x$=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=IS(c,r,l),p=r,m={},y=0;for(let _=0;_<a.length;_++){const{name:x,fn:T}=a[_],{x:w,y:b,data:R,reset:k}=await T({x:u,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,h=b??h,m={...m,[x]:{...m[x],...R}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:u,y:h}=IS(c,p,l)),_=-1)}return{x:u,y:h,placement:p,strategy:s,middlewareData:m}};async function fd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=zs(e,t),y=iD(m),x=a[p?h==="floating"?"reference":"floating":h],T=Fp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=Fp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(T.top-k.top+y.top)/R.y,bottom:(k.bottom-T.bottom+y.bottom)/R.y,left:(T.left-k.left+y.left)/R.x,right:(k.right-T.right+y.right)/R.x}}const E$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=zs(t,e)||{};if(c==null)return{};const h=iD(u),p={x:n,y:r},m=Ox(s),y=Mx(m),_=await o.getDimensions(c),x=m==="y",T=x?"top":"left",w=x?"bottom":"right",b=x?"clientHeight":"clientWidth",R=i.reference[y]+i.reference[m]-p[m]-i.floating[y],k=p[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=O?O[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(O)))&&(S=a.floating[b]||i.floating[y]);const C=R/2-k/2,I=S/2-_[y]/2-1,P=Zi(h[T],I),D=Zi(h[w],I),M=P,N=S-_[y]-D,W=S/2-_[y]/2+C,ee=d0(M,W,N),J=!l.arrow&&fc(s)!=null&&W!==ee&&i.reference[y]/2-(W<M?P:D)-_[y]/2<0,oe=J?W<M?W-M:W-N:0;return{[m]:p[m]+oe,data:{[m]:ee,centerOffset:W-ee-oe,...J&&{alignmentOffset:oe}},reset:J}}}),T$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:_=!0,...x}=zs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const T=Ws(s),w=to(a),b=Ws(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=p||(b||!_?[Vp(a)]:y$(a)),O=y!=="none";!p&&O&&k.push(..._$(a,_,y,R));const S=[a,...k],C=await fd(e,x),I=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(C[T]),h){const W=g$(s,o,R);I.push(C[W[0]],C[W[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(W=>W<=0)){var D,M;const W=(((D=i.flip)==null?void 0:D.index)||0)+1,ee=S[W];if(ee)return{data:{index:W,overflows:P},reset:{placement:ee}};let J=(M=P.filter(oe=>oe.overflows[0]<=0).sort((oe,j)=>oe.overflows[1]-j.overflows[1])[0])==null?void 0:M.placement;if(!J)switch(m){case"bestFit":{var N;const oe=(N=P.filter(j=>{if(O){const U=to(j.placement);return U===w||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,Y)=>U+Y,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:N[0];oe&&(J=oe);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function AS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function RS(t){return f$.some(e=>t[e]>=0)}const b$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zs(t,e);switch(r){case"referenceHidden":{const i=await fd(e,{...s,elementContext:"reference"}),o=AS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:RS(o)}}}case"escaped":{const i=await fd(e,{...s,altBoundary:!0}),o=AS(i,n.floating);return{data:{escapedOffsets:o,escaped:RS(o)}}}default:return{}}}}};async function C$(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ws(n),a=fc(n),l=to(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,h=zs(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const S$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await C$(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},I$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:T,y:w}=x;return{x:T,y:w}}},...l}=zs(t,e),c={x:n,y:r},u=await fd(e,l),h=to(Ws(s)),p=Dx(h);let m=c[p],y=c[h];if(i){const x=p==="y"?"top":"left",T=p==="y"?"bottom":"right",w=m+u[x],b=m-u[T];m=d0(w,m,b)}if(o){const x=h==="y"?"top":"left",T=h==="y"?"bottom":"right",w=y+u[x],b=y-u[T];y=d0(w,y,b)}const _=a.fn({...e,[p]:m,[h]:y});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[h]:o}}}}}},A$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=zs(t,e),u={x:n,y:r},h=to(s),p=Dx(h);let m=u[p],y=u[h];const _=zs(a,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const b=p==="y"?"height":"width",R=i.reference[p]-i.floating[b]+x.mainAxis,k=i.reference[p]+i.reference[b]-x.mainAxis;m<R?m=R:m>k&&(m=k)}if(c){var T,w;const b=p==="y"?"width":"height",R=["top","left"].includes(Ws(s)),k=i.reference[h]-i.floating[b]+(R&&((T=o.offset)==null?void 0:T[h])||0)+(R?0:x.crossAxis),O=i.reference[h]+i.reference[b]+(R?0:((w=o.offset)==null?void 0:w[h])||0)-(R?x.crossAxis:0);y<k?y=k:y>O&&(y=O)}return{[p]:m,[h]:y}}}},R$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=zs(t,e),u=await fd(e,c),h=Ws(s),p=fc(s),m=to(s)==="y",{width:y,height:_}=i.floating;let x,T;h==="top"||h==="bottom"?(x=h,T=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=h,x=p==="end"?"top":"bottom");const w=_-u.top-u.bottom,b=y-u.left-u.right,R=Zi(_-u[x],w),k=Zi(y-u[T],b),O=!e.middlewareData.shift;let S=R,C=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),O&&!p){const P=Wn(u.left,0),D=Wn(u.right,0),M=Wn(u.top,0),N=Wn(u.bottom,0);m?C=y-2*(P!==0||D!==0?P+D:Wn(u.left,u.right)):S=_-2*(M!==0||N!==0?M+N:Wn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:S});const I=await o.getDimensions(a.floating);return y!==I.width||_!==I.height?{reset:{rects:!0}}:{}}}};function dg(){return typeof window<"u"}function pc(t){return oD(t)?(t.nodeName||"").toLowerCase():"#document"}function Kn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(oD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oD(t){return dg()?t instanceof Node||t instanceof Kn(t).Node:!1}function Or(t){return dg()?t instanceof Element||t instanceof Kn(t).Element:!1}function us(t){return dg()?t instanceof HTMLElement||t instanceof Kn(t).HTMLElement:!1}function PS(t){return!dg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kn(t).ShadowRoot}function eh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function P$(t){return["table","td","th"].includes(pc(t))}function hg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Lx(t){const e=jx(),n=Or(t)?Lr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function N$(t){let e=no(t);for(;us(e)&&!ql(e);){if(Lx(e))return e;if(hg(e))return null;e=no(e)}return null}function jx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ql(t){return["html","body","#document"].includes(pc(t))}function Lr(t){return Kn(t).getComputedStyle(t)}function fg(t){return Or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function no(t){if(pc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PS(t)&&t.host||ps(t);return PS(e)?e.host:e}function aD(t){const e=no(t);return ql(e)?t.ownerDocument?t.ownerDocument.body:t.body:us(e)&&eh(e)?e:aD(e)}function pd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=aD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Kn(s);if(i){const a=f0(o);return e.concat(o,o.visualViewport||[],eh(s)?s:[],a&&n?pd(a):[])}return e.concat(s,pd(s,[],n))}function f0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lD(t){const e=Lr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=us(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=jp(n)!==i||jp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Vx(t){return Or(t)?t:t.contextElement}function xl(t){const e=Vx(t);if(!us(e))return eo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=lD(e);let o=(i?jp(n.width):n.width)/r,a=(i?jp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const k$=eo(0);function cD(t){const e=Kn(t);return!jx()||!e.visualViewport?k$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kn(t)?!1:e}function la(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Vx(t);let o=eo(1);e&&(r?Or(r)&&(o=xl(r)):o=xl(t));const a=D$(i,n,r)?cD(i):eo(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const p=Kn(i),m=r&&Or(r)?Kn(r):r;let y=p,_=f0(y);for(;_&&r&&m!==y;){const x=xl(_),T=_.getBoundingClientRect(),w=Lr(_),b=T.left+(_.clientLeft+parseFloat(w.paddingLeft))*x.x,R=T.top+(_.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,h*=x.y,l+=b,c+=R,y=Kn(_),_=f0(y)}}return Fp({width:u,height:h,x:l,y:c})}function M$(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ps(r),a=e?hg(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=eo(1);const u=eo(0),h=us(r);if((h||!h&&!i)&&((pc(r)!=="body"||eh(o))&&(l=fg(r)),us(r))){const p=la(r);c=xl(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function O$(t){return Array.from(t.getClientRects())}function p0(t,e){const n=fg(t).scrollLeft;return e?e.left+n:la(ps(t)).left+n}function L$(t){const e=ps(t),n=fg(t),r=t.ownerDocument.body,s=Wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+p0(t);const a=-n.scrollTop;return Lr(r).direction==="rtl"&&(o+=Wn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function j$(t,e){const n=Kn(t),r=ps(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=jx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function V$(t,e){const n=la(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=us(t)?xl(t):eo(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function NS(t,e,n){let r;if(e==="viewport")r=j$(t,n);else if(e==="document")r=L$(ps(t));else if(Or(e))r=V$(e,n);else{const s=cD(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Fp(r)}function uD(t,e){const n=no(t);return n===e||!Or(n)||ql(n)?!1:Lr(n).position==="fixed"||uD(n,e)}function F$(t,e){const n=e.get(t);if(n)return n;let r=pd(t,[],!1).filter(a=>Or(a)&&pc(a)!=="body"),s=null;const i=Lr(t).position==="fixed";let o=i?no(t):t;for(;Or(o)&&!ql(o);){const a=Lr(o),l=Lx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||eh(o)&&!l&&uD(t,o))?r=r.filter(u=>u!==o):s=a,o=no(o)}return e.set(t,r),r}function U$(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?hg(e)?[]:F$(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=NS(e,u,s);return c.top=Wn(h.top,c.top),c.right=Zi(h.right,c.right),c.bottom=Zi(h.bottom,c.bottom),c.left=Wn(h.left,c.left),c},NS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function B$(t){const{width:e,height:n}=lD(t);return{width:e,height:n}}function $$(t,e,n){const r=us(e),s=ps(e),i=n==="fixed",o=la(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=eo(0);if(r||!r&&!i)if((pc(e)!=="body"||eh(s))&&(a=fg(e)),r){const m=la(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=p0(s));let c=0,u=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();u=m.top+a.scrollTop,c=m.left+a.scrollLeft-p0(s,m)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:h,y:p,width:o.width,height:o.height}}function pv(t){return Lr(t).position==="static"}function kS(t,e){if(!us(t)||Lr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ps(t)===n&&(n=n.ownerDocument.body),n}function dD(t,e){const n=Kn(t);if(hg(t))return n;if(!us(t)){let s=no(t);for(;s&&!ql(s);){if(Or(s)&&!pv(s))return s;s=no(s)}return n}let r=kS(t,e);for(;r&&P$(r)&&pv(r);)r=kS(r,e);return r&&ql(r)&&pv(r)&&!Lx(r)?n:r||N$(t)||n}const z$=async function(t){const e=this.getOffsetParent||dD,n=this.getDimensions,r=await n(t.floating);return{reference:$$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function W$(t){return Lr(t).direction==="rtl"}const H$={convertOffsetParentRelativeRectToViewportRelativeRect:M$,getDocumentElement:ps,getClippingRect:U$,getOffsetParent:dD,getElementRects:z$,getClientRects:O$,getDimensions:B$,getScale:xl,isElement:Or,isRTL:W$};function q$(t,e){let n=null,r;const s=ps(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const m=ff(u),y=ff(s.clientWidth-(c+h)),_=ff(s.clientHeight-(u+p)),x=ff(c),w={rootMargin:-m+"px "+-y+"px "+-_+"px "+-x+"px",threshold:Wn(0,Zi(1,l))||1};let b=!0;function R(k){const O=k[0].intersectionRatio;if(O!==l){if(!b)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(R,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,w)}n.observe(t)}return o(!0),i}function G$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Vx(t),u=s||i?[...c?pd(c):[],...pd(e)]:[];u.forEach(T=>{s&&T.addEventListener("scroll",n,{passive:!0}),i&&T.addEventListener("resize",n)});const h=c&&a?q$(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(T=>{let[w]=T;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let y,_=l?la(t):null;l&&x();function x(){const T=la(t);_&&(T.x!==_.x||T.y!==_.y||T.width!==_.width||T.height!==_.height)&&n(),_=T,y=requestAnimationFrame(x)}return n(),()=>{var T;u.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(T=m)==null||T.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const K$=S$,Q$=I$,Y$=T$,X$=R$,J$=b$,DS=E$,Z$=A$,ez=(t,e,n)=>{const r=new Map,s={platform:H$,...n},i={...s.platform,_c:r};return x$(t,e,{...s,platform:i})};var Hf=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Up(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Up(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Up(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function hD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function MS(t,e){const n=hD(t);return Math.round(e*n)/n}function mv(t){const e=v.useRef(t);return Hf(()=>{e.current=t}),e}function tz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=v.useState(r);Up(p,r)||m(r);const[y,_]=v.useState(null),[x,T]=v.useState(null),w=v.useCallback(j=>{j!==O.current&&(O.current=j,_(j))},[]),b=v.useCallback(j=>{j!==S.current&&(S.current=j,T(j))},[]),R=i||y,k=o||x,O=v.useRef(null),S=v.useRef(null),C=v.useRef(u),I=l!=null,P=mv(l),D=mv(s),M=mv(c),N=v.useCallback(()=>{if(!O.current||!S.current)return;const j={placement:e,strategy:n,middleware:p};D.current&&(j.platform=D.current),ez(O.current,S.current,j).then(U=>{const Y={...U,isPositioned:M.current!==!1};W.current&&!Up(C.current,Y)&&(C.current=Y,Xd.flushSync(()=>{h(Y)}))})},[p,e,n,D,M]);Hf(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const W=v.useRef(!1);Hf(()=>(W.current=!0,()=>{W.current=!1}),[]),Hf(()=>{if(R&&(O.current=R),k&&(S.current=k),R&&k){if(P.current)return P.current(R,k,N);N()}},[R,k,N,P,I]);const ee=v.useMemo(()=>({reference:O,floating:S,setReference:w,setFloating:b}),[w,b]),J=v.useMemo(()=>({reference:R,floating:k}),[R,k]),oe=v.useMemo(()=>{const j={position:n,left:0,top:0};if(!J.floating)return j;const U=MS(J.floating,u.x),Y=MS(J.floating,u.y);return a?{...j,transform:"translate("+U+"px, "+Y+"px)",...hD(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:Y}},[n,a,J.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:N,refs:ee,elements:J,floatingStyles:oe}),[u,N,ee,J,oe])}const nz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?DS({element:r.current,padding:s}).fn(n):{}:r?DS({element:r,padding:s}).fn(n):{}}}},rz=(t,e)=>({...K$(t),options:[t,e]}),sz=(t,e)=>({...Q$(t),options:[t,e]}),iz=(t,e)=>({...Z$(t),options:[t,e]}),oz=(t,e)=>({...Y$(t),options:[t,e]}),az=(t,e)=>({...X$(t),options:[t,e]}),lz=(t,e)=>({...J$(t),options:[t,e]}),cz=(t,e)=>({...nz(t),options:[t,e]});var uz="Arrow",fD=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});fD.displayName=uz;var dz=fD;function hz(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...y}=h,_=(p==null?void 0:p[t][l])||a,x=v.useMemo(()=>y,Object.values(y));return f.jsx(_.Provider,{value:x,children:m})}function u(h,p){const m=(p==null?void 0:p[t][l])||a,y=v.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,fz(s,...e)]}function fz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function pz(t){const[e,n]=v.useState(void 0);return Mr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Fx="Popper",[pD,pg]=hz(Fx),[mz,mD]=pD(Fx),gD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return f.jsx(mz,{scope:e,anchor:r,onAnchorChange:s,children:n})};gD.displayName=Fx;var yD="PopperAnchor",vD=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=mD(yD,n),o=v.useRef(null),a=Be(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(ve.div,{...s,ref:a})});vD.displayName=yD;var Ux="PopperContent",[gz,yz]=pD(Ux),_D=v.forwardRef((t,e)=>{var ze,un,tt,pt,Ut,Fn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,..._}=t,x=mD(Ux,n),[T,w]=v.useState(null),b=Be(e,En=>w(En)),[R,k]=v.useState(null),O=pz(R),S=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],M=D.length>0,N={padding:P,boundary:D.filter(_z),altBoundary:M},{refs:W,floatingStyles:ee,placement:J,isPositioned:oe,middlewareData:j}=tz({strategy:"fixed",placement:I,whileElementsMounted:(...En)=>G$(...En,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[rz({mainAxis:s+C,alignmentAxis:o}),l&&sz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?iz():void 0,...N}),l&&oz({...N}),az({...N,apply:({elements:En,rects:gs,availableWidth:ti,availableHeight:gr})=>{const{width:Nc,height:kc}=gs.reference,_t=En.floating.style;_t.setProperty("--radix-popper-available-width",`${ti}px`),_t.setProperty("--radix-popper-available-height",`${gr}px`),_t.setProperty("--radix-popper-anchor-width",`${Nc}px`),_t.setProperty("--radix-popper-anchor-height",`${kc}px`)}}),R&&cz({element:R,padding:a}),wz({arrowWidth:S,arrowHeight:C}),p&&lz({strategy:"referenceHidden",...N})]}),[U,Y]=ED(J),H=st(y);Mr(()=>{oe&&(H==null||H())},[oe,H]);const X=(ze=j.arrow)==null?void 0:ze.x,se=(un=j.arrow)==null?void 0:un.y,ke=((tt=j.arrow)==null?void 0:tt.centerOffset)!==0,[Ge,ge]=v.useState();return Mr(()=>{T&&ge(window.getComputedStyle(T).zIndex)},[T]),f.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:oe?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ge,"--radix-popper-transform-origin":[(pt=j.transformOrigin)==null?void 0:pt.x,(Ut=j.transformOrigin)==null?void 0:Ut.y].join(" "),...((Fn=j.hide)==null?void 0:Fn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(gz,{scope:n,placedSide:U,onArrowChange:k,arrowX:X,arrowY:se,shouldHideArrow:ke,children:f.jsx(ve.div,{"data-side":U,"data-align":Y,..._,ref:b,style:{..._.style,animation:oe?void 0:"none"}})})})});_D.displayName=Ux;var wD="PopperArrow",vz={top:"bottom",right:"left",bottom:"top",left:"right"},xD=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=yz(wD,r),o=vz[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(dz,{...s,ref:n,style:{...s.style,display:"block"}})})});xD.displayName=wD;function _z(t){return t!==null}var wz=t=>({name:"transformOrigin",options:t,fn(e){var x,T,w;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=ED(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(((T=s.arrow)==null?void 0:T.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let y="",_="";return c==="bottom"?(y=o?h:`${p}px`,_=`${-l}px`):c==="top"?(y=o?h:`${p}px`,_=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,_=o?h:`${m}px`):c==="left"&&(y=`${r.floating.width+l}px`,_=o?h:`${m}px`),{data:{x:y,y:_}}}});function ED(t){const[e,n="center"]=t.split("-");return[e,n]}var xz=gD,TD=vD,bD=_D,CD=xD,[mg,Gue]=_o("Tooltip",[pg]),Bx=pg(),SD="TooltipProvider",Ez=700,OS="tooltip.open",[Tz,ID]=mg(SD),AD=t=>{const{__scopeTooltip:e,delayDuration:n=Ez,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=v.useState(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),f.jsx(Tz,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};AD.displayName=SD;var RD="Tooltip",[Kue,gg]=mg(RD),m0="TooltipTrigger",bz=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=gg(m0,n),i=ID(m0,n),o=Bx(n),a=v.useRef(null),l=Be(e,a,s.onTriggerChange),c=v.useRef(!1),u=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(TD,{asChild:!0,...o,children:f.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:re(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:re(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:re(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:re(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:re(t.onBlur,s.onClose),onClick:re(t.onClick,s.onClose)})})});bz.displayName=m0;var Cz="TooltipPortal",[Que,Sz]=mg(Cz,{forceMount:void 0}),Gl="TooltipContent",PD=v.forwardRef((t,e)=>{const n=Sz(Gl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=gg(Gl,t.__scopeTooltip);return f.jsx(wn,{present:r||o.open,children:o.disableHoverableContent?f.jsx(ND,{side:s,...i,ref:e}):f.jsx(Iz,{side:s,...i,ref:e})})}),Iz=v.forwardRef((t,e)=>{const n=gg(Gl,t.__scopeTooltip),r=ID(Gl,t.__scopeTooltip),s=v.useRef(null),i=Be(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:h}=r,p=v.useCallback(()=>{a(null),h(!1)},[h]),m=v.useCallback((y,_)=>{const x=y.currentTarget,T={x:y.clientX,y:y.clientY},w=Nz(T,x.getBoundingClientRect()),b=kz(T,w),R=Dz(_.getBoundingClientRect()),k=Oz([...b,...R]);a(k),h(!0)},[h]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(l&&u){const y=x=>m(x,u),_=x=>m(x,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",_)}}},[l,u,m,p]),v.useEffect(()=>{if(o){const y=_=>{const x=_.target,T={x:_.clientX,y:_.clientY},w=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),b=!Mz(T,o);w?p():b&&(p(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,c,p]),f.jsx(ND,{...t,ref:i})}),[Az,Rz]=mg(RD,{isInside:!1}),ND=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=gg(Gl,n),c=Bx(n),{onClose:u}=l;return v.useEffect(()=>(document.addEventListener(OS,u),()=>document.removeEventListener(OS,u)),[u]),v.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),f.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:f.jsxs(bD,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(vk,{children:r}),f.jsx(Az,{scope:n,isInside:!0,children:f.jsx(fB,{id:l.contentId,role:"tooltip",children:s||r})})]})})});PD.displayName=Gl;var kD="TooltipArrow",Pz=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bx(n);return Rz(kD,n).isInside?null:f.jsx(CD,{...s,...r,ref:e})});Pz.displayName=kD;function Nz(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kz(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Dz(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Mz(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function Oz(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Lz(e)}function Lz(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jz=AD,DD=PD;const Vz=jz,Fz=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(DD,{ref:r,sideOffset:e,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Fz.displayName=DD.displayName;var yg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vg=typeof window>"u"||"Deno"in globalThis;function xr(){}function Uz(t,e){return typeof t=="function"?t(e):t}function Bz(t){return typeof t=="number"&&t>=0&&t!==1/0}function $z(t,e){return Math.max(t+(e||0)-Date.now(),0)}function LS(t,e){return typeof t=="function"?t(e):t}function zz(t,e){return typeof t=="function"?t(e):t}function jS(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==$x(o,e.options))return!1}else if(!gd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function VS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(md(e.options.mutationKey)!==md(i))return!1}else if(!gd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function $x(t,e){return((e==null?void 0:e.queryKeyHashFn)||md)(t)}function md(t){return JSON.stringify(t,(e,n)=>g0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!gd(t[n],e[n])):!1}function MD(t,e){if(t===e)return t;const n=FS(t)&&FS(e);if(n||g0(t)&&g0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=MD(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function FS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g0(t){if(!US(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!US(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function US(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wz(t){return new Promise(e=>{setTimeout(e,t)})}function Hz(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?MD(t,e):e}function qz(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Gz(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zx=Symbol();function OD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===zx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Go,bi,Pl,KR,Kz=(KR=class extends yg{constructor(){super();Oe(this,Go);Oe(this,bi);Oe(this,Pl);we(this,Pl,e=>{if(!vg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,bi)||this.setEventListener(z(this,Pl))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,bi))==null||e.call(this),we(this,bi,void 0))}setEventListener(e){var n;we(this,Pl,e),(n=z(this,bi))==null||n.call(this),we(this,bi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Go)!==e&&(we(this,Go,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Go)=="boolean"?z(this,Go):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Go=new WeakMap,bi=new WeakMap,Pl=new WeakMap,KR),LD=new Kz,Nl,Ci,kl,QR,Qz=(QR=class extends yg{constructor(){super();Oe(this,Nl,!0);Oe(this,Ci);Oe(this,kl);we(this,kl,e=>{if(!vg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Ci)||this.setEventListener(z(this,kl))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ci))==null||e.call(this),we(this,Ci,void 0))}setEventListener(e){var n;we(this,kl,e),(n=z(this,Ci))==null||n.call(this),we(this,Ci,e(this.setOnline.bind(this)))}setOnline(e){z(this,Nl)!==e&&(we(this,Nl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Nl)}},Nl=new WeakMap,Ci=new WeakMap,kl=new WeakMap,QR),Bp=new Qz;function Yz(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Xz(t){return Math.min(1e3*2**t,3e4)}function jD(t){return(t??"online")==="online"?Bp.isOnline():!0}var VD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gv(t){return t instanceof VD}function FD(t){let e=!1,n=0,r=!1,s;const i=Yz(),o=_=>{var x;r||(p(new VD(_)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>LD.isFocused()&&(t.networkMode==="always"||Bp.isOnline())&&t.canRun(),u=()=>jD(t.networkMode)&&t.canRun(),h=_=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,_),s==null||s(),i.resolve(_))},p=_=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,_),s==null||s(),i.reject(_))},m=()=>new Promise(_=>{var x;s=T=>{(r||c())&&_(T)},(x=t.onPause)==null||x.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),y=()=>{if(r)return;let _;const x=n===0?t.initialPromise:void 0;try{_=x??t.fn()}catch(T){_=Promise.reject(T)}Promise.resolve(_).then(h).catch(T=>{var O;if(r)return;const w=t.retry??(vg?0:3),b=t.retryDelay??Xz,R=typeof b=="function"?b(n,T):b,k=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,T);if(e||!k){p(T);return}n++,(O=t.onFail)==null||O.call(t,n,T),Wz(R).then(()=>c()?void 0:m()).then(()=>{e?p(T):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?y():m().then(y),i)}}function Jz(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var mn=Jz(),Ko,YR,UD=(YR=class{constructor(){Oe(this,Ko)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bz(this.gcTime)&&we(this,Ko,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vg?1/0:5*60*1e3))}clearGcTimeout(){z(this,Ko)&&(clearTimeout(z(this,Ko)),we(this,Ko,void 0))}},Ko=new WeakMap,YR),Dl,Ml,rr,tn,Wd,Qo,Er,Es,XR,Zz=(XR=class extends UD{constructor(n){super();Oe(this,Er);Oe(this,Dl);Oe(this,Ml);Oe(this,rr);Oe(this,tn);Oe(this,Wd);Oe(this,Qo);we(this,Qo,!1),we(this,Wd,n.defaultOptions),this.setOptions(n.options),this.observers=[],we(this,rr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,we(this,Dl,t8(this.options)),this.state=n.state??z(this,Dl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,tn))==null?void 0:n.promise}setOptions(n){this.options={...z(this,Wd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,rr).remove(this)}setData(n,r){const s=Hz(this.state.data,n,this.options);return Xt(this,Er,Es).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Xt(this,Er,Es).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,tn))==null?void 0:s.promise;return(i=z(this,tn))==null||i.cancel(n),r?r.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Dl))}isActive(){return this.observers.some(n=>zz(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!$z(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,tn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,tn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,rr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,tn)&&(z(this,Qo)?z(this,tn).cancel({revert:!0}):z(this,tn).cancelRetry()),this.scheduleGc()),z(this,rr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xt(this,Er,Es).call(this,{type:"invalidate"})}fetch(n,r){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,tn))return z(this,tn).continueRetry(),z(this,tn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(we(this,Qo,!0),s.signal)})},o=()=>{const p=OD(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),we(this,Qo,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),we(this,Ml,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Xt(this,Er,Es).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var m,y,_,x;gv(p)&&p.silent||Xt(this,Er,Es).call(this,{type:"error",error:p}),gv(p)||((y=(m=z(this,rr).config).onError)==null||y.call(m,p,this),(x=(_=z(this,rr).config).onSettled)==null||x.call(_,this.state.data,p,this)),this.scheduleGc()};return we(this,tn,FD({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var m,y,_,x;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(T){l(T);return}(y=(m=z(this,rr).config).onSuccess)==null||y.call(m,p,this),(x=(_=z(this,rr).config).onSettled)==null||x.call(_,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{Xt(this,Er,Es).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Xt(this,Er,Es).call(this,{type:"pause"})},onContinue:()=>{Xt(this,Er,Es).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,tn).start()}},Dl=new WeakMap,Ml=new WeakMap,rr=new WeakMap,tn=new WeakMap,Wd=new WeakMap,Qo=new WeakMap,Er=new WeakSet,Es=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...e8(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return gv(i)&&i.revert&&z(this,Ml)?{...z(this,Ml),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),mn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,rr).notify({query:this,type:"updated",action:n})})},XR);function e8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function t8(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xr,JR,n8=(JR=class extends yg{constructor(e={}){super();Oe(this,Xr);this.config=e,we(this,Xr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??$x(s,n);let o=this.get(i);return o||(o=new Zz({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Xr).has(e.queryHash)||(z(this,Xr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Xr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Xr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Xr).get(e)}getAll(){return[...z(this,Xr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>jS(e,r)):n}notify(e){mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xr=new WeakMap,JR),Jr,hn,Yo,Zr,hi,ZR,r8=(ZR=class extends UD{constructor(n){super();Oe(this,Zr);Oe(this,Jr);Oe(this,hn);Oe(this,Yo);this.mutationId=n.mutationId,we(this,hn,n.mutationCache),we(this,Jr,[]),this.state=n.state||s8(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,Jr).includes(n)||(z(this,Jr).push(n),this.clearGcTimeout(),z(this,hn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){we(this,Jr,z(this,Jr).filter(r=>r!==n)),this.scheduleGc(),z(this,hn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,Jr).length||(this.state.status==="pending"?this.scheduleGc():z(this,hn).remove(this))}continue(){var n;return((n=z(this,Yo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,u,h,p,m,y,_,x,T,w,b,R,k,O,S,C;we(this,Yo,FD({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{Xt(this,Zr,hi).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{Xt(this,Zr,hi).call(this,{type:"pause"})},onContinue:()=>{Xt(this,Zr,hi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,hn).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Yo).canStart();try{if(!r){Xt(this,Zr,hi).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=z(this,hn).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));P!==this.state.context&&Xt(this,Zr,hi).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const I=await z(this,Yo).start();return await((u=(c=z(this,hn).config).onSuccess)==null?void 0:u.call(c,I,n,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,I,n,this.state.context)),await((y=(m=z(this,hn).config).onSettled)==null?void 0:y.call(m,I,null,this.state.variables,this.state.context,this)),await((x=(_=this.options).onSettled)==null?void 0:x.call(_,I,null,n,this.state.context)),Xt(this,Zr,hi).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(T=z(this,hn).config).onError)==null?void 0:w.call(T,I,n,this.state.context,this)),await((R=(b=this.options).onError)==null?void 0:R.call(b,I,n,this.state.context)),await((O=(k=z(this,hn).config).onSettled)==null?void 0:O.call(k,void 0,I,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,I,n,this.state.context)),I}finally{Xt(this,Zr,hi).call(this,{type:"error",error:I})}}finally{z(this,hn).runNext(this)}}},Jr=new WeakMap,hn=new WeakMap,Yo=new WeakMap,Zr=new WeakSet,hi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),mn.batch(()=>{z(this,Jr).forEach(s=>{s.onMutationUpdate(n)}),z(this,hn).notify({mutation:this,type:"updated",action:n})})},ZR);function s8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bn,Hd,eP,i8=(eP=class extends yg{constructor(e={}){super();Oe(this,Bn);Oe(this,Hd);this.config=e,we(this,Bn,new Map),we(this,Hd,Date.now())}build(e,n,r){const s=new r8({mutationCache:this,mutationId:++Hh(this,Hd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=pf(e),r=z(this,Bn).get(n)??[];r.push(e),z(this,Bn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=pf(e);if(z(this,Bn).has(n)){const s=(r=z(this,Bn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?z(this,Bn).delete(n):z(this,Bn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,Bn).get(pf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,Bn).get(pf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,Bn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VS(n,r))}findAll(e={}){return this.getAll().filter(n=>VS(e,n))}notify(e){mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return mn.batch(()=>Promise.all(e.map(n=>n.continue().catch(xr))))}},Bn=new WeakMap,Hd=new WeakMap,eP);function pf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function BS(t){return{onFetch:(e,n)=>{var u,h,p,m,y;const r=e.options,s=(p=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},T=OD(e.options,e.fetchOptions),w=async(b,R,k)=>{if(_)return Promise.reject();if(R==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:e.queryKey,pageParam:R,direction:k?"backward":"forward",meta:e.options.meta};x(O);const S=await T(O),{maxPages:C}=e.options,I=k?Gz:qz;return{pages:I(b.pages,S,C),pageParams:I(b.pageParams,R,C)}};if(s&&i.length){const b=s==="backward",R=b?o8:$S,k={pages:i,pageParams:o},O=R(r,k);a=await w(k,O,b)}else{const b=t??i.length;do{const R=l===0?o[0]??r.initialPageParam:$S(r,a);if(l>0&&R==null)break;a=await w(a,R),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var _,x;return(x=(_=e.options).persister)==null?void 0:x.call(_,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function $S(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function o8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ut,Si,Ii,Ol,Ll,Ai,jl,Vl,tP,a8=(tP=class{constructor(t={}){Oe(this,ut);Oe(this,Si);Oe(this,Ii);Oe(this,Ol);Oe(this,Ll);Oe(this,Ai);Oe(this,jl);Oe(this,Vl);we(this,ut,t.queryCache||new n8),we(this,Si,t.mutationCache||new i8),we(this,Ii,t.defaultOptions||{}),we(this,Ol,new Map),we(this,Ll,new Map),we(this,Ai,0)}mount(){Hh(this,Ai)._++,z(this,Ai)===1&&(we(this,jl,LD.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ut).onFocus())})),we(this,Vl,Bp.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ut).onOnline())})))}unmount(){var t,e;Hh(this,Ai)._--,z(this,Ai)===0&&((t=z(this,jl))==null||t.call(this),we(this,jl,void 0),(e=z(this,Vl))==null||e.call(this),we(this,Vl,void 0))}isFetching(t){return z(this,ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Si).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,ut).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(LS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,ut).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,ut).get(r.queryHash),i=s==null?void 0:s.state.data,o=Uz(e,i);if(o!==void 0)return z(this,ut).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return mn.batch(()=>z(this,ut).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,ut);mn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,ut),r={type:"active",...t};return mn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=mn.batch(()=>z(this,ut).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(t={},e={}){return mn.batch(()=>{if(z(this,ut).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=mn.batch(()=>z(this,ut).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,ut).build(this,e);return n.isStaleByTime(LS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xr).catch(xr)}fetchInfiniteQuery(t){return t.behavior=BS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xr).catch(xr)}ensureInfiniteQueryData(t){return t.behavior=BS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bp.isOnline()?z(this,Si).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,ut)}getMutationCache(){return z(this,Si)}getDefaultOptions(){return z(this,Ii)}setDefaultOptions(t){we(this,Ii,t)}setQueryDefaults(t,e){z(this,Ol).set(md(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Ol).values()];let n={};return e.forEach(r=>{gd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,Ll).set(md(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Ll).values()];let n={};return e.forEach(r=>{gd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Ii).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$x(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===zx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Ii).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,ut).clear(),z(this,Si).clear()}},ut=new WeakMap,Si=new WeakMap,Ii=new WeakMap,Ol=new WeakMap,Ll=new WeakMap,Ai=new WeakMap,jl=new WeakMap,Vl=new WeakMap,tP),l8=v.createContext(void 0),c8=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(l8.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yd.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const zS="popstate";function u8(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return y0("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$p(s)}return h8(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d8(){return Math.random().toString(36).substr(2,8)}function WS(t,e){return{usr:t.state,key:t.key,idx:e}}function y0(t,e,n,r){return n===void 0&&(n=null),yd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mc(e):e,{state:n,key:e&&e.key||r||d8()})}function $p(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function h8(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ni.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(yd({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Ni.Pop;let x=u(),T=x==null?null:x-c;c=x,l&&l({action:a,location:_.location,delta:T})}function p(x,T){a=Ni.Push;let w=y0(_.location,x,T);c=u()+1;let b=WS(w,c),R=_.createHref(w);try{o.pushState(b,"",R)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(R)}i&&l&&l({action:a,location:_.location,delta:1})}function m(x,T){a=Ni.Replace;let w=y0(_.location,x,T);c=u();let b=WS(w,c),R=_.createHref(w);o.replaceState(b,"",R),i&&l&&l({action:a,location:_.location,delta:0})}function y(x){let T=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:$p(x);return w=w.replace(/ $/,"%20"),vt(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let _={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(zS,h),l=x,()=>{s.removeEventListener(zS,h),l=null}},createHref(x){return e(s,x)},createURL:y,encodeLocation(x){let T=y(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:m,go(x){return o.go(x)}};return _}var HS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(HS||(HS={}));function f8(t,e,n){return n===void 0&&(n="/"),p8(t,e,n,!1)}function p8(t,e,n,r){let s=typeof e=="string"?mc(e):e,i=Wx(s.pathname||"/",n);if(i==null)return null;let o=$D(t);m8(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=S8(i);a=b8(o[l],c,r)}return a}function $D(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Bi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$D(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:E8(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of zD(i.path))s(i,o,l)}),e}function zD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function m8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const g8=/^:[\w-]+$/,y8=3,v8=2,_8=1,w8=10,x8=-2,qS=t=>t==="*";function E8(t,e){let n=t.split("/"),r=n.length;return n.some(qS)&&(r+=x8),e&&(r+=v8),n.filter(s=>!qS(s)).reduce((s,i)=>s+(g8.test(i)?y8:i===""?_8:w8),r)}function T8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function b8(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=GS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=GS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Bi([i,h.pathname]),pathnameBase:P8(Bi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Bi([i,h.pathnameBase]))}return o}function GS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=C8(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let _=a[h]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function C8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function S8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function I8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?mc(t):t;return{pathname:n?n.startsWith("/")?n:A8(n,e):e,search:N8(r),hash:k8(s)}}function A8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function yv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hx(t,e){let n=R8(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=mc(t):(s=yd({},t),vt(!s.pathname||!s.pathname.includes("?"),yv("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),yv("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),yv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=I8(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Bi=t=>t.join("/").replace(/\/\/+/g,"/"),P8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,k8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function D8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WD=["post","put","patch","delete"];new Set(WD);const M8=["get",...WD];new Set(M8);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}const Gx=v.createContext(null),O8=v.createContext(null),wo=v.createContext(null),_g=v.createContext(null),xo=v.createContext({outlet:null,matches:[],isDataRoute:!1}),HD=v.createContext(null);function L8(t,e){let{relative:n}=e===void 0?{}:e;gc()||vt(!1);let{basename:r,navigator:s}=v.useContext(wo),{hash:i,pathname:o,search:a}=GD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Bi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function gc(){return v.useContext(_g)!=null}function Ea(){return gc()||vt(!1),v.useContext(_g).location}function qD(t){v.useContext(wo).static||v.useLayoutEffect(t)}function pr(){let{isDataRoute:t}=v.useContext(xo);return t?Q8():j8()}function j8(){gc()||vt(!1);let t=v.useContext(Gx),{basename:e,future:n,navigator:r}=v.useContext(wo),{matches:s}=v.useContext(xo),{pathname:i}=Ea(),o=JSON.stringify(Hx(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return qD(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=qx(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function GD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(wo),{matches:s}=v.useContext(xo),{pathname:i}=Ea(),o=JSON.stringify(Hx(s,r.v7_relativeSplatPath));return v.useMemo(()=>qx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function V8(t,e){return F8(t,e)}function F8(t,e,n,r){gc()||vt(!1);let{navigator:s}=v.useContext(wo),{matches:i}=v.useContext(xo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ea(),u;if(e){var h;let x=typeof e=="string"?mc(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||vt(!1),u=x}else u=c;let p=u.pathname||"/",m=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=f8(t,{pathname:m}),_=W8(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Bi([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Bi([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&_?v.createElement(_g.Provider,{value:{location:vd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ni.Pop}},_):_}function U8(){let t=K8(),e=D8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const B8=v.createElement(U8,null);class $8 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(xo.Provider,{value:this.props.routeContext},v.createElement(HD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z8(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Gx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(xo.Provider,{value:e},r)}function W8(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||vt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:m}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let m,y=!1,_=null,x=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||B8,l&&(c<0&&p===0?(y=!0,x=null):c===p&&(y=!0,x=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,p+1)),w=()=>{let b;return m?b=_:y?b=x:h.route.Component?b=v.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,v.createElement(z8,{match:h,routeContext:{outlet:u,matches:T,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?v.createElement($8,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}var KD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KD||{}),zp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zp||{});function H8(t){let e=v.useContext(Gx);return e||vt(!1),e}function q8(t){let e=v.useContext(O8);return e||vt(!1),e}function G8(t){let e=v.useContext(xo);return e||vt(!1),e}function QD(t){let e=G8(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function K8(){var t;let e=v.useContext(HD),n=q8(zp.UseRouteError),r=QD(zp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Q8(){let{router:t}=H8(KD.UseNavigateStable),e=QD(zp.UseNavigateStable),n=v.useRef(!1);return qD(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,vd({fromRouteId:e},i)))},[t,e])}function Y8(t){let{to:e,replace:n,state:r,relative:s}=t;gc()||vt(!1);let{future:i,static:o}=v.useContext(wo),{matches:a}=v.useContext(xo),{pathname:l}=Ea(),c=pr(),u=qx(e,Hx(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function At(t){vt(!1)}function X8(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ni.Pop,navigator:i,static:o=!1,future:a}=t;gc()&&vt(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:vd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=mc(r));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,_=v.useMemo(()=>{let x=Wx(u,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:m,key:y},navigationType:s}},[l,u,h,p,m,y,s]);return _==null?null:v.createElement(wo.Provider,{value:c},v.createElement(_g.Provider,{children:n,value:_}))}function J8(t){let{children:e,location:n}=t;return V8(v0(e),n)}new Promise(()=>{});function v0(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,v0(r.props.children,i));return}r.type!==At&&vt(!1),!r.props.index||!r.props.children||vt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=v0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(this,arguments)}function Z8(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function eW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tW(t,e){return t.button===0&&(!e||e==="_self")&&!eW(t)}const nW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rW="6";try{window.__reactRouterVersion=rW}catch{}const sW="startTransition",KS=fP[sW];function iW(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=u8({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(h=>{c&&KS?KS(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(X8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const oW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=Z8(e,nW),{basename:m}=v.useContext(wo),y,_=!1;if(typeof c=="string"&&aW.test(c)&&(y=c,oW))try{let b=new URL(window.location.href),R=c.startsWith("//")?new URL(b.protocol+c):new URL(c),k=Wx(R.pathname,m);R.origin===b.origin&&k!=null?c=k+R.search+R.hash:_=!0}catch{}let x=L8(c,{relative:s}),T=lW(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:h});function w(b){r&&r(b),b.defaultPrevented||T(b)}return v.createElement("a",_0({},p,{href:y||x,onClick:_||i?r:w,ref:n,target:l}))});var QS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(QS||(QS={}));var YS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(YS||(YS={}));function lW(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=pr(),c=Ea(),u=GD(t,{relative:o});return v.useCallback(h=>{if(tW(h,n)){h.preventDefault();let p=r!==void 0?r:$p(c)===$p(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function cW(){return f.jsx(We,{to:"/",className:"flex items-center ml-2",children:f.jsx("img",{src:"/lovable-uploads/Logos-05-removebg-preview.png",alt:"Gurukul Code",className:"h-20 w-auto"})})}const uW=dc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?aa:"button";return f.jsx(o,{className:ae(uW({variant:e,size:n,className:t})),ref:i,...s})});Ce.displayName="Button";function dW({item:t,isActive:e,toggleSubmenu:n,openSubmenu:r}){return f.jsxs("div",{className:"relative group",children:[t.submenu?f.jsxs("button",{className:"px-3 py-2 rounded-md text-sm font-medium text-foreground/80 hover:text-primary flex items-center transition-colors",onClick:()=>n(t.title),children:[t.title,f.jsx(Px,{className:"ml-1 h-4 w-4"})]}):f.jsx(We,{to:t.href,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e(t.href)?"text-primary font-semibold":"text-foreground/80 hover:text-primary"}`,children:t.title}),t.submenu&&f.jsx("div",{className:"absolute left-0 mt-1 w-48 origin-top-left rounded-md bg-white dark:bg-secondary shadow-lg ring-1 ring-black ring-opacity-5 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:f.jsx("div",{className:"py-1",children:t.submenu.map(s=>f.jsx(We,{to:s.href,className:"block px-4 py-2 text-sm text-foreground/80 hover:bg-muted transition-colors",children:s.title},s.title))})})]},t.title)}const hW=()=>{};var XS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw yc(e)},yc=function(t){return new Error("Firebase Database ("+YD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[u],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new pW;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JD=function(t){const e=XD(t);return Kx.encodeByteArray(e,!0)},Wp=function(t){return JD(t).replace(/\./g,"")},Hp=function(t){try{return Kx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){return ZD(void 0,t)}function ZD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!gW(n)||(t[n]=ZD(t[n],e[n]));return t}function gW(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=()=>yW().__FIREBASE_DEFAULTS__,_W=()=>{if(typeof process>"u"||typeof XS>"u")return;const t=XS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hp(t[1]);return e&&JSON.parse(e)},wg=()=>{try{return hW()||vW()||_W()||wW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eM=t=>{var e,n;return(n=(e=wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tM=t=>{const e=eM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nM=()=>{var t;return(t=wg())===null||t===void 0?void 0:t.config},rM=t=>{var e;return(e=wg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wp(JSON.stringify(n)),Wp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function xW(){var t;const e=(t=wg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TW(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aM(){return YD.NODE_ADMIN===!0}function bW(){return!xW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lM(){try{return typeof indexedDB=="object"}catch{return!1}}function cM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function CW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW="FirebaseError";class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SW,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?IW(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Br(s,a,r)}}function IW(t,e){return t.replace(AW,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const AW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return JSON.parse(t)}function Pt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=_d(Hp(i[0])||""),n=_d(Hp(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},RW=function(t){const e=uM(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PW=function(t){const e=uM(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function w0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qp(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Hs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(JS(i)&&JS(o)){if(!Hs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function JS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const p=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(p<<1|p>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):h<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const p=(s<<5|s>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=p}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function kW(t,e){const n=new DW(t,e);return n.subscribe.bind(n)}class DW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MW(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vv),s.error===void 0&&(s.error=vv),s.complete===void 0&&(s.complete=vv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vv(){}function dM(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW=1e3,jW=2,VW=4*60*60*1e3,FW=.5;function ZS(t,e=LW,n=jW){const r=e*Math.pow(n,t),s=Math.round(FW*r*(Math.random()-.5)*2);return Math.min(VW,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($W(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BW(t){return t===Oo?void 0:t}function $W(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const WW={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},HW=Te.INFO,qW={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},GW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=qW[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class th{constructor(e){this.name=e,this._logLevel=HW,this._logHandler=GW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const KW=(t,e)=>e.some(n=>t instanceof n);let e1,t1;function QW(){return e1||(e1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YW(){return t1||(t1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hM=new WeakMap,x0=new WeakMap,fM=new WeakMap,_v=new WeakMap,Xx=new WeakMap;function XW(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($i(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hM.set(n,t)}).catch(()=>{}),Xx.set(e,t),e}function JW(t){if(x0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});x0.set(t,e)}let E0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return x0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZW(t){E0=t(E0)}function eH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wv(this),e,...n);return fM.set(r,e.sort?e.sort():[e]),$i(r)}:YW().includes(t)?function(...e){return t.apply(wv(this),e),$i(hM.get(this))}:function(...e){return $i(t.apply(wv(this),e))}}function tH(t){return typeof t=="function"?eH(t):(t instanceof IDBTransaction&&JW(t),KW(t,QW())?new Proxy(t,E0):t)}function $i(t){if(t instanceof IDBRequest)return XW(t);if(_v.has(t))return _v.get(t);const e=tH(t);return e!==t&&(_v.set(t,e),Xx.set(e,t)),e}const wv=t=>Xx.get(t);function pM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",l=>{r($i(o.result),l.oldVersion,l.newVersion,$i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const nH=["get","getKey","getAll","getAllKeys","count"],rH=["put","add","delete","clear"],xv=new Map;function n1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=rH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||nH.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return xv.set(e,i),i}ZW(t=>({...t,get:(e,n,r)=>n1(e,n)||t.get(e,n,r),has:(e,n)=>!!n1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const T0="@firebase/app",r1="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new th("@firebase/app"),oH="@firebase/app-compat",aH="@firebase/analytics-compat",lH="@firebase/analytics",cH="@firebase/app-check-compat",uH="@firebase/app-check",dH="@firebase/auth",hH="@firebase/auth-compat",fH="@firebase/database",pH="@firebase/data-connect",mH="@firebase/database-compat",gH="@firebase/functions",yH="@firebase/functions-compat",vH="@firebase/installations",_H="@firebase/installations-compat",wH="@firebase/messaging",xH="@firebase/messaging-compat",EH="@firebase/performance",TH="@firebase/performance-compat",bH="@firebase/remote-config",CH="@firebase/remote-config-compat",SH="@firebase/storage",IH="@firebase/storage-compat",AH="@firebase/firestore",RH="@firebase/vertexai",PH="@firebase/firestore-compat",NH="firebase",kH="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="[DEFAULT]",DH={[T0]:"fire-core",[oH]:"fire-core-compat",[lH]:"fire-analytics",[aH]:"fire-analytics-compat",[uH]:"fire-app-check",[cH]:"fire-app-check-compat",[dH]:"fire-auth",[hH]:"fire-auth-compat",[fH]:"fire-rtdb",[pH]:"fire-data-connect",[mH]:"fire-rtdb-compat",[gH]:"fire-fn",[yH]:"fire-fn-compat",[vH]:"fire-iid",[_H]:"fire-iid-compat",[wH]:"fire-fcm",[xH]:"fire-fcm-compat",[EH]:"fire-perf",[TH]:"fire-perf-compat",[bH]:"fire-rc",[CH]:"fire-rc-compat",[SH]:"fire-gcs",[IH]:"fire-gcs-compat",[AH]:"fire-fst",[PH]:"fire-fst-compat",[RH]:"fire-vertex","fire-js":"fire-js",[NH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Map,MH=new Map,C0=new Map;function s1(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jr(t){const e=t.name;if(C0.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;C0.set(e,t);for(const n of Gp.values())s1(n,t);for(const n of MH.values())s1(n,t);return!0}function Eo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Ta("app","Firebase",OH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=kH;function mM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:b0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw zi.create("bad-app-name",{appName:String(s)});if(n||(n=nM()),!n)throw zi.create("no-options");const i=Gp.get(s);if(i){if(Hs(n,i.options)&&Hs(r,i.config))return i;throw zi.create("duplicate-app",{appName:s})}const o=new zW(s);for(const l of C0.values())o.addComponent(l);const a=new LH(n,r,o);return Gp.set(s,a),a}function Eg(t=b0){const e=Gp.get(t);if(!e&&t===b0&&nM())return mM();if(!e)throw zi.create("no-app",{appName:t});return e}function Nn(t,e,n){var r;let s=(r=DH[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(a.join(" "));return}jr(new hr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="firebase-heartbeat-database",VH=1,wd="firebase-heartbeat-store";let Ev=null;function gM(){return Ev||(Ev=pM(jH,VH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(n){console.warn(n)}}}}).catch(t=>{throw zi.create("idb-open",{originalErrorMessage:t.message})})),Ev}async function FH(t){try{const n=(await gM()).transaction(wd),r=await n.objectStore(wd).get(yM(t));return await n.done,r}catch(e){if(e instanceof Br)qs.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function i1(t,e){try{const r=(await gM()).transaction(wd,"readwrite");await r.objectStore(wd).put(e,yM(t)),await r.done}catch(n){if(n instanceof Br)qs.warn(n.message);else{const r=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function yM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=1024,BH=30;class $H{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=o1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>BH){const o=HH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o1(),{heartbeatsToSend:r,unsentEntries:s}=zH(this._heartbeatsCache.heartbeats),i=Wp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qs.warn(n),""}}}function o1(){return new Date().toISOString().substring(0,10)}function zH(t,e=UH){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),a1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),a1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lM()?cM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a1(t){return Wp(JSON.stringify({version:2,heartbeats:t})).length}function HH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t){jr(new hr("platform-logger",e=>new sH(e),"PRIVATE")),jr(new hr("heartbeat",e=>new $H(e),"PRIVATE")),Nn(T0,r1,t),Nn(T0,r1,"esm2017"),Nn("fire-js","")}qH("");var GH="firebase",KH="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn(GH,KH,"app");var ts=function(){return ts=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ts.apply(this,arguments)};function nh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function QH(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function vM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YH=vM,_M=new Ta("auth","Firebase",vM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new th("@firebase/auth");function XH(t,...e){Kp.logLevel<=Te.WARN&&Kp.warn(`Auth (${ba}): ${t}`,...e)}function qf(t,...e){Kp.logLevel<=Te.ERROR&&Kp.error(`Auth (${ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw Jx(t,...e)}function ss(t,...e){return Jx(t,...e)}function wM(t,e,n){const r=Object.assign(Object.assign({},YH()),{[e]:n});return new Ta("auth","Firebase",r).create(e,{appName:t.name})}function Ms(t){return wM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _M.create(t,...e)}function ue(t,e,...n){if(!t)throw Jx(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qf(e),new Error(e)}function Gs(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JH(){return l1()==="http:"||l1()==="https:"}function l1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JH()||iM()||"connection"in navigator)?navigator.onLine:!0}function e7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=Yx()||oM()}get(){return ZH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t,e){Gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=new rh(3e4,6e4);function To(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bo(t,e,n,r,s={}){return EM(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=vc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return EW()||(c.referrerPolicy="no-referrer"),xM.fetch()(TM(t,t.config.apiHost,n,a),c)})}async function EM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},t7),e);try{const s=new s7(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw mf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw mf(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wM(t,u,c);Vr(t,u)}}catch(s){if(s instanceof Br)throw s;Vr(t,"network-request-failed",{message:String(s)})}}async function sh(t,e,n,r,s={}){const i=await bo(t,e,n,r,s);return"mfaPendingCredential"in i&&Vr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function TM(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Zx(t.config,s):`${t.config.apiScheme}://${s}`}function r7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),n7.get())})}}function mf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ss(t,e,r);return s.customData._tokenResponse=n,s}function c1(t){return t!==void 0&&t.enterprise!==void 0}class i7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function o7(t,e){return bo(t,"GET","/v2/recaptchaConfig",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(t,e){return bo(t,"POST","/v1/accounts:delete",e)}async function bM(t,e){return bo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l7(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=eE(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Mu(Tv(s.auth_time)),issuedAtTime:Mu(Tv(s.iat)),expirationTime:Mu(Tv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Tv(t){return Number(t)*1e3}function eE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qf("JWT malformed, contained fewer than 3 sections"),null;try{const s=Hp(n);return s?JSON.parse(s):(qf("Failed to decode base64 JWT payload"),null)}catch(s){return qf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function u1(t){const e=eE(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Br&&c7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await xd(t,bM(n,{idToken:r}));ue(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?CM(i.providerUserInfo):[],a=h7(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new I0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function d7(t){const e=ft(t);await Qp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h7(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function CM(t){return t.map(e=>{var{providerId:n}=e,r=nh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e){const n=await EM(t,{},async()=>{const r=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=TM(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xM.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p7(t,e){return bo(t,"POST","/v2/accounts:revokeToken",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=u1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await f7(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new El;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=nh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new I0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await xd(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l7(this,e)}reload(){return d7(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await xd(this,a7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:R,isAnonymous:k,providerData:O,stsTokenManager:S}=n;ue(b&&S,e,"internal-error");const C=El.fromJSON(this.name,S);ue(typeof b=="string",e,"internal-error"),di(h,e.name),di(p,e.name),ue(typeof R=="boolean",e,"internal-error"),ue(typeof k=="boolean",e,"internal-error"),di(m,e.name),di(y,e.name),di(_,e.name),di(x,e.name),di(T,e.name),di(w,e.name);const I=new Rs({uid:b,auth:e,email:p,emailVerified:R,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:m,tenantId:_,stsTokenManager:C,createdAt:T,lastLoginAt:w});return O&&Array.isArray(O)&&(I.providerData=O.map(P=>Object.assign({},P))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new El;s.updateFromServerResponse(n);const i=new Rs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?CM(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new El;a.updateFromIdToken(r);const l=new Rs({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new I0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map;function Ps(t){Gs(t instanceof Function,"Expected a class definition");let e=d1.get(t);return e?(Gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SM.type="NONE";const h1=SM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Gf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Gf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tl(Ps(h1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ps(h1);const o=Gf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Rs._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Tl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Tl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kM(e))return"Blackberry";if(DM(e))return"Webos";if(AM(e))return"Safari";if((e.includes("chrome/")||RM(e))&&!e.includes("edge/"))return"Chrome";if(NM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IM(t=cn()){return/firefox\//i.test(t)}function AM(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RM(t=cn()){return/crios\//i.test(t)}function PM(t=cn()){return/iemobile/i.test(t)}function NM(t=cn()){return/android/i.test(t)}function kM(t=cn()){return/blackberry/i.test(t)}function DM(t=cn()){return/webos/i.test(t)}function tE(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function m7(t=cn()){var e;return tE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g7(){return TW()&&document.documentMode===10}function MM(t=cn()){return tE(t)||NM(t)||DM(t)||kM(t)||/windows phone/i.test(t)||PM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t,e=[]){let n;switch(t){case"Browser":n=f1(cn());break;case"Worker":n=`${f1(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e={}){return bo(t,"GET","/v2/passwordPolicy",To(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=6;class w7{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p1(this),this.idTokenSubscription=new p1(this),this.beforeStateQueue=new y7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_M,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bM(this,{idToken:e}),r=await Rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(Ms(this));const n=e?ft(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v7(this),n=new w7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await p7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ca(t){return ft(t)}class p1{constructor(e){this.auth=e,this.observer=null,this.addObserver=kW(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E7(t){Tg=t}function LM(t){return Tg.loadJS(t)}function T7(){return Tg.recaptchaEnterpriseScript}function b7(){return Tg.gapiScript}function C7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class S7{constructor(){this.enterprise=new I7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const A7="recaptcha-enterprise",jM="NO_RECAPTCHA";class R7{constructor(e){this.type=A7,this.auth=Ca(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{o7(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new i7(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;c1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(jM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S7().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&c1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=T7();l.length!==0&&(l+=a),LM(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function m1(t,e,n,r=!1,s=!1){const i=new R7(t);let o;if(s)o=jM;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function A0(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await m1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await m1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t,e){const n=Eo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Hs(i,e??{}))return s;Vr(s,"already-initialized")}return n.initialize({options:e})}function N7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k7(t,e,n){const r=Ca(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=VM(e),{host:o,port:a}=D7(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Hs(c,r.config.emulator)&&Hs(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,M7()}function VM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D7(t){const e=VM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:g1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:g1(o)}}}function g1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function O7(t,e){return bo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L7(t,e){return sh(t,"POST","/v1/accounts:signInWithPassword",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e){return sh(t,"POST","/v1/accounts:signInWithEmailLink",To(t,e))}async function V7(t,e){return sh(t,"POST","/v1/accounts:signInWithEmailLink",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends nE{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ed(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ed(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A0(e,n,"signInWithPassword",L7);case"emailLink":return j7(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A0(e,r,"signUpPassword",O7);case"emailLink":return V7(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e){return sh(t,"POST","/v1/accounts:signInWithIdp",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7="http://localhost";class ca extends nE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=nh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ca(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bl(e,n)}buildRequest(){const e={requestUri:F7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B7(t){const e=gu(yu(t)).link,n=e?gu(yu(e)).deep_link_id:null,r=gu(yu(t)).deep_link_id;return(r?gu(yu(r)).link:null)||r||n||e||t}class rE{constructor(e){var n,r,s,i,o,a;const l=gu(yu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=U7((s=l.mode)!==null&&s!==void 0?s:null);ue(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=B7(e);try{return new rE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.providerId=_c.PROVIDER_ID}static credential(e,n){return Ed._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rE.parseLink(n);return ue(r,"argument-error"),Ed._fromEmailAndCode(e,r.code,r.tenantId)}}_c.PROVIDER_ID="password";_c.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_c.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends FM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends ih{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends ih{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends ih{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $7(t,e){return sh(t,"POST","/v1/accounts:signUp",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Rs._fromIdTokenResponse(e,r,s),o=y1(r);return new ua({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=y1(r);return new ua({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function y1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Br{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yp(e,n,r,s)}}function UM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yp._fromErrorAndOperation(t,i,e,r):i})}async function z7(t,e,n=!1){const r=await xd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ua._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(Ms(r));const s="reauthenticate";try{const i=await xd(t,UM(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=eE(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),ua._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e,n=!1){if(Hn(t.app))return Promise.reject(Ms(t));const r="signIn",s=await UM(t,r,e),i=await ua._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function H7(t,e){return BM(Ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t){const e=Ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function q7(t,e,n){if(Hn(t.app))return Promise.reject(Ms(t));const r=Ca(t),o=await A0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$M(t),l}),a=await ua._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function G7(t,e,n){return Hn(t.app)?Promise.reject(Ms(t)):H7(ft(t),_c.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$M(t),r})}function K7(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function Q7(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function Y7(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function sE(t){return ft(t).signOut()}const Xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xp,"1"),this.storage.removeItem(Xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=1e3,J7=10;class WM extends zM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);g7()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,J7):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WM.type="LOCAL";const Z7=WM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM extends zM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HM.type="SESSION";const qM=HM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await eq(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=iE("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function nq(t){is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function rq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iq(){return GM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="firebaseLocalStorageDb",oq=1,Jp="firebaseLocalStorage",QM="fbase_key";class oh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cg(t,e){return t.transaction([Jp],e?"readwrite":"readonly").objectStore(Jp)}function aq(){const t=indexedDB.deleteDatabase(KM);return new oh(t).toPromise()}function R0(){const t=indexedDB.open(KM,oq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jp,{keyPath:QM})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jp)?e(r):(r.close(),await aq(),e(await R0()))})})}async function v1(t,e,n){const r=Cg(t,!0).put({[QM]:e,value:n});return new oh(r).toPromise()}async function lq(t,e){const n=Cg(t,!1).get(e),r=await new oh(n).toPromise();return r===void 0?null:r.value}function _1(t,e){const n=Cg(t,!0).delete(e);return new oh(n).toPromise()}const cq=800,uq=3;class YM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bg._getInstance(iq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rq(),!this.activeServiceWorker)return;this.sender=new tq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R0();return await v1(e,Xp,"1"),await _1(e,Xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>v1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Cg(s,!1).getAll();return new oh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YM.type="LOCAL";const dq=YM;new rh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t,e){return e?Ps(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends nE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fq(t){return BM(t.auth,new oE(t),t.bypassAuthState)}function pq(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),W7(n,new oE(t),t.bypassAuthState)}async function mq(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),z7(n,new oE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fq;case"linkViaPopup":case"linkViaRedirect":return mq;case"reauthViaPopup":case"reauthViaRedirect":return pq;default:Vr(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=new rh(2e3,1e4);class al extends XM{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=iE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gq.get())};e()}}al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq="pendingRedirect",Kf=new Map;class vq extends XM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const r=await _q(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _q(t,e){const n=Eq(e),r=xq(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wq(t,e){Kf.set(t._key(),e)}function xq(t){return Ps(t._redirectPersistence)}function Eq(t){return Gf(yq,t.config.apiKey,t.name)}async function Tq(t,e,n=!1){if(Hn(t.app))return Promise.reject(Ms(t));const r=Ca(t),s=hq(r,e),o=await new vq(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=10*60*1e3;class Cq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Sq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JM(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ss(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bq&&this.cachedEventUids.clear(),this.cachedEventUids.has(w1(e))}saveEventToCache(e){this.cachedEventUids.add(w1(e)),this.lastProcessedEventTime=Date.now()}}function w1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Sq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iq(t,e={}){return bo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rq=/^https?/;async function Pq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Iq(t);for(const n of e)try{if(Nq(n))return}catch{}Vr(t,"unauthorized-domain")}function Nq(t){const e=S0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Rq.test(n))return!1;if(Aq.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=new rh(3e4,6e4);function x1(){const t=is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dq(t){return new Promise((e,n)=>{var r,s,i;function o(){x1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x1(),n(ss(t,"network-request-failed"))},timeout:kq.get()})}if(!((s=(r=is().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=is().gapi)===null||i===void 0)&&i.load)o();else{const a=C7("iframefcb");return is()[a]=()=>{gapi.load?o():n(ss(t,"network-request-failed"))},LM(`${b7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function Mq(t){return Qf=Qf||Dq(t),Qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq=new rh(5e3,15e3),Lq="__/auth/iframe",jq="emulator/auth/iframe",Vq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uq(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zx(e,jq):`https://${t.config.authDomain}/${Lq}`,r={apiKey:e.apiKey,appName:t.name,v:ba},s=Fq.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vc(r).slice(1)}`}async function Bq(t){const e=await Mq(t),n=is().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:Uq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vq,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ss(t,"network-request-failed"),a=is().setTimeout(()=>{i(o)},Oq.get());function l(){is().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zq=500,Wq=600,Hq="_blank",qq="http://localhost";class E1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gq(t,e,n,r=zq,s=Wq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$q),{width:r.toString(),height:s.toString(),top:i,left:o}),c=cn().toLowerCase();n&&(a=RM(c)?Hq:n),IM(c)&&(e=e||qq,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(m7(c)&&a!=="_self")return Kq(e||"",a),new E1(null);const h=window.open(e||"",a,u);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new E1(h)}function Kq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="__/auth/handler",Yq="emulator/auth/handler",Xq=encodeURIComponent("fac");async function T1(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ba,eventId:s};if(e instanceof FM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",w0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof ih){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Xq}=${encodeURIComponent(l)}`:"";return`${Jq(t)}?${vc(a).slice(1)}${c}`}function Jq({config:t}){return t.emulator?Zx(t,Yq):`https://${t.authDomain}/${Qq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="webStorageSupport";class Zq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qM,this._completeRedirectFn=Tq,this._overrideRedirectResult=wq}async _openPopup(e,n,r,s){var i;Gs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await T1(e,n,r,S0(),s);return Gq(e,o,iE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await T1(e,n,r,S0(),s);return nq(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Gs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Bq(e),r=new Cq(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bv,{type:bv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[bv];o!==void 0&&n(!!o),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MM()||AM()||tE()}}const eG=Zq;var b1="@firebase/auth",C1="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rG(t){jr(new hr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OM(t)},c=new x7(r,s,i,l);return N7(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jr(new hr("auth-internal",e=>{const n=Ca(e.getProvider("auth").getImmediate());return(r=>new tG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(b1,C1,nG(t)),Nn(b1,C1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=5*60,iG=rM("authIdTokenMaxAge")||sG;let S1=null;const oG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iG)return;const s=n==null?void 0:n.token;S1!==s&&(S1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aG(t=Eg()){const e=Eo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P7(t,{popupRedirectResolver:eG,persistence:[dq,Z7,qM]}),r=rM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=oG(i.toString());Q7(n,o,()=>o(n.currentUser)),K7(n,a=>o(a))}}const s=eM("auth");return s&&k7(n,`http://${s}`),n}function lG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}E7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ss("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",lG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rG("Browser");var I1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,ZM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(P,D,M){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return C.prototype[D].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,C,I){I||(I=0);var P=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)P[D]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(D=0;16>D;++D)P[D]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],D=S.g[2];var M=S.g[3],N=C+(M^I&(D^M))+P[0]+3614090360&4294967295;C=I+(N<<7&4294967295|N>>>25),N=M+(D^C&(I^D))+P[1]+3905402710&4294967295,M=C+(N<<12&4294967295|N>>>20),N=D+(I^M&(C^I))+P[2]+606105819&4294967295,D=M+(N<<17&4294967295|N>>>15),N=I+(C^D&(M^C))+P[3]+3250441966&4294967295,I=D+(N<<22&4294967295|N>>>10),N=C+(M^I&(D^M))+P[4]+4118548399&4294967295,C=I+(N<<7&4294967295|N>>>25),N=M+(D^C&(I^D))+P[5]+1200080426&4294967295,M=C+(N<<12&4294967295|N>>>20),N=D+(I^M&(C^I))+P[6]+2821735955&4294967295,D=M+(N<<17&4294967295|N>>>15),N=I+(C^D&(M^C))+P[7]+4249261313&4294967295,I=D+(N<<22&4294967295|N>>>10),N=C+(M^I&(D^M))+P[8]+1770035416&4294967295,C=I+(N<<7&4294967295|N>>>25),N=M+(D^C&(I^D))+P[9]+2336552879&4294967295,M=C+(N<<12&4294967295|N>>>20),N=D+(I^M&(C^I))+P[10]+4294925233&4294967295,D=M+(N<<17&4294967295|N>>>15),N=I+(C^D&(M^C))+P[11]+2304563134&4294967295,I=D+(N<<22&4294967295|N>>>10),N=C+(M^I&(D^M))+P[12]+1804603682&4294967295,C=I+(N<<7&4294967295|N>>>25),N=M+(D^C&(I^D))+P[13]+4254626195&4294967295,M=C+(N<<12&4294967295|N>>>20),N=D+(I^M&(C^I))+P[14]+2792965006&4294967295,D=M+(N<<17&4294967295|N>>>15),N=I+(C^D&(M^C))+P[15]+1236535329&4294967295,I=D+(N<<22&4294967295|N>>>10),N=C+(D^M&(I^D))+P[1]+4129170786&4294967295,C=I+(N<<5&4294967295|N>>>27),N=M+(I^D&(C^I))+P[6]+3225465664&4294967295,M=C+(N<<9&4294967295|N>>>23),N=D+(C^I&(M^C))+P[11]+643717713&4294967295,D=M+(N<<14&4294967295|N>>>18),N=I+(M^C&(D^M))+P[0]+3921069994&4294967295,I=D+(N<<20&4294967295|N>>>12),N=C+(D^M&(I^D))+P[5]+3593408605&4294967295,C=I+(N<<5&4294967295|N>>>27),N=M+(I^D&(C^I))+P[10]+38016083&4294967295,M=C+(N<<9&4294967295|N>>>23),N=D+(C^I&(M^C))+P[15]+3634488961&4294967295,D=M+(N<<14&4294967295|N>>>18),N=I+(M^C&(D^M))+P[4]+3889429448&4294967295,I=D+(N<<20&4294967295|N>>>12),N=C+(D^M&(I^D))+P[9]+568446438&4294967295,C=I+(N<<5&4294967295|N>>>27),N=M+(I^D&(C^I))+P[14]+3275163606&4294967295,M=C+(N<<9&4294967295|N>>>23),N=D+(C^I&(M^C))+P[3]+4107603335&4294967295,D=M+(N<<14&4294967295|N>>>18),N=I+(M^C&(D^M))+P[8]+1163531501&4294967295,I=D+(N<<20&4294967295|N>>>12),N=C+(D^M&(I^D))+P[13]+2850285829&4294967295,C=I+(N<<5&4294967295|N>>>27),N=M+(I^D&(C^I))+P[2]+4243563512&4294967295,M=C+(N<<9&4294967295|N>>>23),N=D+(C^I&(M^C))+P[7]+1735328473&4294967295,D=M+(N<<14&4294967295|N>>>18),N=I+(M^C&(D^M))+P[12]+2368359562&4294967295,I=D+(N<<20&4294967295|N>>>12),N=C+(I^D^M)+P[5]+4294588738&4294967295,C=I+(N<<4&4294967295|N>>>28),N=M+(C^I^D)+P[8]+2272392833&4294967295,M=C+(N<<11&4294967295|N>>>21),N=D+(M^C^I)+P[11]+1839030562&4294967295,D=M+(N<<16&4294967295|N>>>16),N=I+(D^M^C)+P[14]+4259657740&4294967295,I=D+(N<<23&4294967295|N>>>9),N=C+(I^D^M)+P[1]+2763975236&4294967295,C=I+(N<<4&4294967295|N>>>28),N=M+(C^I^D)+P[4]+1272893353&4294967295,M=C+(N<<11&4294967295|N>>>21),N=D+(M^C^I)+P[7]+4139469664&4294967295,D=M+(N<<16&4294967295|N>>>16),N=I+(D^M^C)+P[10]+3200236656&4294967295,I=D+(N<<23&4294967295|N>>>9),N=C+(I^D^M)+P[13]+681279174&4294967295,C=I+(N<<4&4294967295|N>>>28),N=M+(C^I^D)+P[0]+3936430074&4294967295,M=C+(N<<11&4294967295|N>>>21),N=D+(M^C^I)+P[3]+3572445317&4294967295,D=M+(N<<16&4294967295|N>>>16),N=I+(D^M^C)+P[6]+76029189&4294967295,I=D+(N<<23&4294967295|N>>>9),N=C+(I^D^M)+P[9]+3654602809&4294967295,C=I+(N<<4&4294967295|N>>>28),N=M+(C^I^D)+P[12]+3873151461&4294967295,M=C+(N<<11&4294967295|N>>>21),N=D+(M^C^I)+P[15]+530742520&4294967295,D=M+(N<<16&4294967295|N>>>16),N=I+(D^M^C)+P[2]+3299628645&4294967295,I=D+(N<<23&4294967295|N>>>9),N=C+(D^(I|~M))+P[0]+4096336452&4294967295,C=I+(N<<6&4294967295|N>>>26),N=M+(I^(C|~D))+P[7]+1126891415&4294967295,M=C+(N<<10&4294967295|N>>>22),N=D+(C^(M|~I))+P[14]+2878612391&4294967295,D=M+(N<<15&4294967295|N>>>17),N=I+(M^(D|~C))+P[5]+4237533241&4294967295,I=D+(N<<21&4294967295|N>>>11),N=C+(D^(I|~M))+P[12]+1700485571&4294967295,C=I+(N<<6&4294967295|N>>>26),N=M+(I^(C|~D))+P[3]+2399980690&4294967295,M=C+(N<<10&4294967295|N>>>22),N=D+(C^(M|~I))+P[10]+4293915773&4294967295,D=M+(N<<15&4294967295|N>>>17),N=I+(M^(D|~C))+P[1]+2240044497&4294967295,I=D+(N<<21&4294967295|N>>>11),N=C+(D^(I|~M))+P[8]+1873313359&4294967295,C=I+(N<<6&4294967295|N>>>26),N=M+(I^(C|~D))+P[15]+4264355552&4294967295,M=C+(N<<10&4294967295|N>>>22),N=D+(C^(M|~I))+P[6]+2734768916&4294967295,D=M+(N<<15&4294967295|N>>>17),N=I+(M^(D|~C))+P[13]+1309151649&4294967295,I=D+(N<<21&4294967295|N>>>11),N=C+(D^(I|~M))+P[4]+4149444226&4294967295,C=I+(N<<6&4294967295|N>>>26),N=M+(I^(C|~D))+P[11]+3174756917&4294967295,M=C+(N<<10&4294967295|N>>>22),N=D+(C^(M|~I))+P[2]+718787259&4294967295,D=M+(N<<15&4294967295|N>>>17),N=I+(M^(D|~C))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,P=this.B,D=this.h,M=0;M<C;){if(D==0)for(;M<=I;)s(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<C;)if(P[D++]=S.charCodeAt(M++),D==this.blockSize){s(this,P),D=0;break}}else for(;M<C;)if(P[D++]=S[M++],D==this.blockSize){s(this,P),D=0;break}}this.h=D,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var P=0;32>P;P+=8)S[I++]=this.g[C]>>>P&255;return S};function i(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function o(S,C){this.h=C;for(var I=[],P=!0,D=S.length-1;0<=D;D--){var M=S[D]|0;P&&M==C||(I[D]=M,P=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?i(S,function(C){return new o([C|0],0>C?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return x(c(-S));for(var C=[],I=1,P=0;S>=I;P++)C[P]=S/I|0,I*=4294967296;return new o(C,0)}function u(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return x(u(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),P=h,D=0;D<S.length;D+=8){var M=Math.min(8,S.length-D),N=parseInt(S.substring(D,D+M),C);8>M?(M=c(Math.pow(C,M)),P=P.j(M).add(c(N))):(P=P.j(I),P=P.add(c(N)))}return P}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-x(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var P=this.i(I);S+=(0<=P?P:4294967296+P)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(_(this))return"-"+x(this).toString(S);for(var C=c(Math.pow(S,6)),I=this,P="";;){var D=R(I,C).g;I=T(I,D.j(C));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=D,y(I))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=T(this,S),_(S)?-1:y(S)?0:1};function x(S){for(var C=S.g.length,I=[],P=0;P<C;P++)I[P]=~S.g[P];return new o(I,~S.h).add(p)}t.abs=function(){return _(this)?x(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],P=0,D=0;D<=C;D++){var M=P+(this.i(D)&65535)+(S.i(D)&65535),N=(M>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);P=N>>>16,M&=65535,N&=65535,I[D]=N<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function T(S,C){return S.add(x(C))}t.j=function(S){if(y(this)||y(S))return h;if(_(this))return _(S)?x(this).j(x(S)):x(x(this).j(S));if(_(S))return x(this.j(x(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],P=0;P<2*C;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<S.g.length;D++){var M=this.i(P)>>>16,N=this.i(P)&65535,W=S.i(D)>>>16,ee=S.i(D)&65535;I[2*P+2*D]+=N*ee,w(I,2*P+2*D),I[2*P+2*D+1]+=M*ee,w(I,2*P+2*D+1),I[2*P+2*D+1]+=N*W,w(I,2*P+2*D+1),I[2*P+2*D+2]+=M*W,w(I,2*P+2*D+2)}for(P=0;P<C;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=C;P<2*C;P++)I[P]=0;return new o(I,0)};function w(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function b(S,C){this.g=S,this.h=C}function R(S,C){if(y(C))throw Error("division by zero");if(y(S))return new b(h,h);if(_(S))return C=R(x(S),C),new b(x(C.g),x(C.h));if(_(C))return C=R(S,x(C)),new b(x(C.g),C.h);if(30<S.g.length){if(_(S)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var I=p,P=C;0>=P.l(S);)I=k(I),P=k(P);var D=O(I,1),M=O(P,1);for(P=O(P,2),I=O(I,2);!y(P);){var N=M.add(P);0>=N.l(S)&&(D=D.add(I),M=N),P=O(P,1),I=O(I,1)}return C=T(S,D.j(C)),new b(D,C)}for(D=h;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=c(I),N=M.j(C);_(N)||0<N.l(S);)I-=P,M=c(I),N=M.j(C);y(M)&&(M=p),D=D.add(M),S=T(S,N)}return new b(D,S)}t.A=function(S){return R(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],P=0;P<C;P++)I[P]=this.i(P)&S.i(P);return new o(I,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],P=0;P<C;P++)I[P]=this.i(P)|S.i(P);return new o(I,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],P=0;P<C;P++)I[P]=this.i(P)^S.i(P);return new o(I,this.h^S.h)};function k(S){for(var C=S.g.length+1,I=[],P=0;P<C;P++)I[P]=S.i(P)<<1|S.i(P-1)>>>31;return new o(I,S.h)}function O(S,C){var I=C>>5;C%=32;for(var P=S.g.length-I,D=[],M=0;M<P;M++)D[M]=0<C?S.i(M+I)>>>C|S.i(M+I+1)<<32-C:S.i(M+I);return new o(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Wi=o}).apply(typeof I1<"u"?I1:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e2,vu,t2,Yf,P0,n2,r2,s2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,E){return d==Array.prototype||d==Object.prototype||(d[g]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var g=0;g<d.length;++g){var E=d[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var E=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var L=d[A];if(!(L in E))break e;E=E[L]}d=d[d.length-1],A=E[d],g=g(A),g!=A&&g!=null&&e(E,d,{configurable:!0,writable:!0,value:g})}}function i(d,g){d instanceof String&&(d+="");var E=0,A=!1,L={next:function(){if(!A&&E<d.length){var V=E++;return{value:g(V,d[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(d){return d||function(){return i(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function c(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function u(d,g,E){return d.call.apply(d.bind,arguments)}function h(d,g,E){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),d.apply(g,L)}}return function(){return d.apply(g,arguments)}}function p(d,g,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function m(d,g){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function y(d,g){function E(){}E.prototype=g.prototype,d.aa=g.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(A,L,V){for(var Q=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Q[Ue-2]=arguments[Ue];return g.prototype[L].apply(A,Q)}}function _(d){const g=d.length;if(0<g){const E=Array(g);for(let A=0;A<g;A++)E[A]=d[A];return E}return[]}function x(d,g){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(l(A)){const L=d.length||0,V=A.length||0;d.length=L+V;for(let Q=0;Q<V;Q++)d[L+Q]=A[Q]}else d.push(A)}}class T{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var k=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(d,g,E){for(const A in d)g.call(E,d[A],A,d)}function S(d,g){for(const E in d)g.call(void 0,d[E],E,d)}function C(d){const g={};for(const E in d)g[E]=d[E];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,g){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)d[E]=A[E];for(let V=0;V<I.length;V++)E=I[V],Object.prototype.hasOwnProperty.call(A,E)&&(d[E]=A[E])}}function D(d){var g=1;d=d.split(":");const E=[];for(;0<g&&d.length;)E.push(d.shift()),g--;return d.length&&E.push(d.join(":")),E}function M(d){a.setTimeout(()=>{throw d},0)}function N(){var d=U;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class W{constructor(){this.h=this.g=null}add(g,E){const A=ee.get();A.set(g,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ee=new T(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,j=!1,U=new W,Y=()=>{const d=a.Promise.resolve(void 0);oe=()=>{d.then(H)}};var H=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(E){M(E)}var g=ee;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}j=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};a.addEventListener("test",E,g),a.removeEventListener("test",E,g)}catch{}return d}();function Ge(d,g){if(se.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(k){e:{try{R(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else E=="mouseover"?g=d.fromElement:E=="mouseout"&&(g=d.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ge[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ge.aa.h.call(this)}}y(Ge,se);var ge={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),un=0;function tt(d,g,E,A,L){this.listener=d,this.proxy=null,this.src=g,this.type=E,this.capture=!!A,this.ha=L,this.key=++un,this.da=this.fa=!1}function pt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ut(d){this.src=d,this.g={},this.h=0}Ut.prototype.add=function(d,g,E,A,L){var V=d.toString();d=this.g[V],d||(d=this.g[V]=[],this.h++);var Q=En(d,g,A,L);return-1<Q?(g=d[Q],E||(g.fa=!1)):(g=new tt(g,this.src,V,!!A,L),g.fa=E,d.push(g)),g};function Fn(d,g){var E=g.type;if(E in d.g){var A=d.g[E],L=Array.prototype.indexOf.call(A,g,void 0),V;(V=0<=L)&&Array.prototype.splice.call(A,L,1),V&&(pt(g),d.g[E].length==0&&(delete d.g[E],d.h--))}}function En(d,g,E,A){for(var L=0;L<d.length;++L){var V=d[L];if(!V.da&&V.listener==g&&V.capture==!!E&&V.ha==A)return L}return-1}var gs="closure_lm_"+(1e6*Math.random()|0),ti={};function gr(d,g,E,A,L){if(Array.isArray(g)){for(var V=0;V<g.length;V++)gr(d,g[V],E,A,L);return null}return E=Mc(E),d&&d[ze]?d.K(g,E,c(A)?!!A.capture:!!A,L):Nc(d,g,E,!1,A,L)}function Nc(d,g,E,A,L,V){if(!g)throw Error("Invalid event type");var Q=c(L)?!!L.capture:!!L,Ue=ni(d);if(Ue||(d[gs]=Ue=new Ut(d)),E=Ue.add(g,E,A,Q,V),E.proxy)return E;if(A=kc(),E.proxy=A,A.src=d,A.listener=E,d.addEventListener)ke||(L=Q),L===void 0&&(L=!1),d.addEventListener(g.toString(),A,L);else if(d.attachEvent)d.attachEvent(Ah(g.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function kc(){function d(E){return g.call(d.src,d.listener,E)}const g=Ey;return d}function _t(d,g,E,A,L){if(Array.isArray(g))for(var V=0;V<g.length;V++)_t(d,g[V],E,A,L);else A=c(A)?!!A.capture:!!A,E=Mc(E),d&&d[ze]?(d=d.i,g=String(g).toString(),g in d.g&&(V=d.g[g],E=En(V,E,A,L),-1<E&&(pt(V[E]),Array.prototype.splice.call(V,E,1),V.length==0&&(delete d.g[g],d.h--)))):d&&(d=ni(d))&&(g=d.g[g.toString()],d=-1,g&&(d=En(g,E,A,L)),(E=-1<d?g[d]:null)&&Wr(E))}function Wr(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[ze])Fn(g.i,d);else{var E=d.type,A=d.proxy;g.removeEventListener?g.removeEventListener(E,A,d.capture):g.detachEvent?g.detachEvent(Ah(E),A):g.addListener&&g.removeListener&&g.removeListener(A),(E=ni(g))?(Fn(E,d),E.h==0&&(E.src=null,g[gs]=null)):pt(d)}}}function Ah(d){return d in ti?ti[d]:ti[d]="on"+d}function Ey(d,g){if(d.da)d=!0;else{g=new Ge(g,this);var E=d.listener,A=d.ha||d.src;d.fa&&Wr(d),d=E.call(A,g)}return d}function ni(d){return d=d[gs],d instanceof Ut?d:null}var Dc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mc(d){return typeof d=="function"?d:(d[Dc]||(d[Dc]=function(g){return d.handleEvent(g)}),d[Dc])}function wt(){X.call(this),this.i=new Ut(this),this.M=this,this.F=null}y(wt,X),wt.prototype[ze]=!0,wt.prototype.removeEventListener=function(d,g,E,A){_t(this,d,g,E,A)};function lt(d,g){var E,A=d.F;if(A)for(E=[];A;A=A.F)E.push(A);if(d=d.M,A=g.type||g,typeof g=="string")g=new se(g,d);else if(g instanceof se)g.target=g.target||d;else{var L=g;g=new se(A,d),P(g,L)}if(L=!0,E)for(var V=E.length-1;0<=V;V--){var Q=g.g=E[V];L=Io(Q,A,!0,g)&&L}if(Q=g.g=d,L=Io(Q,A,!0,g)&&L,L=Io(Q,A,!1,g)&&L,E)for(V=0;V<E.length;V++)Q=g.g=E[V],L=Io(Q,A,!1,g)&&L}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var E=d.g[g],A=0;A<E.length;A++)pt(E[A]);delete d.g[g],d.h--}}this.F=null},wt.prototype.K=function(d,g,E,A){return this.i.add(String(d),g,!1,E,A)},wt.prototype.L=function(d,g,E,A){return this.i.add(String(d),g,!0,E,A)};function Io(d,g,E,A){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,V=0;V<g.length;++V){var Q=g[V];if(Q&&!Q.da&&Q.capture==E){var Ue=Q.listener,Bt=Q.ha||Q.src;Q.fa&&Fn(d.i,Q),L=Ue.call(Bt,A)!==!1&&L}}return L&&!A.defaultPrevented}function ys(d,g,E){if(typeof d=="function")E&&(d=p(d,E));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Oc(d){d.g=ys(()=>{d.g=null,d.i&&(d.i=!1,Oc(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Ty extends X{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Oc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(d){X.call(this),this.h=d,this.g={}}y(ri,X);var Lc=[];function Rh(d){O(d.g,function(g,E){this.g.hasOwnProperty(E)&&Wr(g)},d),d.g={}}ri.prototype.N=function(){ri.aa.N.call(this),Rh(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ao=a.JSON.stringify,Hr=a.JSON.parse,by=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function fe(){}fe.prototype.h=null;function Fe(d){return d.h||(d.h=d.i())}function je(){}var Kt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tn(){se.call(this,"d")}y(Tn,se);function si(){se.call(this,"c")}y(si,se);var vs={},yb=null;function Ph(){return yb=yb||new wt}vs.La="serverreachability";function vb(d){se.call(this,vs.La,d)}y(vb,se);function jc(d){const g=Ph();lt(g,new vb(g))}vs.STAT_EVENT="statevent";function _b(d,g){se.call(this,vs.STAT_EVENT,d),this.stat=g}y(_b,se);function dn(d){const g=Ph();lt(g,new _b(g,d))}vs.Ma="timingevent";function wb(d,g){se.call(this,vs.Ma,d),this.size=g}y(wb,se);function Vc(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function Fc(){this.g=!0}Fc.prototype.xa=function(){this.g=!1};function zU(d,g,E,A,L,V){d.info(function(){if(d.g)if(V)for(var Q="",Ue=V.split("&"),Bt=0;Bt<Ue.length;Bt++){var De=Ue[Bt].split("=");if(1<De.length){var Qt=De[0];De=De[1];var Yt=Qt.split("_");Q=2<=Yt.length&&Yt[1]=="type"?Q+(Qt+"="+De+"&"):Q+(Qt+"=redacted&")}}else Q=null;else Q=V;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+E+`
`+Q})}function WU(d,g,E,A,L,V,Q){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+E+`
`+V+" "+Q})}function La(d,g,E,A){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+qU(d,E)+(A?" "+A:"")})}function HU(d,g){d.info(function(){return"TIMEOUT: "+g})}Fc.prototype.info=function(){};function qU(d,g){if(!d.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var A=E[d];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Q=1;Q<L.length;Q++)L[Q]=""}}}}return Ao(E)}catch{return g}}var Nh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cy;function kh(){}y(kh,fe),kh.prototype.g=function(){return new XMLHttpRequest},kh.prototype.i=function(){return{}},Cy=new kh;function ii(d,g,E,A){this.j=d,this.i=g,this.l=E,this.R=A||1,this.U=new ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eb}function Eb(){this.i=null,this.g="",this.h=!1}var Tb={},Sy={};function Iy(d,g,E){d.L=1,d.v=Lh(_s(g)),d.m=E,d.P=!0,bb(d,null)}function bb(d,g){d.F=Date.now(),Dh(d),d.A=_s(d.v);var E=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),Vb(E.i,"t",A),d.C=0,E=d.j.J,d.h=new Eb,d.g=nC(d.j,E?g:null,!d.m),0<d.O&&(d.M=new Ty(p(d.Y,d,d.g),d.O)),g=d.U,E=d.g,A=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(Lc[0]=L.toString()),L=Lc);for(var V=0;V<L.length;V++){var Q=gr(E,L[V],A||g.handleEvent,!1,g.h||g);if(!Q)break;g.g[Q.key]=Q}g=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),jc(),zU(d.i,d.u,d.A,d.l,d.R,d.m)}ii.prototype.ca=function(d){d=d.target;const g=this.M;g&&ws(d)==3?g.j():this.Y(d)},ii.prototype.Y=function(d){try{if(d==this.g)e:{const Yt=ws(this.g);var g=this.g.Ba();const Fa=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||Hb(this.g)))){this.J||Yt!=4||g==7||(g==8||0>=Fa?jc(3):jc(2)),Ay(this);var E=this.g.Z();this.X=E;t:if(Cb(this)){var A=Hb(this.g);d="";var L=A.length,V=ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),Uc(this);var Q="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,d+=this.h.i.decode(A[g],{stream:!(V&&g==L-1)});A.length=0,this.h.g+=d,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=E==200,WU(this.i,this.u,this.A,this.l,this.R,Yt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Bt=this.g;if((Ue=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ue)){var De=Ue;break t}}De=null}if(E=De)La(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ry(this,E);else{this.o=!1,this.s=3,dn(12),Ro(this),Uc(this);break e}}if(this.P){E=!0;let yr;for(;!this.J&&this.C<Q.length;)if(yr=GU(this,Q),yr==Sy){Yt==4&&(this.s=4,dn(14),E=!1),La(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==Tb){this.s=4,dn(15),La(this.i,this.l,Q,"[Invalid Chunk]"),E=!1;break}else La(this.i,this.l,yr,null),Ry(this,yr);if(Cb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||Q.length!=0||this.h.h||(this.s=1,dn(16),E=!1),this.o=this.o&&E,!E)La(this.i,this.l,Q,"[Invalid Chunked Response]"),Ro(this),Uc(this);else if(0<Q.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Oy(Qt),Qt.M=!0,dn(11))}}else La(this.i,this.l,Q,null),Ry(this,Q);Yt==4&&Ro(this),this.o&&!this.J&&(Yt==4?Jb(this.j,this):(this.o=!1,Dh(this)))}else u5(this.g),E==400&&0<Q.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),Ro(this),Uc(this)}}}catch{}finally{}};function Cb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function GU(d,g){var E=d.C,A=g.indexOf(`
`,E);return A==-1?Sy:(E=Number(g.substring(E,A)),isNaN(E)?Tb:(A+=1,A+E>g.length?Sy:(g=g.slice(A,A+E),d.C=A+E,g)))}ii.prototype.cancel=function(){this.J=!0,Ro(this)};function Dh(d){d.S=Date.now()+d.I,Sb(d,d.I)}function Sb(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Vc(p(d.ba,d),g)}function Ay(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ii.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(HU(this.i,this.A),this.L!=2&&(jc(),dn(17)),Ro(this),this.s=2,Uc(this)):Sb(this,this.S-d)};function Uc(d){d.j.G==0||d.J||Jb(d.j,d)}function Ro(d){Ay(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Rh(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function Ry(d,g){try{var E=d.j;if(E.G!=0&&(E.g==d||Py(E.h,d))){if(!d.K&&Py(E.h,d)&&E.G==3){try{var A=E.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)$h(E),Uh(E);else break e;My(E),dn(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=Vc(p(E.Za,E),6e3));if(1>=Rb(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else No(E,11)}else if((d.K||E.g==d)&&$h(E),!w(g))for(L=E.Da.g.parse(g),g=0;g<L.length;g++){let De=L[g];if(E.T=De[0],De=De[1],E.G==2)if(De[0]=="c"){E.K=De[1],E.ia=De[2];const Qt=De[3];Qt!=null&&(E.la=Qt,E.j.info("VER="+E.la));const Yt=De[4];Yt!=null&&(E.Aa=Yt,E.j.info("SVER="+E.Aa));const Fa=De[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(A=1.5*Fa,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const yr=d.g;if(yr){const Wh=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wh){var V=A.h;V.g||Wh.indexOf("spdy")==-1&&Wh.indexOf("quic")==-1&&Wh.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ny(V,V.h),V.h=null))}if(A.D){const Ly=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ly&&(A.ya=Ly,Ke(A.I,A.D,Ly))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var Q=d;if(A.qa=tC(A,A.J?A.ia:null,A.W),Q.K){Pb(A.h,Q);var Ue=Q,Bt=A.L;Bt&&(Ue.I=Bt),Ue.B&&(Ay(Ue),Dh(Ue)),A.g=Q}else Yb(A);0<E.i.length&&Bh(E)}else De[0]!="stop"&&De[0]!="close"||No(E,7);else E.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?No(E,7):Dy(E):De[0]!="noop"&&E.l&&E.l.ta(De),E.v=0)}}jc(4)}catch{}}var KU=class{constructor(d,g){this.g=d,this.map=g}};function Ib(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ab(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Rb(d){return d.h?1:d.g?d.g.size:0}function Py(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function Ny(d,g){d.g?d.g.add(g):d.h=g}function Pb(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Ib.prototype.cancel=function(){if(this.i=Nb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Nb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const E of d.g.values())g=g.concat(E.D);return g}return _(d.i)}function QU(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],E=d.length,A=0;A<E;A++)g.push(d[A]);return g}g=[],E=0;for(A in d)g[E++]=d[A];return g}function YU(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var E=0;E<d;E++)g.push(E);return g}g=[],E=0;for(const A in d)g[E++]=A;return g}}}function kb(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var E=YU(d),A=QU(d),L=A.length,V=0;V<L;V++)g.call(void 0,A[V],E&&E[V],d)}var Db=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XU(d,g){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var A=d[E].indexOf("="),L=null;if(0<=A){var V=d[E].substring(0,A);L=d[E].substring(A+1)}else V=d[E];g(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Po(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Po){this.h=d.h,Mh(this,d.j),this.o=d.o,this.g=d.g,Oh(this,d.s),this.l=d.l;var g=d.i,E=new zc;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),Mb(this,E),this.m=d.m}else d&&(g=String(d).match(Db))?(this.h=!1,Mh(this,g[1]||"",!0),this.o=Bc(g[2]||""),this.g=Bc(g[3]||"",!0),Oh(this,g[4]),this.l=Bc(g[5]||"",!0),Mb(this,g[6]||"",!0),this.m=Bc(g[7]||"")):(this.h=!1,this.i=new zc(null,this.h))}Po.prototype.toString=function(){var d=[],g=this.j;g&&d.push($c(g,Ob,!0),":");var E=this.g;return(E||g=="file")&&(d.push("//"),(g=this.o)&&d.push($c(g,Ob,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push($c(E,E.charAt(0)=="/"?e5:ZU,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",$c(E,n5)),d.join("")};function _s(d){return new Po(d)}function Mh(d,g,E){d.j=E?Bc(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Oh(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Mb(d,g,E){g instanceof zc?(d.i=g,r5(d.i,d.h)):(E||(g=$c(g,t5)),d.i=new zc(g,d.h))}function Ke(d,g,E){d.i.set(g,E)}function Lh(d){return Ke(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Bc(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $c(d,g,E){return typeof d=="string"?(d=encodeURI(d).replace(g,JU),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function JU(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ob=/[#\/\?@]/g,ZU=/[#\?:]/g,e5=/[#\?]/g,t5=/[#\?@]/g,n5=/#/g;function zc(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function oi(d){d.g||(d.g=new Map,d.h=0,d.i&&XU(d.i,function(g,E){d.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=zc.prototype,t.add=function(d,g){oi(this),this.i=null,d=ja(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(g),this.h+=1,this};function Lb(d,g){oi(d),g=ja(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function jb(d,g){return oi(d),g=ja(d,g),d.g.has(g)}t.forEach=function(d,g){oi(this),this.g.forEach(function(E,A){E.forEach(function(L){d.call(g,L,A,this)},this)},this)},t.na=function(){oi(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let A=0;A<g.length;A++){const L=d[A];for(let V=0;V<L.length;V++)E.push(g[A])}return E},t.V=function(d){oi(this);let g=[];if(typeof d=="string")jb(this,d)&&(g=g.concat(this.g.get(ja(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)g=g.concat(d[E])}return g},t.set=function(d,g){return oi(this),this.i=null,d=ja(this,d),jb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function Vb(d,g,E){Lb(d,g),0<E.length&&(d.i=null,d.g.set(ja(d,g),_(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var A=g[E];const V=encodeURIComponent(String(A)),Q=this.V(A);for(A=0;A<Q.length;A++){var L=V;Q[A]!==""&&(L+="="+encodeURIComponent(String(Q[A]))),d.push(L)}}return this.i=d.join("&")};function ja(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function r5(d,g){g&&!d.j&&(oi(d),d.i=null,d.g.forEach(function(E,A){var L=A.toLowerCase();A!=L&&(Lb(this,A),Vb(this,L,E))},d)),d.j=g}function s5(d,g){const E=new Fc;if(a.Image){const A=new Image;A.onload=m(ai,E,"TestLoadImage: loaded",!0,g,A),A.onerror=m(ai,E,"TestLoadImage: error",!1,g,A),A.onabort=m(ai,E,"TestLoadImage: abort",!1,g,A),A.ontimeout=m(ai,E,"TestLoadImage: timeout",!1,g,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else g(!1)}function i5(d,g){const E=new Fc,A=new AbortController,L=setTimeout(()=>{A.abort(),ai(E,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:A.signal}).then(V=>{clearTimeout(L),V.ok?ai(E,"TestPingServer: ok",!0,g):ai(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),ai(E,"TestPingServer: error",!1,g)})}function ai(d,g,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function o5(){this.g=new by}function a5(d,g,E){const A=E||"";try{kb(d,function(L,V){let Q=L;c(L)&&(Q=Ao(L)),g.push(A+V+"="+encodeURIComponent(Q))})}catch(L){throw g.push(A+"type="+encodeURIComponent("_badmap")),L}}function jh(d){this.l=d.Ub||null,this.j=d.eb||!1}y(jh,fe),jh.prototype.g=function(){return new Vh(this.l,this.j)},jh.prototype.i=function(d){return function(){return d}}({});function Vh(d,g){wt.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Vh,wt),t=Vh.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Hc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Hc(this)),this.g&&(this.readyState=3,Hc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Wc(this):Hc(this),this.readyState==3&&Fb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Wc(this))},t.Qa=function(d){this.g&&(this.response=d,Wc(this))},t.ga=function(){this.g&&Wc(this)};function Wc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Hc(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=g.next();return d.join(`\r
`)};function Hc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Vh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ub(d){let g="";return O(d,function(E,A){g+=A,g+=":",g+=E,g+=`\r
`}),g}function ky(d,g,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Ub(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Ke(d,g,E))}function ct(d){wt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ct,wt);var l5=/^https?$/i,c5=["POST","PUT"];t=ct.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cy.g(),this.v=this.o?Fe(this.o):Fe(Cy),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(V){Bb(this,V);return}if(d=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())E.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(c5,g,void 0))||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Q]of E)this.g.setRequestHeader(V,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wb(this),this.u=!0,this.g.send(d),this.u=!1}catch(V){Bb(this,V)}};function Bb(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,$b(d),Fh(d)}function $b(d){d.A||(d.A=!0,lt(d,"complete"),lt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,lt(this,"complete"),lt(this,"abort"),Fh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fh(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zb(this):this.bb())},t.bb=function(){zb(this)};function zb(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ws(d)!=4||d.Z()!=2)){if(d.u&&ws(d)==4)ys(d.Ea,0,d);else if(lt(d,"readystatechange"),ws(d)==4){d.h=!1;try{const Q=d.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var A;if(A=Q===0){var L=String(d.D).match(Db)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!l5.test(L?L.toLowerCase():"")}E=A}if(E)lt(d,"complete"),lt(d,"success");else{d.m=6;try{var V=2<ws(d)?d.g.statusText:""}catch{V=""}d.l=V+" ["+d.Z()+"]",$b(d)}}finally{Fh(d)}}}}function Fh(d,g){if(d.g){Wb(d);const E=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||lt(d,"ready");try{E.onreadystatechange=A}catch{}}}function Wb(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ws(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Hr(g)}};function Hb(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function u5(d){const g={};d=(d.g&&2<=ws(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(w(d[A]))continue;var E=D(d[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const V=g[L]||[];g[L]=V,V.push(E)}S(g,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qc(d,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||g}function qb(d){this.Aa=0,this.i=[],this.j=new Fc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qc("baseRetryDelayMs",5e3,d),this.cb=qc("retryDelaySeedMs",1e4,d),this.Wa=qc("forwardChannelMaxRetries",2,d),this.wa=qc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ib(d&&d.concurrentRequestLimit),this.Da=new o5,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qb.prototype,t.la=8,t.G=1,t.connect=function(d,g,E,A){dn(0),this.W=d,this.H=g||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=tC(this,null,this.W),Bh(this)};function Dy(d){if(Gb(d),d.G==3){var g=d.U++,E=_s(d.I);if(Ke(E,"SID",d.K),Ke(E,"RID",g),Ke(E,"TYPE","terminate"),Gc(d,E),g=new ii(d,d.j,g),g.L=2,g.v=Lh(_s(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=g.v,E=!0),E||(g.g=nC(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Dh(g)}eC(d)}function Uh(d){d.g&&(Oy(d),d.g.cancel(),d.g=null)}function Gb(d){Uh(d),d.u&&(a.clearTimeout(d.u),d.u=null),$h(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Bh(d){if(!Ab(d.h)&&!d.s){d.s=!0;var g=d.Ga;oe||Y(),j||(oe(),j=!0),U.add(g,d),d.B=0}}function d5(d,g){return Rb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Vc(p(d.Ga,d,g),Zb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new ii(this,this.j,d);let V=this.o;if(this.S&&(V?(V=C(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Qb(this,L,g),E=_s(this.I),Ke(E,"RID",d),Ke(E,"CVER",22),this.D&&Ke(E,"X-HTTP-Session-Id",this.D),Gc(this,E),V&&(this.O?g="headers="+encodeURIComponent(String(Ub(V)))+"&"+g:this.m&&ky(E,this.m,V)),Ny(this.h,L),this.Ua&&Ke(E,"TYPE","init"),this.P?(Ke(E,"$req",g),Ke(E,"SID","null"),L.T=!0,Iy(L,E,null)):Iy(L,E,g),this.G=2}}else this.G==3&&(d?Kb(this,d):this.i.length==0||Ab(this.h)||Kb(this))};function Kb(d,g){var E;g?E=g.l:E=d.U++;const A=_s(d.I);Ke(A,"SID",d.K),Ke(A,"RID",E),Ke(A,"AID",d.T),Gc(d,A),d.m&&d.o&&ky(A,d.m,d.o),E=new ii(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),g&&(d.i=g.D.concat(d.i)),g=Qb(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ny(d.h,E),Iy(E,A,g)}function Gc(d,g){d.H&&O(d.H,function(E,A){Ke(g,A,E)}),d.l&&kb({},function(E,A){Ke(g,A,E)})}function Qb(d,g,E){E=Math.min(d.i.length,E);var A=d.l?p(d.l.Na,d.l,d):null;e:{var L=d.i;let V=-1;for(;;){const Q=["count="+E];V==-1?0<E?(V=L[0].g,Q.push("ofs="+V)):V=0:Q.push("ofs="+V);let Ue=!0;for(let Bt=0;Bt<E;Bt++){let De=L[Bt].g;const Qt=L[Bt].map;if(De-=V,0>De)V=Math.max(0,L[Bt].g-100),Ue=!1;else try{a5(Qt,Q,"req"+De+"_")}catch{A&&A(Qt)}}if(Ue){A=Q.join("&");break e}}}return d=d.i.splice(0,E),g.D=d,A}function Yb(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;oe||Y(),j||(oe(),j=!0),U.add(g,d),d.v=0}}function My(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Vc(p(d.Fa,d),Zb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Xb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Vc(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),Uh(this),Xb(this))};function Oy(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Xb(d){d.g=new ii(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=_s(d.qa);Ke(g,"RID","rpc"),Ke(g,"SID",d.K),Ke(g,"AID",d.T),Ke(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ke(g,"TO",d.ja),Ke(g,"TYPE","xmlhttp"),Gc(d,g),d.m&&d.o&&ky(g,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Lh(_s(g)),E.m=null,E.P=!0,bb(E,d)}t.Za=function(){this.C!=null&&(this.C=null,Uh(this),My(this),dn(19))};function $h(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Jb(d,g){var E=null;if(d.g==g){$h(d),Oy(d),d.g=null;var A=2}else if(Py(d.h,g))E=g.D,Pb(d.h,g),A=1;else return;if(d.G!=0){if(g.o)if(A==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var L=d.B;A=Ph(),lt(A,new wb(A,E)),Bh(d)}else Yb(d);else if(L=g.s,L==3||L==0&&0<g.X||!(A==1&&d5(d,g)||A==2&&My(d)))switch(E&&0<E.length&&(g=d.h,g.i=g.i.concat(E)),L){case 1:No(d,5);break;case 4:No(d,10);break;case 3:No(d,6);break;default:No(d,2)}}}function Zb(d,g){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*g}function No(d,g){if(d.j.info("Error code "+g),g==2){var E=p(d.fb,d),A=d.Xa;const L=!A;A=new Po(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mh(A,"https"),Lh(A),L?s5(A.toString(),E):i5(A.toString(),E)}else dn(2);d.G=0,d.l&&d.l.sa(g),eC(d),Gb(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function eC(d){if(d.G=0,d.ka=[],d.l){const g=Nb(d.h);(g.length!=0||d.i.length!=0)&&(x(d.ka,g),x(d.ka,d.i),d.h.i.length=0,_(d.i),d.i.length=0),d.l.ra()}}function tC(d,g,E){var A=E instanceof Po?_s(E):new Po(E);if(A.g!="")g&&(A.g=g+"."+A.g),Oh(A,A.s);else{var L=a.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var V=new Po(null);A&&Mh(V,A),g&&(V.g=g),L&&Oh(V,L),E&&(V.l=E),A=V}return E=d.D,g=d.ya,E&&g&&Ke(A,E,g),Ke(A,"VER",d.la),Gc(d,A),A}function nC(d,g,E){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new ct(new jh({eb:E})):new ct(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rC(){}t=rC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zh(){}zh.prototype.g=function(d,g){return new Un(d,g)};function Un(d,g){wt.call(this),this.g=new qb(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!w(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new Va(this)}y(Un,wt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Dy(this.g)},Un.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Ao(d),d=E);g.i.push(new KU(g.Ya++,d)),g.G==3&&Bh(g)},Un.prototype.N=function(){this.g.l=null,delete this.j,Dy(this.g),delete this.g,Un.aa.N.call(this)};function sC(d){Tn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const E in g){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}y(sC,Tn);function iC(){si.call(this),this.status=1}y(iC,si);function Va(d){this.g=d}y(Va,rC),Va.prototype.ua=function(){lt(this.g,"a")},Va.prototype.ta=function(d){lt(this.g,new sC(d))},Va.prototype.sa=function(d){lt(this.g,new iC)},Va.prototype.ra=function(){lt(this.g,"b")},zh.prototype.createWebChannel=zh.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,s2=function(){return new zh},r2=function(){return Ph()},n2=vs,P0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nh.NO_ERROR=0,Nh.TIMEOUT=8,Nh.HTTP_ERROR=6,Yf=Nh,xb.COMPLETE="complete",t2=xb,je.EventType=Kt,Kt.OPEN="a",Kt.CLOSE="b",Kt.ERROR="c",Kt.MESSAGE="d",wt.prototype.listen=wt.prototype.K,vu=je,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,e2=ct}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const A1="@firebase/firestore",R1="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new th("@firebase/firestore");function Ha(){return da.logLevel}function Z(t,...e){if(da.logLevel<=Te.DEBUG){const n=e.map(aE);da.debug(`Firestore (${wc}): ${t}`,...n)}}function Ks(t,...e){if(da.logLevel<=Te.ERROR){const n=e.map(aE);da.error(`Firestore (${wc}): ${t}`,...n)}}function Ql(t,...e){if(da.logLevel<=Te.WARN){const n=e.map(aE);da.warn(`Firestore (${wc}): ${t}`,...n)}}function aE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: `+t;throw Ks(e),new Error(e)}function Le(t,e){t||he()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class uG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dG{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new i2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new nn(e)}}class hG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class fG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pG{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Hn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new P1(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new P1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mG(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function N0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return xe(r,s);{const i=o2(),o=gG(i.encode(N1(t,n)),i.encode(N1(e,n)));return o!==0?o:xe(r,s)}}n+=r>65535?2:1}return xe(t.length,e.length)}function N1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function gG(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return xe(t[n],e[n]);return xe(t.length,e.length)}function Yl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=-62135596800,D1=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*D1);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k1)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D1}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Ct(0,0))}static max(){return new pe(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__name__";class Yr{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Yr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return xe(e.length,n.length)}static compareSegments(e,n){const r=Yr.isNumericId(e),s=Yr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Yr.extractNumericId(e).compare(Yr.extractNumericId(n)):N0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class Je extends Yr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const yG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Yr{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return yG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M1}static keyField(){return new Wt([M1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Je.fromString(e))}static fromName(e){return new ie(Je.fromString(e).popFirst(5))}static empty(){return new ie(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=-1;function vG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new ro(s,ie.empty(),e)}function _G(t){return new ro(t.readTime,t.key,Td)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(pe.min(),ie.empty(),Td)}static max(){return new ro(pe.max(),ie.empty(),Td)}}function wG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==xG)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function TG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Sg.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-1;function Ig(t){return t==null}function Zp(t){return t===0&&1/t==-1/0}function bG(t){return typeof t=="number"&&Number.isInteger(t)&&!Zp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="";function CG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O1(e)),e=SG(t.get(n),e);return O1(e)}function SG(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case l2:n+="";break;default:n+=i}}return n}function O1(t){return t+l2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let St=class k0{constructor(e,n){this.comparator=e,this.root=n||Hi.EMPTY}insert(e,n){return new k0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hi.BLACK,null,null))}remove(e){return new k0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}},yf=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Hi=class Ts{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ts.RED,this.left=s??Ts.EMPTY,this.right=i??Ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ts(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ts.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ts.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};Hi.EMPTY=null,Hi.RED=!0,Hi.BLACK=!1;Hi.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Hi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j1(this.data.getIterator())}getIteratorFrom(e){return new j1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class j1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new Dt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new u2("Invalid base64 string: "+i):i}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const IG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(t){if(Le(!!t),typeof t=="string"){let e=0;const n=IG.exec(t);if(Le(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function io(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="server_timestamp",h2="__type__",f2="__previous_value__",p2="__local_write_time__";function cE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[h2])===null||n===void 0?void 0:n.stringValue)===d2}function Ag(t){const e=t.mapValue.fields[f2];return cE(e)?Ag(e):e}function bd(t){const e=so(t.mapValue.fields[p2].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const em="(default)";class Cd{constructor(e,n){this.projectId=e,this.database=n||em}static empty(){return new Cd("","")}get isDefaultDatabase(){return this.database===em}isEqual(e){return e instanceof Cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="__type__",g2="__max__",vf={mapValue:{fields:{__type__:{stringValue:g2}}}},y2="__vector__",tm="value";function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cE(t)?4:PG(t)?9007199254740991:RG(t)?10:11:he()}function ds(t,e){if(t===e)return!0;const n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=so(s.timestampValue),a=so(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return io(s.bytesValue).isEqual(io(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=mt(s.doubleValue),a=mt(i.doubleValue);return o===a?Zp(o)===Zp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Yl(t.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(L1(o)!==L1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ds(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function Sd(t,e){return(t.values||[]).find(n=>ds(n,e))!==void 0}function Xl(t,e){if(t===e)return 0;const n=oo(t),r=oo(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=mt(i.integerValue||i.doubleValue),l=mt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return V1(t.timestampValue,e.timestampValue);case 4:return V1(bd(t),bd(e));case 5:return N0(t.stringValue,e.stringValue);case 6:return function(i,o){const a=io(i),l=io(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=xe(a[c],l[c]);if(u!==0)return u}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=xe(mt(i.latitude),mt(o.latitude));return a!==0?a:xe(mt(i.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const h=i.fields||{},p=o.fields||{},m=(a=h[tm])===null||a===void 0?void 0:a.arrayValue,y=(l=p[tm])===null||l===void 0?void 0:l.arrayValue,_=xe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0);return _!==0?_:F1(m,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===vf.mapValue&&o===vf.mapValue)return 0;if(i===vf.mapValue)return 1;if(o===vf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=N0(l[h],u[h]);if(p!==0)return p;const m=Xl(a[l[h]],c[u[h]]);if(m!==0)return m}return xe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function V1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=so(t),r=so(e),s=xe(n.seconds,r.seconds);return s!==0?s:xe(n.nanos,r.nanos)}function F1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Xl(n[s],r[s]);if(i)return i}return xe(n.length,r.length)}function Jl(t){return D0(t)}function D0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=so(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=D0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${D0(n.fields[o])}`;return s+"}"}(t.mapValue):he()}function Xf(t){switch(oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ag(t);return e?16+Xf(e):16;case 5:return 2*t.stringValue.length;case 6:return io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Xf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Sa(r.fields,(i,o)=>{s+=i.length+Xf(o)}),s}(t.mapValue);default:throw he()}}function U1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M0(t){return!!t&&"integerValue"in t}function uE(t){return!!t&&"arrayValue"in t}function B1(t){return!!t&&"nullValue"in t}function $1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jf(t){return!!t&&"mapValue"in t}function RG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[m2])===null||n===void 0?void 0:n.stringValue)===y2}function Ou(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ou(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ou(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(n)}setAll(e){let n=Wt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ou(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Jf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Jf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Sa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new or(Ou(this.value))}}function v2(t){const e=[];return Sa(t.fields,(n,r)=>{const s=new Wt([n]);if(Jf(r)){const i=v2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sn(e,0,pe.min(),pe.min(),pe.min(),or.empty(),0)}static newFoundDocument(e,n,r,s){return new sn(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new sn(e,2,n,pe.min(),pe.min(),or.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,pe.min(),pe.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.position=e,this.inclusive=n}}function z1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Xl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function W1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ds(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n="asc"){this.field=e,this.dir=n}}function NG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{}class bt extends _2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DG(e,n,r):n==="array-contains"?new LG(e,r):n==="in"?new jG(e,r):n==="not-in"?new VG(e,r):n==="array-contains-any"?new FG(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MG(e,r):new OG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xl(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(Xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends _2{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Fr(e,n)}matches(e){return w2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function w2(t){return t.op==="and"}function x2(t){return kG(t)&&w2(t)}function kG(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function O0(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Jl(t.value);if(x2(t))return t.filters.map(e=>O0(e)).join(",");{const e=t.filters.map(n=>O0(n)).join(",");return`${t.op}(${e})`}}function E2(t,e){return t instanceof bt?function(r,s){return s instanceof bt&&r.op===s.op&&r.field.isEqual(s.field)&&ds(r.value,s.value)}(t,e):t instanceof Fr?function(r,s){return s instanceof Fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&E2(o,s.filters[a]),!0):!1}(t,e):void he()}function T2(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Jl(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(T2).join(" ,")+"}"}(t):"Filter"}class DG extends bt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class MG extends bt{constructor(e,n){super(e,"in",n),this.keys=b2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OG extends bt{constructor(e,n){super(e,"not-in",n),this.keys=b2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class LG extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uE(n)&&Sd(n.arrayValue,this.value)}}class jG extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sd(this.value.arrayValue,n)}}class VG extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sd(this.value.arrayValue,n)}}class FG extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function H1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new UG(t,e,n,r,s,i,o)}function dE(t){const e=me(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>O0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ig(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jl(r)).join(",")),e.le=n}return e.le}function hE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!E2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W1(t.startAt,e.startAt)&&W1(t.endAt,e.endAt)}function L0(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BG(t,e,n,r,s,i,o,a){return new Tc(t,e,n,r,s,i,o,a)}function fE(t){return new Tc(t)}function q1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C2(t){return t.collectionGroup!==null}function Lu(t){const e=me(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(Wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Id(i,r))}),n.has(Wt.keyField().canonicalString())||e.he.push(new Id(Wt.keyField(),r))}return e.he}function os(t){const e=me(t);return e.Pe||(e.Pe=$G(e,Lu(t))),e.Pe}function $G(t,e){if(t.limitType==="F")return H1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Id(s.field,i)});const n=t.endAt?new nm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nm(t.startAt.position,t.startAt.inclusive):null;return H1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function j0(t,e){const n=t.filters.concat([e]);return new Tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function V0(t,e,n){return new Tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rg(t,e){return hE(os(t),os(e))&&t.limitType===e.limitType}function S2(t){return`${dE(os(t))}|lt:${t.limitType}`}function qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>T2(s)).join(", ")}]`),Ig(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Jl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Jl(s)).join(",")),`Target(${r})`}(os(t))}; limitType=${t.limitType})`}function Pg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Lu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=z1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Lu(r),s)||r.endAt&&!function(o,a,l){const c=z1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Lu(r),s))}(t,e)}function zG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I2(t){return(e,n)=>{let r=!1;for(const s of Lu(t)){const i=WG(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function WG(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Xl(l,c):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return c2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=new St(ie.comparator);function Qs(){return HG}const A2=new St(ie.comparator);function _u(...t){let e=A2;for(const n of t)e=e.insert(n.key,n);return e}function R2(t){let e=A2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $o(){return ju()}function P2(){return ju()}function ju(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const qG=new St(ie.comparator),GG=new Dt(ie.comparator);function Ie(...t){let e=GG;for(const n of t)e=e.add(n);return e}const KG=new Dt(xe);function QG(){return KG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zp(e)?"-0":e}}function N2(t){return{integerValue:""+t}}function YG(t,e){return bG(e)?N2(e):pE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this._=void 0}}function XG(t,e,n){return t instanceof rm?function(s,i){const o={fields:{[h2]:{stringValue:d2},[p2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&cE(i)&&(i=Ag(i)),i&&(o.fields[f2]=i),{mapValue:o}}(n,e):t instanceof Ad?D2(t,e):t instanceof Rd?M2(t,e):function(s,i){const o=k2(s,i),a=G1(o)+G1(s.Ie);return M0(o)&&M0(s.Ie)?N2(a):pE(s.serializer,a)}(t,e)}function JG(t,e,n){return t instanceof Ad?D2(t,e):t instanceof Rd?M2(t,e):n}function k2(t,e){return t instanceof sm?function(r){return M0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class rm extends Ng{}class Ad extends Ng{constructor(e){super(),this.elements=e}}function D2(t,e){const n=O2(e);for(const r of t.elements)n.some(s=>ds(s,r))||n.push(r);return{arrayValue:{values:n}}}class Rd extends Ng{constructor(e){super(),this.elements=e}}function M2(t,e){let n=O2(e);for(const r of t.elements)n=n.filter(s=>!ds(s,r));return{arrayValue:{values:n}}}class sm extends Ng{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function G1(t){return mt(t.integerValue||t.doubleValue)}function O2(t){return uE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZG(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ad&&s instanceof Ad||r instanceof Rd&&s instanceof Rd?Yl(r.elements,s.elements,ds):r instanceof sm&&s instanceof sm?ds(r.Ie,s.Ie):r instanceof rm&&s instanceof rm}(t.transform,e.transform)}class eK{constructor(e,n){this.version=e,this.transformResults=n}}class as{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kg{}function L2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new V2(t.key,as.none()):new ah(t.key,t.data,as.none());{const n=t.data,r=or.empty();let s=new Dt(Wt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Aa(t.key,r,new Sr(s.toArray()),as.none())}}function tK(t,e,n){t instanceof ah?function(s,i,o){const a=s.value.clone(),l=Q1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Aa?function(s,i,o){if(!Zf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Q1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(j2(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vu(t,e,n,r){return t instanceof ah?function(i,o,a,l){if(!Zf(i.precondition,o))return a;const c=i.value.clone(),u=Y1(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Aa?function(i,o,a,l){if(!Zf(i.precondition,o))return a;const c=Y1(i.fieldTransforms,l,o),u=o.data;return u.setAll(j2(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Zf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function nK(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=k2(r.transform,s||null);i!=null&&(n===null&&(n=or.empty()),n.set(r.field,i))}return n||null}function K1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yl(r,s,(i,o)=>ZG(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ah extends kg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Aa extends kg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function j2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Q1(t,e,n){const r=new Map;Le(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,JG(o,a,n[s]))}return r}function Y1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,XG(i,o,e))}return r}class V2 extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rK extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&tK(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P2();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=L2(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,(n,r)=>K1(n,r))&&Yl(this.baseMutations,e.baseMutations,(n,r)=>K1(n,r))}}class mE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Le(e.mutations.length===r.length);let s=function(){return qG}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new mE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iK=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Pe;function aK(t){switch(t){case B.OK:return he();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return he()}}function F2(t){if(t===void 0)return Ks("GRPC error has no .code"),B.UNKNOWN;switch(t){case xt.OK:return B.OK;case xt.CANCELLED:return B.CANCELLED;case xt.UNKNOWN:return B.UNKNOWN;case xt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case xt.INTERNAL:return B.INTERNAL;case xt.UNAVAILABLE:return B.UNAVAILABLE;case xt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case xt.NOT_FOUND:return B.NOT_FOUND;case xt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case xt.ABORTED:return B.ABORTED;case xt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case xt.DATA_LOSS:return B.DATA_LOSS;default:return he()}}(Pe=xt||(xt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=new Wi([4294967295,4294967295],0);function X1(t){const e=o2().encode(t),n=new ZM;return n.update(e),new Uint8Array(n.digest())}function J1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Wi([n,r],0),new Wi([s,i],0)]}class gE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wu(`Invalid padding: ${n}`);if(r<0)throw new wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Wi.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Wi.fromNumber(r)));return s.compare(lK)===1&&(s=new Wi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=X1(e),[r,s]=J1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new gE(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=X1(e),[r,s]=J1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,lh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dg(pe.min(),s,new St(xe),Qs(),Ie())}}class lh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lh(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class U2{constructor(e,n){this.targetId=e,this.ge=n}}class B2{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Z1{constructor(){this.pe=0,this.ye=eI(),this.we=Gt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ie(),n=Ie(),r=Ie();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he()}}),new lh(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=eI()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Le(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class cK{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Qs(),this.$e=_f(),this.Ue=_f(),this.Ke=new St(xe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(L0(i))if(r===0){const o=new ie(i.path);this.ze(n,o,sn.newNoDocument(o,pe.min()))}else Le(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=io(r).toUint8Array()}catch(l){if(l instanceof u2)return Ql("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new gE(o,s,i)}catch(l){return Ql(l instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&L0(a.target)){const l=new ie(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,sn.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=Ie();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new Dg(e,n,this.Ke,this.Qe,r);return this.Qe=Qs(),this.$e=_f(),this.Ue=_f(),this.Ke=new St(xe),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Z1,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Dt(xe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(xe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Z1),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function _f(){return new St(ie.comparator)}function eI(){return new St(ie.comparator)}const uK={asc:"ASCENDING",desc:"DESCENDING"},dK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hK={and:"AND",or:"OR"};class fK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F0(t,e){return t.useProto3Json||Ig(e)?e:{value:e}}function im(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pK(t,e){return im(t,e.toTimestamp())}function ls(t){return Le(!!t),pe.fromTimestamp(function(n){const r=so(n);return new Ct(r.seconds,r.nanos)}(t))}function yE(t,e){return U0(t,e).canonicalString()}function U0(t,e){const n=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function z2(t){const e=Je.fromString(t);return Le(K2(e)),e}function B0(t,e){return yE(t.databaseId,e.path)}function Cv(t,e){const n=z2(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(H2(n))}function W2(t,e){return yE(t.databaseId,e)}function mK(t){const e=z2(t);return e.length===4?Je.emptyPath():H2(e)}function $0(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H2(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tI(t,e,n){return{name:B0(t,e),fields:n.value.mapValue.fields}}function gK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Le(u===void 0||typeof u=="string"),Gt.fromBase64String(u||"")):(Le(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Gt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?B.UNKNOWN:F2(c.code);return new te(u,c.message||"")}(o);n=new B2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cv(t,r.document.name),i=ls(r.document.updateTime),o=r.document.createTime?ls(r.document.createTime):pe.min(),a=new or({mapValue:{fields:r.document.fields}}),l=sn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ep(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Cv(t,r.document),i=r.readTime?ls(r.readTime):pe.min(),o=sn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ep([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Cv(t,r.document),i=r.removedTargetIds||[];n=new ep([],i,s,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new oK(s,i),a=r.targetId;n=new U2(a,o)}}return n}function yK(t,e){let n;if(e instanceof ah)n={update:tI(t,e.key,e.value)};else if(e instanceof V2)n={delete:B0(t,e.key)};else if(e instanceof Aa)n={update:tI(t,e.key,e.data),updateMask:SK(e.fieldMask)};else{if(!(e instanceof rK))return he();n={verify:B0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof rm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ad)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sm)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pK(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function vK(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ls(s.updateTime):ls(i);return o.isEqual(pe.min())&&(o=ls(i)),new eK(o,s.transformResults||[])}(n,e))):[]}function _K(t,e){return{documents:[W2(t,e.path)]}}function wK(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=W2(t,s);const i=function(c){if(c.length!==0)return G2(Fr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Ga(p.field),direction:TK(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=F0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:s}}function xK(t){let e=mK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Le(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const p=q2(h);return p instanceof Fr&&x2(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(y){return new Id(Ka(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Ig(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new nm(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new nm(m,p)}(n.endAt)),BG(e,s,o,i,a,"F",l,c)}function EK(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ka(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ka(n.unaryFilter.field);return bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ka(n.unaryFilter.field);return bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ka(n.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Ka(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>q2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function TK(t){return uK[t]}function bK(t){return dK[t]}function CK(t){return hK[t]}function Ga(t){return{fieldPath:t.canonicalString()}}function Ka(t){return Wt.fromServerFormat(t.fieldPath)}function G2(t){return t instanceof bt?function(n){if(n.op==="=="){if($1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(B1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(B1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:bK(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(s=>G2(s));return r.length===1?r[0]:{compositeFilter:{op:CK(n.op),filters:r}}}(t):he()}function SK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function K2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=Gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e){this.Tt=e}}function AK(t){const e=xK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?V0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(){this.Tn=new PK}addToCollectionParentIndex(e,n){return this.Tn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ro.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class PK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Dt(Je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Dt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q2=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(Q2,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Zl(0)}static Kn(){return new Zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="LruGarbageCollector",NK=1048576;function sI([t,e],[n,r]){const s=xe(t,n);return s===0?xe(e,r):s}class kK{constructor(e){this.Hn=e,this.buffer=new Dt(sI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Z(rI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ec(n)?Z(rI,"Ignoring IndexedDB error during garbage collection: ",n):await xc(n)}await this.er(3e5)})}}class MK{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Sg.ae);const r=new kK(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(nI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nI):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ha()<=Te.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function OK(t,e){return new MK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vu(r.mutation,s,Sr.empty(),Ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=$o();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=_u();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Qs();const o=ju(),a=function(){return ju()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Aa)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Vu(u.mutation,c,u.mutation.getFieldMask(),Ct.now())):o.set(c.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new jK(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ju();let s=new St((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Sr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=P2();u.forEach(p=>{if(!i.has(p)){const m=L2(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve($o());let a=Td,l=i;return o.next(c=>$.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ie())).next(u=>({batchId:a,changes:R2(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=_u();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=_u();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const c=function(h,p){return new Tc(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,sn.newInvalidDocument(u)))});let a=_u();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Vu(u.mutation,c,Sr.empty(),Ct.now()),Pg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return $.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ls(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:AK(s.bundledQuery),readTime:ls(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(){this.overlays=new St(ie.comparator),this.Rr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$o();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=$o(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new St((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=$o(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=$o(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return $.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iK(n,r));let i=this.Rr.get(n);i===void 0&&(i=Ie(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.Vr=new Dt(Lt.mr),this.gr=new Dt(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Lt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new ie(new Je([])),r=new Lt(n,e),s=new Lt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ie(new Je([])),r=new Lt(n,e),s=new Lt(n,e+1);let i=Ie();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Lt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ie.comparator(e.key,n.key)||xe(e.Cr,n.Cr)}static pr(e,n){return xe(e.Cr,n.Cr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Lt.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sK(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new Lt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?lE:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(xe);return n.forEach(s=>{const i=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),$.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new Lt(new ie(i),0);let a=new Dt(xe);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Cr)),!0)},o),$.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Le(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return $.forEach(n.mutations,s=>{const i=new Lt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Lt(n,0),s=this.Mr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e){this.kr=e,this.docs=function(){return new St(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=Qs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():sn.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Qs();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wG(_G(u),r)<=0||(s.has(u.key)||Pg(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he()}qr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WK(this)}getSize(e){return $.resolve(this.size)}}class WK extends LK{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e){this.persistence=e,this.Qr=new Ia(n=>dE(n),hE),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vE,this.targetCount=0,this.Kr=Zl.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),$.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Zl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.zn(n),$.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Sg(0),this.zr=!1,this.zr=!0,this.jr=new BK,this.referenceDelegate=e(this),this.Hr=new HK(this),this.indexManager=new RK,this.remoteDocumentCache=function(s){return new zK(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new IK(n),this.Yr=new FK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new $K(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new qK(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return $.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class qK extends EG{constructor(e){super(),this.currentSequenceNumber=e}}class _E{constructor(e){this.persistence=e,this.ti=new vE,this.ni=null}static ri(e){return new _E(e)}get ii(){if(this.ni)return this.ni;throw he()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),$.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,r=>{const s=ie.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return $.or([()=>$.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class om{constructor(e,n){this.persistence=e,this.oi=new Ia(r=>CG(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=OK(this,n)}static ri(e,n){return new om(e,n)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return $.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xf(e.data.value)),n}ar(e,n,r){return $.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new wE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return bW()?8:TG(cn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new GK;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Ha()<=Te.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(Ha()<=Te.DEBUG&&Z("QueryEngine","Query:",qa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Ha()<=Te.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(n))):$.resolve())}rs(e,n){if(q1(n))return $.resolve(null);let r=os(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=V0(n,null,"F"),r=os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,V0(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,s){return q1(n)||s.isEqual(pe.min())?$.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?$.resolve(null):(Ha()<=Te.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qa(n)),this.hs(e,o,n,vG(s,Td)).next(a=>a))})}cs(e,n){let r=new Dt(I2(e));return n.forEach((s,i)=>{Pg(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Ha()<=Te.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ns.getDocumentsMatchingQuery(e,n,ro.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="LocalStore",QK=3e8;class YK{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new St(xe),this.Is=new Ia(i=>dE(i),hE),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VK(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function XK(t,e,n,r){return new YK(t,e,n,r)}async function X2(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function JK(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let m=$.resolve();return p.forEach(y=>{m=m.next(()=>u.getEntry(l,y)).next(_=>{const x=c.docVersions.get(y);Le(x!==null),_.version.compareTo(x)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function J2(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function ZK(t,e){const n=me(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((u,h)=>{const p=s.get(h);if(!p)return;a.push(n.Hr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(i,u.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Gt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(h,m),function(_,x,T){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=QK?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,m,u)&&a.push(n.Hr.updateTargetData(i,m))});let l=Qs(),c=Ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(eQ(i,o,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(pe.min())){const u=n.Hr.getLastRemoteSnapshotVersion(i).next(h=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ts=s,i))}function eQ(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Qs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z(xE,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function tQ(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nQ(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function z0(t,e,n){const r=me(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ec(o))throw o;Z(xE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function iI(t,e,n){const r=me(t);let s=pe.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=me(l),p=h.Is.get(u);return p!==void 0?$.resolve(h.Ts.get(p)):h.Hr.getTargetData(c,u)}(r,o,os(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:Ie())).next(a=>(rQ(r,zG(e),a),{documents:a,gs:i})))}function rQ(t,e,n){let r=t.Es.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class oI{constructor(){this.activeTargetIds=QG()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sQ{constructor(){this.ho=new oI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new oI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="ConnectivityMonitor";class lI{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Z(aI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Z(aI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf=null;function W0(){return wf===null?wf=function(){return 268435456+Math.round(2147483648*Math.random())}():wf++,"0x"+wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="RestConnection",oQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aQ{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===em?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=W0(),a=this.bo(e,n.toUriEncodedString());Z(Sv,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(c=>(Z(Sv,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ql(Sv,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=oQ[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class cQ extends aQ{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=W0();return new Promise((o,a)=>{const l=new e2;l.setWithCredentials(!0),l.listenOnce(t2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yf.NO_ERROR:const u=l.getResponseJson();Z(en,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Yf.TIMEOUT:Z(en,`RPC '${e}' ${i} timed out`),a(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case Yf.HTTP_ERROR:const h=l.getStatus();if(Z(en,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(x){const T=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(T)>=0?T:B.UNKNOWN}(m.status);a(new te(y,m.message))}else a(new te(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(B.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{Z(en,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Z(en,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const s=W0(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=s2(),a=r2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");Z(en,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,m=!1;const y=new lQ({Fo:x=>{m?Z(en,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(Z(en,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Z(en,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},Mo:()=>h.close()}),_=(x,T,w)=>{x.listen(T,b=>{try{w(b)}catch(R){setTimeout(()=>{throw R},0)}})};return _(h,vu.EventType.OPEN,()=>{m||(Z(en,`RPC '${e}' stream ${s} transport opened.`),y.Qo())}),_(h,vu.EventType.CLOSE,()=>{m||(m=!0,Z(en,`RPC '${e}' stream ${s} transport closed`),y.Uo())}),_(h,vu.EventType.ERROR,x=>{m||(m=!0,Ql(en,`RPC '${e}' stream ${s} transport errored:`,x),y.Uo(new te(B.UNAVAILABLE,"The operation could not be completed")))}),_(h,vu.EventType.MESSAGE,x=>{var T;if(!m){const w=x.data[0];Le(!!w);const b=w,R=(b==null?void 0:b.error)||((T=b[0])===null||T===void 0?void 0:T.error);if(R){Z(en,`RPC '${e}' stream ${s} received error:`,R);const k=R.status;let O=function(I){const P=xt[I];if(P!==void 0)return F2(P)}(k),S=R.message;O===void 0&&(O=B.INTERNAL,S="Unknown error status: "+k+" with message "+R.message),m=!0,y.Uo(new te(O,S)),h.close()}else Z(en,`RPC '${e}' stream ${s} received:`,w),y.Ko(w)}}),_(a,n2.STAT_EVENT,x=>{x.stat===P0.PROXY?Z(en,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===P0.NOPROXY&&Z(en,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.$o()},0),y}}function Iv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){return new fK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="PersistentStream";class eO{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Z2(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ks(n.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Z(cI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Z(cI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uQ extends eO{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=gK(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?ls(o.readTime):pe.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=$0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=L0(l)?{documents:_K(i,l)}:{query:wK(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$2(i,o.resumeToken);const c=F0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=im(i,o.snapshotVersion.toTimestamp());const c=F0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=EK(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=$0(this.serializer),n.removeTarget=e,this.I_(n)}}class dQ extends eO{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=vK(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=$0(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yK(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{}class fQ extends hQ{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,U0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(B.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,U0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class pQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ks(n),this.N_=!1):Z("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class mQ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{Ra(this)&&(Z(ha,"Restarting streams for network reachability change."),await async function(l){const c=me(l);c.W_.add(4),await ch(c),c.j_.set("Unknown"),c.W_.delete(4),await Og(c)}(this))})}),this.j_=new pQ(r,s)}}async function Og(t){if(Ra(t))for(const e of t.G_)await e(!0)}async function ch(t){for(const e of t.G_)await e(!1)}function tO(t,e){const n=me(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),CE(n)?bE(n):bc(n).c_()&&TE(n,e))}function EE(t,e){const n=me(t),r=bc(n);n.K_.delete(e),r.c_()&&nO(n,e),n.K_.size===0&&(r.c_()?r.P_():Ra(n)&&n.j_.set("Unknown"))}function TE(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bc(t).y_(e)}function nO(t,e){t.H_.Ne(e),bc(t).w_(e)}function bE(t){t.H_=new cK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),bc(t).start(),t.j_.B_()}function CE(t){return Ra(t)&&!bc(t).u_()&&t.K_.size>0}function Ra(t){return me(t).W_.size===0}function rO(t){t.H_=void 0}async function gQ(t){t.j_.set("Online")}async function yQ(t){t.K_.forEach((e,n)=>{TE(t,e)})}async function vQ(t,e){rO(t),CE(t)?(t.j_.q_(e),bE(t)):t.j_.set("Unknown")}async function _Q(t,e,n){if(t.j_.set("Online"),e instanceof B2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.K_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.K_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){Z(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await am(t,r)}else if(e instanceof ep?t.H_.We(e):e instanceof U2?t.H_.Ze(e):t.H_.je(e),!n.isEqual(pe.min()))try{const r=await J2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.K_.get(c);u&&i.K_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.K_.get(l);if(!u)return;i.K_.set(l,u.withResumeToken(Gt.EMPTY_BYTE_STRING,u.snapshotVersion)),nO(i,l);const h=new ki(u.target,l,c,u.sequenceNumber);TE(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(ha,"Failed to raise snapshot:",r),await am(t,r)}}async function am(t,e,n){if(!Ec(e))throw e;t.W_.add(1),await ch(t),t.j_.set("Offline"),n||(n=()=>J2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(ha,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Og(t)})}function sO(t,e){return e().catch(n=>am(t,n,e))}async function Lg(t){const e=me(t),n=ao(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:lE;for(;wQ(e);)try{const s=await tQ(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,xQ(e,s)}catch(s){await am(e,s)}iO(e)&&oO(e)}function wQ(t){return Ra(t)&&t.U_.length<10}function xQ(t,e){t.U_.push(e);const n=ao(t);n.c_()&&n.S_&&n.b_(e.mutations)}function iO(t){return Ra(t)&&!ao(t).u_()&&t.U_.length>0}function oO(t){ao(t).start()}async function EQ(t){ao(t).C_()}async function TQ(t){const e=ao(t);for(const n of t.U_)e.b_(n.mutations)}async function bQ(t,e,n){const r=t.U_.shift(),s=mE.from(r,e,n);await sO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lg(t)}async function CQ(t,e){e&&ao(t).S_&&await async function(r,s){if(function(o){return aK(o)&&o!==B.ABORTED}(s.code)){const i=r.U_.shift();ao(r).h_(),await sO(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Lg(r)}}(t,e),iO(t)&&oO(t)}async function uI(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Z(ha,"RemoteStore received new credentials");const r=Ra(n);n.W_.add(3),await ch(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Og(n)}async function SQ(t,e){const n=me(t);e?(n.W_.delete(2),await Og(n)):e||(n.W_.add(2),await ch(n),n.j_.set("Unknown"))}function bc(t){return t.J_||(t.J_=function(n,r,s){const i=me(n);return i.M_(),new uQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:gQ.bind(null,t),No:yQ.bind(null,t),Lo:vQ.bind(null,t),p_:_Q.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),CE(t)?bE(t):t.j_.set("Unknown")):(await t.J_.stop(),rO(t))})),t.J_}function ao(t){return t.Y_||(t.Y_=function(n,r,s){const i=me(n);return i.M_(),new dQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:EQ.bind(null,t),Lo:CQ.bind(null,t),D_:TQ.bind(null,t),v_:bQ.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Lg(t)):(await t.Y_.stop(),t.U_.length>0&&(Z(ha,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new SE(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IE(t,e){if(Ks("AsyncQueue",`${e}: ${t}`),Ec(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=_u(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.Z_=new St(ie.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):he():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ec{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ec(e,n,Cl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class AQ{constructor(){this.queries=hI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=hI(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function hI(){return new Ia(t=>S2(t),Rg)}async function aO(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new IQ,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=IE(o,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&AE(n)}async function lO(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RQ(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&AE(n)}function PQ(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function AE(t){t.ia.forEach(e=>{e.next()})}var H0,fI;(fI=H0||(H0={}))._a="default",fI.Cache="cache";class cO{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==H0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.key=e}}class dO{constructor(e){this.key=e}}class NQ{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ie(),this.mutatedKeys=Ie(),this.ya=I2(e),this.wa=new Cl(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new dI,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const p=s.get(u),m=Pg(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?y!==_&&(r.track({type:3,doc:m}),x=!0):this.va(p,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(l||c)&&(a=!0)),x&&(m?(o=o.add(m),i=_?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((u,h)=>function(m,y){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return _(m)-_(y)}(u.type,h.type)||this.ya(u.doc,h.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new ec(this.query,e.wa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new dI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ie(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new dO(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new uO(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ie();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ec.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const RE="SyncEngine";class kQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DQ{constructor(e){this.key=e,this.Ba=!1}}class MQ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ia(a=>S2(a),Rg),this.qa=new Map,this.Qa=new Set,this.$a=new St(ie.comparator),this.Ua=new Map,this.Ka=new vE,this.Wa={},this.Ga=new Map,this.za=Zl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function OQ(t,e,n=!0){const r=yO(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await hO(r,e,n,!0),s}async function LQ(t,e){const n=yO(t);await hO(n,e,!0,!1)}async function hO(t,e,n,r){const s=await nQ(t.localStore,os(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await jQ(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&tO(t.remoteStore,s),a}async function jQ(t,e,n,r,s){t.Ha=(h,p,m)=>async function(_,x,T,w){let b=x.view.ba(T);b.ls&&(b=await iI(_.localStore,x.query,!1).then(({documents:S})=>x.view.ba(S,b)));const R=w&&w.targetChanges.get(x.targetId),k=w&&w.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(b,_.isPrimaryClient,R,k);return mI(_,x.targetId,O.Ma),O.snapshot}(t,h,p,m);const i=await iI(t.localStore,e,!0),o=new NQ(e,i.gs),a=o.ba(i.documents),l=lh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);mI(t,n,c.Ma);const u=new kQ(e,n,o);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function VQ(t,e,n){const r=me(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Rg(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await z0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&EE(r.remoteStore,s.targetId),q0(r,s.targetId)}).catch(xc)):(q0(r,s.targetId),await z0(r.localStore,s.targetId,!0))}async function FQ(t,e){const n=me(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),EE(n.remoteStore,r.targetId))}async function UQ(t,e,n){const r=GQ(t);try{const s=await function(o,a){const l=me(o),c=Ct.now(),u=a.reduce((m,y)=>m.add(y.key),Ie());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Qs(),_=Ie();return l.ds.getEntries(m,u).next(x=>{y=x,y.forEach((T,w)=>{w.isValidDocument()||(_=_.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(x=>{h=x;const T=[];for(const w of a){const b=nK(w,h.get(w.key).overlayedDocument);b!=null&&T.push(new Aa(w.key,b,v2(b.value.mapValue),as.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,T,a)}).next(x=>{p=x;const T=x.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(m,x.batchId,T)})}).then(()=>({batchId:p.batchId,changes:R2(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new St(xe)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,s.batchId,n),await uh(r,s.changes),await Lg(r.remoteStore)}catch(s){const i=IE(s,"Failed to persist write");n.reject(i)}}async function fO(t,e){const n=me(t);try{const r=await ZK(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ua.get(i);o&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Le(o.Ba):s.removedDocuments.size>0&&(Le(o.Ba),o.Ba=!1))}),await uh(n,r,e)}catch(r){await xc(r)}}function pI(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.ta)p.sa(a)&&(c=!0)}),c&&AE(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BQ(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),i=s&&s.key;if(i){let o=new St(ie.comparator);o=o.insert(i,sn.newNoDocument(i,pe.min()));const a=Ie().add(i),l=new Dg(pe.min(),new Map,new St(xe),o,a);await fO(r,l),r.$a=r.$a.remove(i),r.Ua.delete(e),PE(r)}else await z0(r.localStore,e,!1).then(()=>q0(r,e,n)).catch(xc)}async function $Q(t,e){const n=me(t),r=e.batch.batchId;try{const s=await JK(n.localStore,e);mO(n,r,null),pO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uh(n,s)}catch(s){await xc(s)}}async function zQ(t,e,n){const r=me(t);try{const s=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Le(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);mO(r,e,n),pO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uh(r,s)}catch(s){await xc(s)}}function pO(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function mO(t,e,n){const r=me(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||gO(t,r)})}function gO(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(EE(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),PE(t))}function mI(t,e,n){for(const r of n)r instanceof uO?(t.Ka.addReference(r.key,e),WQ(t,r)):r instanceof dO?(Z(RE,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||gO(t,r.key)):he()}function WQ(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Z(RE,"New document in limbo: "+n),t.Qa.add(r),PE(t))}function PE(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ie(Je.fromString(e)),r=t.za.next();t.Ua.set(r,new DQ(n)),t.$a=t.$a.insert(n,r),tO(t.remoteStore,new ki(os(fE(n.path)),r,"TargetPurposeLimboResolution",Sg.ae))}}async function uh(t,e,n){const r=me(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=wE.Yi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,c){const u=me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,p=>$.forEach(p.Hi,m=>u.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>$.forEach(p.Ji,m=>u.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Ec(h))throw h;Z(xE,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=u.Ts.get(p),y=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(y);u.Ts=u.Ts.insert(p,_)}}}(r.localStore,i))}async function HQ(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Z(RE,"User change. New user:",e.toKey());const r=await X2(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new te(B.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uh(n,r.Rs)}}function qQ(t,e){const n=me(t),r=n.Ua.get(e);if(r&&r.Ba)return Ie().add(r.key);{let s=Ie();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function yO(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BQ.bind(null,e),e.La.p_=RQ.bind(null,e.eventManager),e.La.Ja=PQ.bind(null,e.eventManager),e}function GQ(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$Q.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zQ.bind(null,e),e}class lm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mg(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return XK(this.persistence,new KK,e.initialUser,this.serializer)}Xa(e){return new Y2(_E.ri,this.serializer)}Za(e){return new sQ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lm.provider={build:()=>new lm};class KQ extends lm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Le(this.persistence.referenceDelegate instanceof om);const r=this.persistence.referenceDelegate.garbageCollector;return new DK(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Y2(r=>om.ri(r,n),this.serializer)}}class G0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HQ.bind(null,this.syncEngine),await SQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AQ}()}createDatastore(e){const n=Mg(e.databaseInfo.databaseId),r=function(i){return new cQ(i)}(e.databaseInfo);return function(i,o,a,l){return new fQ(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new mQ(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>pI(this.syncEngine,n,0),function(){return lI.D()?new lI:new iQ}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new MQ(s,i,o,a,l,c);return u&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);Z(ha,"RemoteStore shutting down."),i.W_.add(5),await ch(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}G0.provider={build:()=>new G0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class QQ{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=nn.UNAUTHENTICATED,this.clientId=a2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(lo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(lo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Av(t,e){t.asyncQueue.verifyOperationInProgress(),Z(lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await X2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YQ(t);Z(lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>uI(e.remoteStore,s)),t._onlineComponents=e}async function YQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(lo,"Using user provided OfflineComponentProvider");try{await Av(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ql("Error using user provided cache. Falling back to memory cache: "+n),await Av(t,new lm)}}else Z(lo,"Using default OfflineComponentProvider"),await Av(t,new KQ(void 0));return t._offlineComponents}async function _O(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(lo,"Using user provided OnlineComponentProvider"),await gI(t,t._uninitializedComponentsProvider._online)):(Z(lo,"Using default OnlineComponentProvider"),await gI(t,new G0))),t._onlineComponents}function XQ(t){return _O(t).then(e=>e.syncEngine)}async function wO(t){const e=await _O(t),n=e.eventManager;return n.onListen=OQ.bind(null,e.syncEngine),n.onUnlisten=VQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FQ.bind(null,e.syncEngine),n}function JQ(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new vO({next:p=>{u.su(),o.enqueueAndForget(()=>lO(i,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new cO(fE(a.path),u,{includeMetadataChanges:!0,Ta:!0});return aO(i,h)}(await wO(t),t.asyncQueue,e,n,r)),r.promise}function ZQ(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new vO({next:p=>{u.su(),o.enqueueAndForget(()=>lO(i,h)),p.fromCache&&l.source==="server"?c.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new cO(a,u,{includeMetadataChanges:!0,Ta:!0});return aO(i,h)}(await wO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eY(t,e,n,r){if(e===!0&&r===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vI(t){if(!ie.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _I(t){if(ie.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jg(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="firestore.googleapis.com",wI=!0;class xI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TO,this.ssl=wI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:wI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NK)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cG;switch(r.type){case"firstParty":return new fG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yI.get(n);r&&(Z("ComponentProvider","Removing Datastore"),yI.delete(n),r.terminate())}(this),Promise.resolve()}}function tY(t,e,n,r={}){var s;const i=(t=co(t,Vg))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==TO&&i.host!==a&&Ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!Hs(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=nn.MOCK_USER;else{c=sM(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new nn(h)}t._authCredentials=new uG(new i2(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class qi extends Pa{constructor(e,n,r){super(e,n,fE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new ie(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function bO(t,e,...n){if(t=ft(t),EO("collection","path",e),t instanceof Vg){const r=Je.fromString(e,...n);return _I(r),new qi(t,null,r)}{if(!(t instanceof kn||t instanceof qi))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return _I(r),new qi(t.firestore,null,r)}}function Fu(t,e,...n){if(t=ft(t),arguments.length===1&&(e=a2.newId()),EO("doc","path",e),t instanceof Vg){const r=Je.fromString(e,...n);return vI(r),new kn(t,null,new ie(r))}{if(!(t instanceof kn||t instanceof qi))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return vI(r),new kn(t.firestore,t instanceof qi?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="AsyncQueue";class TI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Z2(this,"async_queue_retry"),this.Su=()=>{const r=Iv();r&&Z(EI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Iv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Iv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ec(e))throw e;Z(EI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ks("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=SE.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&he()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class dh extends Vg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new TI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TI(e),this._firestoreClient=void 0,await e}}}function nY(t,e){const n=typeof t=="object"?t:Eg(),r=typeof t=="string"?t:em,s=Eo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=tM("firestore");i&&tY(s,...i)}return s}function NE(t){if(t._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rY(t),t._firestoreClient}function rY(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new AG(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,xO(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new QQ(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tc(Gt.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tc(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=/^__.*__$/;class iY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ah(e,this.data,n,this.fieldTransforms)}}function SO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class OE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new OE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return cm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(SO(this.Lu)&&sY.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class oY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mg(e)}ju(e,n,r,s=!1){return new OE({Lu:e,methodName:n,zu:r,path:Wt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LE(t){const e=t._freezeSettings(),n=Mg(t._databaseId);return new oY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IO(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);PO("Data must be an object, but it was:",o,r);const a=AO(r,o);let l,c;if(i.merge)l=new Sr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const p=lY(e,h,n);if(!o.contains(p))throw new te(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);uY(u,p)||u.push(p)}l=new Sr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new iY(new or(a),l,c)}function aY(t,e,n,r=!1){return jE(n,t.ju(r?4:3,e))}function jE(t,e){if(RO(t=ft(t)))return PO("Unsupported field value:",e,t),AO(t,e);if(t instanceof CO)return function(r,s){if(!SO(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=jE(a,s.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YG(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ct.fromDate(r);return{timestampValue:im(s.serializer,i)}}if(r instanceof Ct){const i=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:im(s.serializer,i)}}if(r instanceof DE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tc)return{bytesValue:$2(s.serializer,r._byteString)};if(r instanceof kn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ME)return function(o,a){return{mapValue:{fields:{[m2]:{stringValue:y2},[tm]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return pE(a.serializer,c)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${jg(r)}`)}(t,e)}function AO(t,e){const n={};return c2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(t,(r,s)=>{const i=jE(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function RO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof DE||t instanceof tc||t instanceof kn||t instanceof CO||t instanceof ME)}function PO(t,e,n){if(!RO(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=jg(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function lY(t,e,n){if((e=ft(e))instanceof kE)return e._internalPath;if(typeof e=="string")return NO(t,e);throw cm("Field path arguments must be of type string or ",t,!1,void 0,n)}const cY=new RegExp("[~\\*/\\[\\]]");function NO(t,e,n){if(e.search(cY)>=0)throw cm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kE(...e.split("."))._internalPath}catch{throw cm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new te(B.INVALID_ARGUMENT,a+t+l)}function uY(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(VE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dY extends kO{data(){return super.data()}}function VE(t,e){return typeof e=="string"?NO(t,e):e instanceof kE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FE{}class DO extends FE{}function fY(t,e,...n){let r=[];e instanceof FE&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof BE).length,a=i.filter(l=>l instanceof UE).length;if(o>1||o>0&&a>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class UE extends DO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new UE(e,n,r)}_apply(e){const n=this._parse(e);return MO(e._query,n),new Pa(e.firestore,e.converter,j0(e._query,n))}_parse(e){const n=LE(e.firestore);return function(i,o,a,l,c,u,h){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){CI(h,u);const y=[];for(const _ of h)y.push(bI(l,i,_));p={arrayValue:{values:y}}}else p=bI(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||CI(h,u),p=aY(a,o,h,u==="in"||u==="not-in");return bt.create(c,u,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class BE extends FE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new BE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)MO(o,l),o=j0(o,l)}(e._query,n),new Pa(e.firestore,e.converter,j0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $E extends DO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $E(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Id(i,o)}(e._query,this._field,this._direction);return new Pa(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Tc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function pY(t,e="asc"){const n=e,r=VE("orderBy",t);return $E._create(r,n)}function bI(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C2(e)&&n.indexOf("/")!==-1)throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!ie.isDocumentKey(r))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U1(t,new ie(r))}if(n instanceof kn)return U1(t,n._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jg(n)}.`)}function CI(t,e){if(!Array.isArray(t)||t.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MO(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mY{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[tm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>mt(o.doubleValue));return new ME(i)}convertGeoPoint(e){return new DE(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ag(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const n=so(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Le(K2(r));const s=new Cd(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||Ks(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LO extends kO{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(VE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tp extends LO{data(e={}){return super.data(e)}}class gY{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tp(this._firestore,this._userDataWriter,r.key,r,new xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new tp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new tp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:yY(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){t=co(t,kn);const e=co(t.firestore,dh);return JQ(NE(e),t._key).then(n=>wY(e,t,n))}class VO extends mY{constructor(e){super(),this.firestore=e}convertBytes(e){return new tc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function vY(t){t=co(t,Pa);const e=co(t.firestore,dh),n=NE(e),r=new VO(e);return hY(t._query),ZQ(n,t._query).then(s=>new gY(e,r,t,s))}function SI(t,e,n){t=co(t,kn);const r=co(t.firestore,dh),s=OO(t.converter,e);return FO(r,[IO(LE(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,as.none())])}function _Y(t,e){const n=co(t.firestore,dh),r=Fu(t),s=OO(t.converter,e);return FO(n,[IO(LE(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,as.exists(!1))]).then(()=>r)}function FO(t,e){return function(r,s){const i=new Os;return r.asyncQueue.enqueueAndForget(async()=>UQ(await XQ(r),s,i)),i.promise}(NE(t),e)}function wY(t,e,n){const r=n.docs.get(e._key),s=new VO(t);return new LO(t,s,e._key,r,new xu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){wc=s})(ba),jr(new hr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new dh(new dG(r.getProvider("auth-internal")),new pG(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Nn(A1,R1,e),Nn(A1,R1,"esm2017")})();const UO="@firebase/installations",zE="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1e4,$O=`w:${zE}`,zO="FIS_v2",xY="https://firebaseinstallations.googleapis.com/v1",EY=60*60*1e3,TY="installations",bY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fa=new Ta(TY,bY,CY);function WO(t){return t instanceof Br&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO({projectId:t}){return`${xY}/projects/${t}/installations`}function qO(t){return{token:t.token,requestStatus:2,expiresIn:IY(t.expiresIn),creationTime:Date.now()}}async function GO(t,e){const r=(await e.json()).error;return fa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function SY(t,{refreshToken:e}){const n=KO(t);return n.append("Authorization",AY(e)),n}async function QO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function IY(t){return Number(t.replace("s","000"))}function AY(t){return`${zO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=HO(t),s=KO(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:zO,appId:t.appId,sdkVersion:$O},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await QO(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:qO(c.authToken)}}else throw await GO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY=/^[cdef][\w-]{21}$/,K0="";function kY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=DY(t);return NY.test(n)?n:K0}catch{return K0}}function DY(t){return PY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Map;function JO(t,e){const n=Fg(t);ZO(n,e),MY(n,e)}function ZO(t,e){const n=XO.get(t);if(n)for(const r of n)r(e)}function MY(t,e){const n=OY();n&&n.postMessage({key:t,fid:e}),LY()}let zo=null;function OY(){return!zo&&"BroadcastChannel"in self&&(zo=new BroadcastChannel("[Firebase] FID Change"),zo.onmessage=t=>{ZO(t.data.key,t.data.fid)}),zo}function LY(){XO.size===0&&zo&&(zo.close(),zo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY="firebase-installations-database",VY=1,pa="firebase-installations-store";let Rv=null;function WE(){return Rv||(Rv=pM(jY,VY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pa)}}})),Rv}async function um(t,e){const n=Fg(t),s=(await WE()).transaction(pa,"readwrite"),i=s.objectStore(pa),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&JO(t,e.fid),e}async function eL(t){const e=Fg(t),r=(await WE()).transaction(pa,"readwrite");await r.objectStore(pa).delete(e),await r.done}async function Ug(t,e){const n=Fg(t),s=(await WE()).transaction(pa,"readwrite"),i=s.objectStore(pa),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&JO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(t){let e;const n=await Ug(t.appConfig,r=>{const s=FY(r),i=UY(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===K0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function FY(t){const e=t||{fid:kY(),registrationStatus:0};return tL(e)}function UY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(fa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=BY(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$Y(t)}:{installationEntry:e}}async function BY(t,e){try{const n=await RY(t,e);return um(t.appConfig,n)}catch(n){throw WO(n)&&n.customData.serverCode===409?await eL(t.appConfig):await um(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $Y(t){let e=await II(t.appConfig);for(;e.registrationStatus===1;)await YO(100),e=await II(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await HE(t);return r||n}return e}function II(t){return Ug(t,e=>{if(!e)throw fa.create("installation-not-found");return tL(e)})}function tL(t){return zY(t)?{fid:t.fid,registrationStatus:0}:t}function zY(t){return t.registrationStatus===1&&t.registrationTime+BO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WY({appConfig:t,heartbeatServiceProvider:e},n){const r=HY(t,n),s=SY(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:$O,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await QO(()=>fetch(r,a));if(l.ok){const c=await l.json();return qO(c)}else throw await GO("Generate Auth Token",l)}function HY(t,{fid:e}){return`${HO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(t,e=!1){let n;const r=await Ug(t.appConfig,i=>{if(!nL(i))throw fa.create("not-registered");const o=i.authToken;if(!e&&KY(o))return i;if(o.requestStatus===1)return n=qY(t,e),i;{if(!navigator.onLine)throw fa.create("app-offline");const a=YY(i);return n=GY(t,a),a}});return n?await n:r.authToken}async function qY(t,e){let n=await AI(t.appConfig);for(;n.authToken.requestStatus===1;)await YO(100),n=await AI(t.appConfig);const r=n.authToken;return r.requestStatus===0?qE(t,e):r}function AI(t){return Ug(t,e=>{if(!nL(e))throw fa.create("not-registered");const n=e.authToken;return XY(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function GY(t,e){try{const n=await WY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await um(t.appConfig,r),n}catch(n){if(WO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eL(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await um(t.appConfig,r)}throw n}}function nL(t){return t!==void 0&&t.registrationStatus===2}function KY(t){return t.requestStatus===2&&!QY(t)}function QY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+EY}function YY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function XY(t){return t.requestStatus===1&&t.requestTime+BO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JY(t){const e=t,{installationEntry:n,registrationPromise:r}=await HE(e);return r?r.catch(console.error):qE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(t,e=!1){const n=t;return await eX(n),(await qE(n,e)).token}async function eX(t){const{registrationPromise:e}=await HE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t){if(!t||!t.options)throw Pv("App Configuration");if(!t.name)throw Pv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Pv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Pv(t){return fa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="installations",nX="installations-internal",rX=t=>{const e=t.getProvider("app").getImmediate(),n=tX(e),r=Eo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},sX=t=>{const e=t.getProvider("app").getImmediate(),n=Eo(e,rL).getImmediate();return{getId:()=>JY(n),getToken:s=>ZY(n,s)}};function iX(){jr(new hr(rL,rX,"PUBLIC")),jr(new hr(nX,sX,"PRIVATE"))}iX();Nn(UO,zE);Nn(UO,zE,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="analytics",oX="firebase_id",aX="origin",lX=60*1e3,cX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new th("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qn=new Ta("analytics","Analytics",uX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(t){if(!t.startsWith(GE)){const e=Qn.create("invalid-gtag-resource",{gtagURL:t});return Dn.warn(e.message),""}return t}function sL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function hX(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function fX(t,e){const n=hX("firebase-js-sdk-policy",{createScriptURL:dX}),r=document.createElement("script"),s=`${GE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function pX(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function mX(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await sL(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Dn.error(a)}t("config",s,i)}async function gX(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await sL(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Dn.error(i)}}function yX(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await gX(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await mX(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Dn.error(a)}}return s}function vX(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=yX(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function _X(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(GE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX=30,xX=1e3;class EX{constructor(e={},n=xX){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iL=new EX;function TX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function bX(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:TX(r)},i=cX.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Qn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function CX(t,e=iL,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Qn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Qn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new AX;return setTimeout(async()=>{a.abort()},lX),oL({appId:r,apiKey:s,measurementId:i},o,a,e)}async function oL(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=iL){var i;const{appId:o,measurementId:a}=t;try{await SX(r,e)}catch(l){if(a)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await bX(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!IX(c)){if(s.deleteThrottleMetadata(o),a)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?ZS(n,s.intervalMillis,wX):ZS(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Dn.debug(`Calling attemptFetch again in ${u} millis`),oL(t,h,r,s)}}function SX(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function IX(t){if(!(t instanceof Br)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class AX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function RX(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PX(){if(lM())try{await cM()}catch(t){return Dn.warn(Qn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Dn.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function NX(t,e,n,r,s,i,o){var a;const l=CX(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Dn.error(m)),e.push(l);const c=PX().then(m=>{if(m)return r.getId()}),[u,h]=await Promise.all([l,c]);_X(i)||fX(i,u.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[aX]="firebase",p.update=!0,h!=null&&(p[oX]=h),s("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(e){this.app=e}_delete(){return delete Uu[this.app.options.appId],Promise.resolve()}}let Uu={},RI=[];const PI={};let Nv="dataLayer",DX="gtag",NI,aL,kI=!1;function MX(){const t=[];if(iM()&&t.push("This is a browser extension environment."),CW()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Qn.create("invalid-analytics-context",{errorInfo:e});Dn.warn(n.message)}}function OX(t,e,n){MX();const r=t.options.appId;if(!r)throw Qn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qn.create("no-api-key");if(Uu[r]!=null)throw Qn.create("already-exists",{id:r});if(!kI){pX(Nv);const{wrappedGtag:i,gtagCore:o}=vX(Uu,RI,PI,Nv,DX);aL=i,NI=o,kI=!0}return Uu[r]=NX(t,RI,PI,e,NI,Nv,n),new kX(t)}function LX(t=Eg()){t=ft(t);const e=Eo(t,dm);return e.isInitialized()?e.getImmediate():jX(t)}function jX(t,e={}){const n=Eo(t,dm);if(n.isInitialized()){const s=n.getImmediate();if(Hs(e,n.getOptions()))return s;throw Qn.create("already-initialized")}return n.initialize({options:e})}function VX(t,e,n,r){t=ft(t),RX(aL,Uu[t.app.options.appId],e,n,r).catch(s=>Dn.error(s))}const DI="@firebase/analytics",MI="0.10.12";function FX(){jr(new hr(dm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return OX(r,s,n)},"PUBLIC")),jr(new hr("analytics-internal",t,"PRIVATE")),Nn(DI,MI),Nn(DI,MI,"esm2017");function t(e){try{const n=e.getProvider(dm).getImmediate();return{logEvent:(r,s,i)=>VX(n,r,s,i)}}catch(n){throw Qn.create("interop-component-reg-failed",{reason:n})}}}FX();var OI={};const LI="@firebase/database",jI="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lL="";function UX(t){lL=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_d(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new BX(e)}}catch{}return new $X},Wo=cL("localStorage"),zX=cL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new th("@firebase/database"),WX=function(){let t=1;return function(){return t++}}(),uL=function(t){const e=OW(t),n=new NW;n.update(e);const r=n.digest();return Kx.encodeByteArray(r)},hh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=hh.apply(null,r):typeof r=="object"?e+=Pt(r):e+=r,e+=" "}return e};let Bu=null,VI=!0;const HX=function(t,e){G(!e,"Can't turn on custom loggers persistently."),Sl.logLevel=Te.VERBOSE,Bu=Sl.log.bind(Sl)},on=function(...t){if(VI===!0&&(VI=!1,Bu===null&&zX.get("logging_enabled")===!0&&HX()),Bu){const e=hh.apply(null,t);Bu(e)}},fh=function(t){return function(...e){on(t,...e)}},Q0=function(...t){const e="FIREBASE INTERNAL ERROR: "+hh(...t);Sl.error(e)},Ys=function(...t){const e=`FIREBASE FATAL ERROR: ${hh(...t)}`;throw Sl.error(e),new Error(e)},Yn=function(...t){const e="FIREBASE WARNING: "+hh(...t);Sl.warn(e)},qX=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dL=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},GX=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},nc="[MIN_NAME]",ma="[MAX_NAME]",Cc=function(t,e){if(t===e)return 0;if(t===nc||e===ma)return-1;if(e===nc||t===ma)return 1;{const n=FI(t),r=FI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},KX=function(t,e){return t===e?0:t<e?-1:1},su=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pt(e))},KE=function(t){if(typeof t!="object"||t===null)return Pt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Pt(e[r]),n+=":",n+=KE(t[e[r]]);return n+="}",n},hL=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function On(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const fL=function(t){G(!dL(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let p=parseInt(u.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},QX=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},YX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XX(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const JX=new RegExp("^-?(0*)\\d{1,10}$"),ZX=-2147483648,eJ=2147483647,FI=function(t){if(JX.test(t)){const e=Number(t);if(e>=ZX&&e<=eJ)return e}return null},ph=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Yn("Exception was thrown by user callback.",n),e},Math.floor(0))}},tJ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$u=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Hn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Yn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yn(e)}}class np{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}np.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="5",pL="v",mL="s",gL="r",yL="f",vL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_L="ls",wL="p",Y0="ac",xL="websocket",EL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function sJ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function bL(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===xL)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===EL)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sJ(t)&&(n.ns=t.namespace);const s=[];return On(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(){this.counters_={}}incrementCounter(e,n=1){Zs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return mW(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={},Dv={};function YE(t){const e=t.toString();return kv[e]||(kv[e]=new iJ),kv[e]}function oJ(t,e){const n=t.toString();return Dv[n]||(Dv[n]=e()),Dv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&ph(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="start",lJ="close",cJ="pLPCommand",uJ="pRTLPCB",CL="id",SL="pw",IL="ser",dJ="cb",hJ="seg",fJ="ts",pJ="d",mJ="dframe",AL=1870,RL=30,gJ=AL-RL,yJ=25e3,vJ=3e4;class ll{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fh(e),this.stats_=YE(n),this.urlFn=l=>(this.appCheckToken&&(l[Y0]=this.appCheckToken),bL(n,EL,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new aJ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vJ)),GX(()=>{if(this.isClosed_)return;this.scriptTagHolder=new XE((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===UI)this.id=a,this.password=l;else if(o===lJ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[UI]="t",r[IL]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dJ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[pL]=QE,this.transportSessionId&&(r[mL]=this.transportSessionId),this.lastSessionId&&(r[_L]=this.lastSessionId),this.applicationId&&(r[wL]=this.applicationId),this.appCheckToken&&(r[Y0]=this.appCheckToken),typeof location<"u"&&location.hostname&&vL.test(location.hostname)&&(r[gL]=yL);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ll.forceAllow_=!0}static forceDisallow(){ll.forceDisallow_=!0}static isAvailable(){return ll.forceAllow_?!0:!ll.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!QX()&&!YX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=JD(n),s=hL(r,gJ);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[mJ]="t",r[CL]=e,r[SL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class XE{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WX(),window[cJ+this.uniqueCallbackIdentifier]=e,window[uJ+this.uniqueCallbackIdentifier]=n,this.myIFrame=XE.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){on("frame writing exception"),a.stack&&on(a.stack),on(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||on("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[CL]=this.myID,e[SL]=this.myPW,e[IL]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RL+r.length<=AL;){const o=this.pendingSegs.shift();r=r+"&"+hJ+s+"="+o.seg+"&"+fJ+s+"="+o.ts+"&"+pJ+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(yJ)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{on("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _J=16384,wJ=45e3;let hm=null;typeof MozWebSocket<"u"?hm=MozWebSocket:typeof WebSocket<"u"&&(hm=WebSocket);class Cr{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fh(this.connId),this.stats_=YE(n),this.connURL=Cr.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[pL]=QE,typeof location<"u"&&location.hostname&&vL.test(location.hostname)&&(o[gL]=yL),n&&(o[mL]=n),r&&(o[_L]=r),s&&(o[Y0]=s),i&&(o[wL]=i),bL(e,xL,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wo.set("previous_websocket_failure",!0);try{let r;aM(),this.mySock=new hm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Cr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&hm!==null&&!Cr.forceDisallow_}static previouslyFailed(){return Wo.isInMemoryStorage||Wo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=_d(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hL(n,_J);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wJ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cr.responsesRequiredToBeHealthy=2;Cr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{static get ALL_TRANSPORTS(){return[ll,Cr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Cr&&Cr.isAvailable();let r=n&&!Cr.previouslyFailed();if(e.webSocketOnly&&(n||Yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Cr];else{const s=this.transports_=[];for(const i of Pd.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Pd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Pd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ=6e4,EJ=5e3,TJ=10*1024,bJ=100*1024,Mv="t",BI="d",CJ="s",$I="r",SJ="e",zI="o",WI="a",HI="n",qI="p",IJ="h";class AJ{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fh("c:"+this.id+":"),this.transportManager_=new Pd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=$u(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>TJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Mv in e){const n=e[Mv];n===WI?this.upgradeIfSecondaryHealthy_():n===$I?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===zI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=su("t",e),r=su("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:WI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=su("t",e),r=su("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=su(Mv,e);if(BI in e){const r=e[BI];if(n===IJ){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===HI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CJ?this.onConnectionShutdown_(r):n===$I?this.onReset_(r):n===SJ?Q0("Server Error: "+r):n===zI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Q0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),QE!==r&&Yn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$u(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xJ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$u(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(EJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends NL{static getInstance(){return new fm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=32,KI=768;class $e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Me(){return new $e("")}function Ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function uo(t){return t.pieces_.length-t.pieceNum_}function He(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new $e(t.pieces_,e)}function kL(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function RJ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function DL(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ML(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new $e(e,0)}function Nt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof $e)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new $e(n,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function gn(t,e){const n=Ae(t),r=Ae(e);if(n===null)return e;if(n===r)return gn(He(t),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function OL(t,e){if(uo(t)!==uo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ir(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(uo(t)>uo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class PJ{constructor(e,n){this.errorPrefix_=n,this.parts_=DL(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xg(this.parts_[r]);LL(this)}}function NJ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xg(e),LL(t)}function kJ(t){const e=t.parts_.pop();t.byteLength_-=xg(e),t.parts_.length>0&&(t.byteLength_-=1)}function LL(t){if(t.byteLength_>KI)throw new Error(t.errorPrefix_+"has a key path longer than "+KI+" bytes ("+t.byteLength_+").");if(t.parts_.length>GI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+GI+") or object contains a cycle "+Lo(t))}function Lo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends NL{static getInstance(){return new JE}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=1e3,DJ=60*5*1e3,QI=30*1e3,MJ=1.3,OJ=3e4,LJ="server_kill",YI=3;class Ls extends PL{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ls.nextPersistentConnectionId_++,this.log_=fh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=iu,this.maxReconnectDelay_=DJ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!aM())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");JE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Pt(i)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Qx,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Ls.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Zs(e,"w")){const r=Kl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Yn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PW(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=QI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=RW(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Q0("Unrecognized action received from server: "+Pt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=iu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=iu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>OJ&&(this.reconnectDelay_=iu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*MJ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ls.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,p]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,a=new AJ(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{Yn(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(LJ)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Yn(h),l())}}}interrupt(e){on("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){on("Resuming connection for reason: "+e),delete this.interruptReasons_[e],w0(this.interruptReasons_)&&(this.reconnectDelay_=iu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>KE(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new $e(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){on("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=YI&&(this.reconnectDelay_=QI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){on("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=YI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+lL.replace(/\./g,"-")]=1,Yx()?e["framework.cordova"]=1:oM()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fm.getInstance().currentlyOnline();return w0(this.interruptReasons_)&&e}}Ls.nextPersistentConnectionId_=0;Ls.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ee(nc,e),s=new Ee(nc,n);return this.compare(r,s)!==0}minPost(){return Ee.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;class jL extends Bg{static get __EMPTY_NODE(){return xf}static set __EMPTY_NODE(e){xf=e}compare(e,n){return Cc(e.name,n.name)}isDefinedOn(e){throw yc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(ma,xf)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Ee(e,xf)}toString(){return".key"}}const Il=new jL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=s??In.EMPTY_NODE,this.right=i??In.EMPTY_NODE}copy(e,n,r,s,i){return new Vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return In.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return In.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Vt.RED=!0;Vt.BLACK=!1;class jJ{copy(e,n,r,s,i){return this}insert(e,n,r){return new Vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class In{constructor(e,n=In.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new In(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vt.BLACK,null,null))}remove(e){return new In(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ef(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ef(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ef(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ef(this.root_,null,this.comparator_,!0,e)}}In.EMPTY_NODE=new jJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VJ(t,e){return Cc(t.name,e.name)}function ZE(t,e){return Cc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X0;function FJ(t){X0=t}const VL=function(t){return typeof t=="number"?"number:"+fL(t):"string:"+t},FL=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zs(e,".sv"),"Priority must be a string or number.")}else G(t===X0||t.isEmpty(),"priority of unexpected type.");G(t===X0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XI;class Ot{static set __childrenNodeConstructor(e){XI=e}static get __childrenNodeConstructor(){return XI}constructor(e,n=Ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FL(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ot(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:Ae(e)===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||uo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+VL(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=fL(this.value_):e+=this.value_,this.lazyHash_=uL(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ot.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Ot.VALUE_TYPE_ORDER.indexOf(n),i=Ot.VALUE_TYPE_ORDER.indexOf(r);return G(s>=0,"Unknown leaf type: "+n),G(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UL,BL;function UJ(t){UL=t}function BJ(t){BL=t}class $J extends Bg{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Cc(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(ma,new Ot("[PRIORITY-POST]",BL))}makePost(e,n){const r=UL(e);return new Ee(n,new Ot("[PRIORITY-POST]",r))}toString(){return".priority"}}const ht=new $J;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=Math.log(2);class WJ{constructor(e){const n=i=>parseInt(Math.log(i)/zJ,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pm=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let h,p;if(u===0)return null;if(u===1)return h=t[l],p=n?n(h):h,new Vt(p,h.node,Vt.BLACK,null,null);{const m=parseInt(u/2,10)+l,y=s(l,m),_=s(m+1,c);return h=t[m],p=n?n(h):h,new Vt(p,h.node,Vt.BLACK,y,_)}},i=function(l){let c=null,u=null,h=t.length;const p=function(y,_){const x=h-y,T=h;h-=y;const w=s(x+1,T),b=t[x],R=n?n(b):b;m(new Vt(R,b.node,_,null,w))},m=function(y){c?(c.left=y,c=y):(u=y,c=y)};for(let y=0;y<l.count;++y){const _=l.nextBitIsOne(),x=Math.pow(2,l.count-(y+1));_?p(x,Vt.BLACK):(p(x,Vt.BLACK),p(x,Vt.RED))}return u},o=new WJ(t.length),a=i(o);return new In(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ov;const Ba={};class Ns{static get Default(){return G(Ba&&ht,"ChildrenNode.ts has not been loaded"),Ov=Ov||new Ns({".priority":Ba},{".priority":ht}),Ov}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Kl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof In?n:null}hasIndex(e){return Zs(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Il,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ee.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=pm(r,e.getCompare()):a=Ba;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ns(u,c)}addToIndexes(e,n){const r=qp(this.indexes_,(s,i)=>{const o=Kl(this.indexSet_,i);if(G(o,"Missing index implementation for "+i),s===Ba)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),pm(a,o.getCompare())}else return Ba;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Ee(e.name,a))),l.insert(e,e.node)}});return new Ns(r,this.indexSet_)}removeFromIndexes(e,n){const r=qp(this.indexes_,s=>{if(s===Ba)return s;{const i=n.get(e.name);return i?s.remove(new Ee(e.name,i)):s}});return new Ns(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;class de{static get EMPTY_NODE(){return ou||(ou=new de(new In(ZE),null,Ns.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&FL(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ou}updatePriority(e){return this.children_.isEmpty()?this:new de(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ou:n}}getChild(e){const n=Ae(e);return n===null?this:this.getImmediateChild(n).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ee(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?ou:this.priorityNode_;return new de(s,o,i)}}updateChild(e,n){const r=Ae(e);if(r===null)return n;{G(Ae(e)!==".priority"||uo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(He(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(ht,(o,a)=>{n[o]=a.val(e),r++,i&&de.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+VL(this.getPriority().val())+":"),this.forEachChild(ht,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":uL(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ee(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mh?-1:0}withIndex(e){if(e===Il||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new de(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Il||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ht),s=n.getIterator(ht);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Il?null:this.indexMap_.get(e.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class HJ extends de{constructor(){super(new In(ZE),de.EMPTY_NODE,Ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return de.EMPTY_NODE}isEmpty(){return!1}}const mh=new HJ;Object.defineProperties(Ee,{MIN:{value:new Ee(nc,de.EMPTY_NODE)},MAX:{value:new Ee(ma,mh)}});jL.__EMPTY_NODE=de.EMPTY_NODE;Ot.__childrenNodeConstructor=de;FJ(mh);BJ(mh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qJ=!0;function zt(t,e=null){if(t===null)return de.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ot(n,zt(e))}if(!(t instanceof Array)&&qJ){const n=[];let r=!1;if(On(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=zt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ee(o,l)))}}),n.length===0)return de.EMPTY_NODE;const i=pm(n,VJ,o=>o.name,ZE);if(r){const o=pm(n,ht.getCompare());return new de(i,zt(e),new Ns({".priority":o},{".priority":ht}))}else return new de(i,zt(e),Ns.Default)}else{let n=de.EMPTY_NODE;return On(t,(r,s)=>{if(Zs(t,r)&&r.substring(0,1)!=="."){const i=zt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(zt(e))}}UJ(zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ extends Bg{constructor(e){super(),this.indexPath_=e,G(!be(e)&&Ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Cc(e.name,n.name):i}makePost(e,n){const r=zt(e),s=de.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ee(n,s)}maxPost(){const e=de.EMPTY_NODE.updateChild(this.indexPath_,mh);return new Ee(ma,e)}toString(){return DL(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ extends Bg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Cc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,n){const r=zt(e);return new Ee(n,r)}toString(){return".value"}}const QJ=new KJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return{type:"value",snapshotNode:t}}function rc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Nd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function kd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function YJ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Nd(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(rc(n,r)):o.trackChildChange(kd(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ht,(s,i)=>{n.hasChild(s)||r.trackChildChange(Nd(s,i))}),n.isLeafNode()||n.forEachChild(ht,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(kd(s,i,o))}else r.trackChildChange(rc(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?de.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.indexedFilter_=new eT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Dd.getStartPost_(e),this.endPost_=Dd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new Ee(n,r))||(r=de.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=de.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(de.EMPTY_NODE);const i=this;return n.forEachChild(ht,(o,a)=>{i.matches(new Ee(o,a))||(s=s.updateImmediateChild(o,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Dd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new Ee(n,r))||(r=de.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=de.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(de.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const h=this.index_.getCompare();o=(p,m)=>h(m,p)}else o=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new Ee(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let p=s.getChildAfterChild(this.index_,c,this.reverse_);for(;p!=null&&(p.name===n||a.hasChild(p.name));)p=s.getChildAfterChild(this.index_,p,this.reverse_);const m=p==null?1:o(p,l);if(u&&!r.isEmpty()&&m>=0)return i!=null&&i.trackChildChange(kd(n,r,h)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Nd(n,h));const _=a.updateImmediateChild(n,de.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(i!=null&&i.trackChildChange(rc(p.name,p.node)),_.updateImmediateChild(p.name,p.node)):_}}else return r.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Nd(c.name,c.node)),i.trackChildChange(rc(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,de.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ht}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nc}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ht}copy(){const e=new tT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JJ(t){return t.loadsAllData()?new eT(t.getIndex()):t.hasLimit()?new XJ(t):new Dd(t)}function JI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ht?n="$priority":t.index_===QJ?n="$value":t.index_===Il?n="$key":(G(t.index_ instanceof GJ,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Pt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Pt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Pt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Pt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ZI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ht&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends PL{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=fh("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=mm.getListenId_(e,r),a={};this.listens_[o]=a;const l=JI(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),Kl(this.listens_,o)===a){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",s(p,null)}})}unlisten(e,n){const r=mm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=JI(e._queryParams),r=e._path.toString(),s=new Qx;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+vc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=_d(a.responseText)}catch{Yn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Yn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){return{value:null,children:new Map}}function zL(t,e,n){if(be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ae(e);t.children.has(r)||t.children.set(r,gm());const s=t.children.get(r);e=He(e),zL(s,e,n)}}function J0(t,e,n){t.value!==null?n(e,t.value):eZ(t,(r,s)=>{const i=new $e(e.toString()+"/"+r);J0(s,i,n)})}function eZ(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&On(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=10*1e3,nZ=30*1e3,rZ=5*60*1e3;class sZ{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tZ(e);const r=eA+(nZ-eA)*Math.random();$u(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;On(e,(s,i)=>{i>0&&Zs(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),$u(this.reportStats_.bind(this),Math.floor(Math.random()*2*rZ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ar||(Ar={}));function WL(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ar.ACK_USER_WRITE,this.source=WL()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $e(e));return new ym(Me(),n,this.revert)}}else return G(Ae(this.path)===e,"operationForChild called for unrelated child."),new ym(He(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.source=e,this.path=n,this.type=Ar.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new Md(this.source,Me()):new Md(this.source,He(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ar.OVERWRITE}operationForChild(e){return be(this.path)?new ga(this.source,Me(),this.snap.getImmediateChild(e)):new ga(this.source,He(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ar.MERGE}operationForChild(e){if(be(this.path)){const n=this.children.subtree(new $e(e));return n.isEmpty()?null:n.value?new ga(this.source,Me(),n.value):new Od(this.source,Me(),n)}else return G(Ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Od(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function oZ(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(YJ(o.childName,o.snapshotNode))}),au(t,s,"child_removed",e,r,n),au(t,s,"child_added",e,r,n),au(t,s,"child_moved",i,r,n),au(t,s,"child_changed",e,r,n),au(t,s,"value",e,r,n),s}function au(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>lZ(t,a,l)),o.forEach(a=>{const l=aZ(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function aZ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function lZ(t,e,n){if(e.childName==null||n.childName==null)throw yc("Should only compare child_ events.");const r=new Ee(e.childName,e.snapshotNode),s=new Ee(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e){return{eventCache:t,serverCache:e}}function zu(t,e,n,r){return $g(new ho(e,n,r),t.serverCache)}function HL(t,e,n,r){return $g(t.eventCache,new ho(e,n,r))}function vm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ya(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv;const cZ=()=>(Lv||(Lv=new In(KX)),Lv);class Xe{static fromObject(e){let n=new Xe(null);return On(e,(r,s)=>{n=n.set(new $e(r),s)}),n}constructor(e,n=cZ()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Me(),value:this.value};if(be(e))return null;{const r=Ae(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(He(e),n);return i!=null?{path:Nt(new $e(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const n=Ae(e),r=this.children.get(n);return r!==null?r.subtree(He(e)):new Xe(null)}}set(e,n){if(be(e))return new Xe(n,this.children);{const r=Ae(e),i=(this.children.get(r)||new Xe(null)).set(He(e),n),o=this.children.insert(r,i);return new Xe(this.value,o)}}remove(e){if(be(e))return this.children.isEmpty()?new Xe(null):new Xe(null,this.children);{const n=Ae(e),r=this.children.get(n);if(r){const s=r.remove(He(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Xe(null):new Xe(this.value,i)}else return this}}get(e){if(be(e))return this.value;{const n=Ae(e),r=this.children.get(n);return r?r.get(He(e)):null}}setTree(e,n){if(be(e))return n;{const r=Ae(e),i=(this.children.get(r)||new Xe(null)).setTree(He(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Xe(this.value,o)}}fold(e){return this.fold_(Me(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Nt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Me(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(be(e))return null;{const i=Ae(e),o=this.children.get(i);return o?o.findOnPath_(He(e),Nt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Me(),n)}foreachOnPath_(e,n,r){if(be(e))return this;{this.value&&r(n,this.value);const s=Ae(e),i=this.children.get(s);return i?i.foreachOnPath_(He(e),Nt(n,s),r):new Xe(null)}}foreach(e){this.foreach_(Me(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Nt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.writeTree_=e}static empty(){return new Nr(new Xe(null))}}function Wu(t,e,n){if(be(e))return new Nr(new Xe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=gn(s,e);return i=i.updateChild(o,n),new Nr(t.writeTree_.set(s,i))}else{const s=new Xe(n),i=t.writeTree_.setTree(e,s);return new Nr(i)}}}function tA(t,e,n){let r=t;return On(n,(s,i)=>{r=Wu(r,Nt(e,s),i)}),r}function nA(t,e){if(be(e))return Nr.empty();{const n=t.writeTree_.setTree(e,new Xe(null));return new Nr(n)}}function Z0(t,e){return Na(t,e)!=null}function Na(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(gn(n.path,e)):null}function rA(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ht,(r,s)=>{e.push(new Ee(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ee(r,s.value))}),e}function Gi(t,e){if(be(e))return t;{const n=Na(t,e);return n!=null?new Nr(new Xe(n)):new Nr(t.writeTree_.subtree(e))}}function ew(t){return t.writeTree_.isEmpty()}function sc(t,e){return qL(Me(),t.writeTree_,e)}function qL(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(G(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=qL(Nt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Nt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){return YL(e,t)}function uZ(t,e,n,r,s){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Wu(t.visibleWrites,e,n)),t.lastWriteId=r}function dZ(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function hZ(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&fZ(a,r.path)?s=!1:Ir(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return pZ(t),!0;if(r.snap)t.visibleWrites=nA(t.visibleWrites,r.path);else{const a=r.children;On(a,l=>{t.visibleWrites=nA(t.visibleWrites,Nt(r.path,l))})}return!0}else return!1}function fZ(t,e){if(t.snap)return Ir(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ir(Nt(t.path,n),e))return!0;return!1}function pZ(t){t.visibleWrites=GL(t.allWrites,mZ,Me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mZ(t){return t.visible}function GL(t,e,n){let r=Nr.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Ir(n,o)?(a=gn(n,o),r=Wu(r,a,i.snap)):Ir(o,n)&&(a=gn(o,n),r=Wu(r,Me(),i.snap.getChild(a)));else if(i.children){if(Ir(n,o))a=gn(n,o),r=tA(r,a,i.children);else if(Ir(o,n))if(a=gn(o,n),be(a))r=tA(r,Me(),i.children);else{const l=Kl(i.children,Ae(a));if(l){const c=l.getChild(He(a));r=Wu(r,Me(),c)}}}else throw yc("WriteRecord should have .snap or .children")}}return r}function KL(t,e,n,r,s){if(!r&&!s){const i=Na(t.visibleWrites,e);if(i!=null)return i;{const o=Gi(t.visibleWrites,e);if(ew(o))return n;if(n==null&&!Z0(o,Me()))return null;{const a=n||de.EMPTY_NODE;return sc(o,a)}}}else{const i=Gi(t.visibleWrites,e);if(!s&&ew(i))return n;if(!s&&n==null&&!Z0(i,Me()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Ir(c.path,e)||Ir(e,c.path))},a=GL(t.allWrites,o,e),l=n||de.EMPTY_NODE;return sc(a,l)}}}function gZ(t,e,n){let r=de.EMPTY_NODE;const s=Na(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ht,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Gi(t.visibleWrites,e);return n.forEachChild(ht,(o,a)=>{const l=sc(Gi(i,new $e(o)),a);r=r.updateImmediateChild(o,l)}),rA(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Gi(t.visibleWrites,e);return rA(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function yZ(t,e,n,r,s){G(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Nt(e,n);if(Z0(t.visibleWrites,i))return null;{const o=Gi(t.visibleWrites,i);return ew(o)?s.getChild(n):sc(o,s.getChild(n))}}function vZ(t,e,n,r){const s=Nt(e,n),i=Na(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Gi(t.visibleWrites,s);return sc(o,r.getNode().getImmediateChild(n))}else return null}function _Z(t,e){return Na(t.visibleWrites,e)}function wZ(t,e,n,r,s,i,o){let a;const l=Gi(t.visibleWrites,e),c=Na(l,Me());if(c!=null)a=c;else if(n!=null)a=sc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),p=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=p.getNext();for(;m&&u.length<s;)h(m,r)!==0&&u.push(m),m=p.getNext();return u}else return[]}function xZ(){return{visibleWrites:Nr.empty(),allWrites:[],lastWriteId:-1}}function _m(t,e,n,r){return KL(t.writeTree,t.treePath,e,n,r)}function sT(t,e){return gZ(t.writeTree,t.treePath,e)}function sA(t,e,n,r){return yZ(t.writeTree,t.treePath,e,n,r)}function wm(t,e){return _Z(t.writeTree,Nt(t.treePath,e))}function EZ(t,e,n,r,s,i){return wZ(t.writeTree,t.treePath,e,n,r,s,i)}function iT(t,e,n){return vZ(t.writeTree,t.treePath,e,n)}function QL(t,e){return YL(Nt(t.treePath,e),t.writeTree)}function YL(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,kd(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Nd(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,rc(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,kd(r,e.snapshotNode,s.oldSnap));else throw yc("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const XL=new bZ;class oT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ho(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ya(this.viewCache_),i=EZ(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(t){return{filter:t}}function SZ(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function IZ(t,e,n,r,s){const i=new TZ;let o,a;if(n.type===Ar.OVERWRITE){const c=n;c.source.fromUser?o=tw(t,e,c.path,c.snap,r,s,i):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!be(c.path),o=xm(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Ar.MERGE){const c=n;c.source.fromUser?o=RZ(t,e,c.path,c.children,r,s,i):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=nw(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Ar.ACK_USER_WRITE){const c=n;c.revert?o=kZ(t,e,c.path,r,s,i):o=PZ(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Ar.LISTEN_COMPLETE)o=NZ(t,e,n.path,r,i);else throw yc("Unknown operation type: "+n.type);const l=i.getChanges();return AZ(e,o,l),{viewCache:o,changes:l}}function AZ(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=vm(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push($L(vm(e)))}}function JL(t,e,n,r,s,i){const o=e.eventCache;if(wm(r,n)!=null)return e;{let a,l;if(be(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ya(e),u=c instanceof de?c:de.EMPTY_NODE,h=sT(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=_m(r,ya(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Ae(n);if(c===".priority"){G(uo(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=sA(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=He(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const p=sA(r,n,o.getNode(),l);p!=null?h=o.getNode().getImmediateChild(c).updateChild(u,p):h=o.getNode().getImmediateChild(c)}else h=iT(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,i):a=o.getNode()}}return zu(e,a,o.isFullyInitialized()||be(n),t.filter.filtersNodes())}}function xm(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(be(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),m,null)}else{const m=Ae(n);if(!l.isCompleteForPath(n)&&uo(n)>1)return e;const y=He(n),x=l.getNode().getImmediateChild(m).updateChild(y,r);m===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),m,x,y,XL,null)}const h=HL(e,c,l.isFullyInitialized()||be(n),u.filtersNodes()),p=new oT(s,h,i);return JL(t,h,n,s,p,a)}function tw(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new oT(s,e,i);if(be(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=zu(e,c,!0,t.filter.filtersNodes());else{const h=Ae(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=zu(e,c,a.isFullyInitialized(),a.isFiltered());else{const p=He(n),m=a.getNode().getImmediateChild(h);let y;if(be(p))y=r;else{const _=u.getCompleteChild(h);_!=null?kL(p)===".priority"&&_.getChild(ML(p)).isEmpty()?y=_:y=_.updateChild(p,r):y=de.EMPTY_NODE}if(m.equals(y))l=e;else{const _=t.filter.updateChild(a.getNode(),h,y,p,u,o);l=zu(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function iA(t,e){return t.eventCache.isCompleteForChild(e)}function RZ(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=Nt(n,l);iA(e,Ae(u))&&(a=tw(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=Nt(n,l);iA(e,Ae(u))||(a=tw(t,a,u,c,s,i,o))}),a}function oA(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function nw(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;be(n)?c=r:c=new Xe(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,p)=>{if(u.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),y=oA(t,m,p);l=xm(t,l,new $e(h),y,s,i,o,a)}}),c.children.inorderTraversal((h,p)=>{const m=!e.serverCache.isCompleteForChild(h)&&p.value===null;if(!u.hasChild(h)&&!m){const y=e.serverCache.getNode().getImmediateChild(h),_=oA(t,y,p);l=xm(t,l,new $e(h),_,s,i,o,a)}}),l}function PZ(t,e,n,r,s,i,o){if(wm(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xm(t,e,n,l.getNode().getChild(n),s,i,a,o);if(be(n)){let c=new Xe(null);return l.getNode().forEachChild(Il,(u,h)=>{c=c.set(new $e(u),h)}),nw(t,e,n,c,s,i,a,o)}else return e}else{let c=new Xe(null);return r.foreach((u,h)=>{const p=Nt(n,u);l.isCompleteForPath(p)&&(c=c.set(u,l.getNode().getChild(p)))}),nw(t,e,n,c,s,i,a,o)}}function NZ(t,e,n,r,s){const i=e.serverCache,o=HL(e,i.getNode(),i.isFullyInitialized()||be(n),i.isFiltered());return JL(t,o,n,r,XL,s)}function kZ(t,e,n,r,s,i){let o;if(wm(r,n)!=null)return e;{const a=new oT(r,e,s),l=e.eventCache.getNode();let c;if(be(n)||Ae(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=_m(r,ya(e));else{const h=e.serverCache.getNode();G(h instanceof de,"serverChildren would be complete if leaf node"),u=sT(r,h)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=Ae(n);let h=iT(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,He(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,de.EMPTY_NODE,He(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=_m(r,ya(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||wm(r,Me())!=null,zu(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new eT(r.getIndex()),i=JJ(r);this.processor_=CZ(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(de.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(de.EMPTY_NODE,a.getNode(),null),u=new ho(l,o.isFullyInitialized(),s.filtersNodes()),h=new ho(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=$g(h,u),this.eventGenerator_=new iZ(this.query_)}get query(){return this.query_}}function MZ(t){return t.viewCache_.serverCache.getNode()}function OZ(t){return vm(t.viewCache_)}function LZ(t,e){const n=ya(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!be(e)&&!n.getImmediateChild(Ae(e)).isEmpty())?n.getChild(e):null}function aA(t){return t.eventRegistrations_.length===0}function jZ(t,e){t.eventRegistrations_.push(e)}function lA(t,e,n){const r=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function cA(t,e,n,r){e.type===Ar.MERGE&&e.source.queryId!==null&&(G(ya(t.viewCache_),"We should always have a full cache before handling merges"),G(vm(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=IZ(t.processor_,s,e,n,r);return SZ(t.processor_,i.viewCache),G(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,ZL(t,i.changes,i.viewCache.eventCache.getNode(),null)}function VZ(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ht,(i,o)=>{r.push(rc(i,o))}),n.isFullyInitialized()&&r.push($L(n.getNode())),ZL(t,r,n.getNode(),e)}function ZL(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return oZ(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em;class ej{constructor(){this.views=new Map}}function FZ(t){G(!Em,"__referenceConstructor has already been defined"),Em=t}function UZ(){return G(Em,"Reference.ts has not been loaded"),Em}function BZ(t){return t.views.size===0}function aT(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return G(i!=null,"SyncTree gave us an op for an invalid query."),cA(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(cA(o,e,n,r));return i}}function tj(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=_m(n,s?r:null),l=!1;a?l=!0:r instanceof de?(a=sT(n,r),l=!1):(a=de.EMPTY_NODE,l=!1);const c=$g(new ho(a,l,!1),new ho(r,s,!1));return new DZ(e,c)}return o}function $Z(t,e,n,r,s,i){const o=tj(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),jZ(o,n),VZ(o,n)}function zZ(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=fo(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(lA(c,n,r)),aA(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(lA(l,n,r)),aA(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!fo(t)&&i.push(new(UZ())(e._repo,e._path)),{removed:i,events:o}}function nj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ki(t,e){let n=null;for(const r of t.views.values())n=n||LZ(r,e);return n}function rj(t,e){if(e._queryParams.loadsAllData())return Wg(t);{const r=e._queryIdentifier;return t.views.get(r)}}function sj(t,e){return rj(t,e)!=null}function fo(t){return Wg(t)!=null}function Wg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm;function WZ(t){G(!Tm,"__referenceConstructor has already been defined"),Tm=t}function HZ(){return G(Tm,"Reference.ts has not been loaded"),Tm}let qZ=1;class uA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xe(null),this.pendingWriteTree_=xZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GZ(t,e,n,r,s){return uZ(t.pendingWriteTree_,e,n,r,s),s?yh(t,new ga(WL(),e,n)):[]}function cl(t,e,n=!1){const r=dZ(t.pendingWriteTree_,e);if(hZ(t.pendingWriteTree_,e)){let i=new Xe(null);return r.snap!=null?i=i.set(Me(),!0):On(r.children,o=>{i=i.set(new $e(o),!0)}),yh(t,new ym(r.path,i,n))}else return[]}function gh(t,e,n){return yh(t,new ga(nT(),e,n))}function KZ(t,e,n){const r=Xe.fromObject(n);return yh(t,new Od(nT(),e,r))}function QZ(t,e){return yh(t,new Md(nT(),e))}function YZ(t,e,n){const r=lT(t,n);if(r){const s=cT(r),i=s.path,o=s.queryId,a=gn(i,e),l=new Md(rT(o),a);return uT(t,i,l)}else return[]}function ij(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||sj(o,e))){const l=zZ(o,e,n,r);BZ(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(p=>p._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(i,(p,m)=>fo(m));if(u&&!h){const p=t.syncPointTree_.subtree(i);if(!p.isEmpty()){const m=eee(p);for(let y=0;y<m.length;++y){const _=m[y],x=_.query,T=uj(t,_);t.listenProvider_.startListening(Hu(x),Ld(t,x),T.hashFn,T.onComplete)}}}!h&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Hu(e),null):c.forEach(p=>{const m=t.queryToTagMap.get(Hg(p));t.listenProvider_.stopListening(Hu(p),m)}))}tee(t,c)}return a}function oj(t,e,n,r){const s=lT(t,r);if(s!=null){const i=cT(s),o=i.path,a=i.queryId,l=gn(o,e),c=new ga(rT(a),l,n);return uT(t,o,c)}else return[]}function XZ(t,e,n,r){const s=lT(t,r);if(s){const i=cT(s),o=i.path,a=i.queryId,l=gn(o,e),c=Xe.fromObject(n),u=new Od(rT(a),l,c);return uT(t,o,u)}else return[]}function JZ(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(p,m)=>{const y=gn(p,s);i=i||Ki(m,y),o=o||fo(m)});let a=t.syncPointTree_.get(s);a?(o=o||fo(a),i=i||Ki(a,Me())):(a=new ej,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=de.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((m,y)=>{const _=Ki(y,Me());_&&(i=i.updateImmediateChild(m,_))}));const c=sj(a,e);if(!c&&!e._queryParams.loadsAllData()){const p=Hg(e);G(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const m=nee();t.queryToTagMap.set(p,m),t.tagToQueryMap.set(m,p)}const u=zg(t.pendingWriteTree_,s);let h=$Z(a,e,n,u,i,l);if(!c&&!o&&!r){const p=rj(a,e);h=h.concat(ree(t,e,p))}return h}function aj(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=gn(o,e),c=Ki(a,l);if(c)return c});return KL(s,e,i,n,!0)}function ZZ(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=gn(c,n);r=r||Ki(u,h)});let s=t.syncPointTree_.get(n);s?r=r||Ki(s,Me()):(s=new ej,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new ho(r,!0,!1):null,a=zg(t.pendingWriteTree_,e._path),l=tj(s,e,a,i?o.getNode():de.EMPTY_NODE,i);return OZ(l)}function yh(t,e){return lj(e,t.syncPointTree_,null,zg(t.pendingWriteTree_,Me()))}function lj(t,e,n,r){if(be(t.path))return cj(t,e,n,r);{const s=e.get(Me());n==null&&s!=null&&(n=Ki(s,Me()));let i=[];const o=Ae(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=QL(r,o);i=i.concat(lj(a,l,c,u))}return s&&(i=i.concat(aT(s,t,r,n))),i}}function cj(t,e,n,r){const s=e.get(Me());n==null&&s!=null&&(n=Ki(s,Me()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=QL(r,o),u=t.operationForChild(o);u&&(i=i.concat(cj(u,a,l,c)))}),s&&(i=i.concat(aT(s,t,r,n))),i}function uj(t,e){const n=e.query,r=Ld(t,n);return{hashFn:()=>(MZ(e)||de.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?YZ(t,n._path,r):QZ(t,n._path);{const i=XX(s,n);return ij(t,n,null,i)}}}}function Ld(t,e){const n=Hg(e);return t.queryToTagMap.get(n)}function Hg(t){return t._path.toString()+"$"+t._queryIdentifier}function lT(t,e){return t.tagToQueryMap.get(e)}function cT(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $e(t.substr(0,e))}}function uT(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const s=zg(t.pendingWriteTree_,e);return aT(r,n,s,null)}function eee(t){return t.fold((e,n,r)=>{if(n&&fo(n))return[Wg(n)];{let s=[];return n&&(s=nj(n)),On(r,(i,o)=>{s=s.concat(o)}),s}})}function Hu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(HZ())(t._repo,t._path):t}function tee(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Hg(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function nee(){return qZ++}function ree(t,e,n){const r=e._path,s=Ld(t,e),i=uj(t,n),o=t.listenProvider_.startListening(Hu(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)G(!fo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!be(c)&&u&&fo(u))return[Wg(u).query];{let p=[];return u&&(p=p.concat(nj(u).map(m=>m.query))),On(h,(m,y)=>{p=p.concat(y)}),p}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Hu(u),Ld(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new dT(n)}node(){return this.node_}}class hT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Nt(this.path_,e);return new hT(this.syncTree_,n)}node(){return aj(this.syncTree_,this.path_)}}const see=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},dA=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return iee(t[".sv"],e,n);if(typeof t[".sv"]=="object")return oee(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},iee=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},oee=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const s=e.node();if(G(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},aee=function(t,e,n,r){return fT(e,new hT(n,t),r)},lee=function(t,e,n){return fT(t,new dT(e),n)};function fT(t,e,n){const r=t.getPriority().val(),s=dA(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=dA(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Ot(a,zt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Ot(s))),o.forEachChild(ht,(a,l)=>{const c=fT(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function mT(t,e){let n=e instanceof $e?e:new $e(e),r=t,s=Ae(n);for(;s!==null;){const i=Kl(r.node.children,s)||{children:{},childCount:0};r=new pT(s,r,i),n=He(n),s=Ae(n)}return r}function Sc(t){return t.node.value}function dj(t,e){t.node.value=e,rw(t)}function hj(t){return t.node.childCount>0}function cee(t){return Sc(t)===void 0&&!hj(t)}function qg(t,e){On(t.node.children,(n,r)=>{e(new pT(n,t,r))})}function fj(t,e,n,r){n&&!r&&e(t),qg(t,s=>{fj(s,e,!0,r)}),n&&r&&e(t)}function uee(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vh(t){return new $e(t.parent===null?t.name:vh(t.parent)+"/"+t.name)}function rw(t){t.parent!==null&&dee(t.parent,t.name,t)}function dee(t,e,n){const r=cee(n),s=Zs(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,rw(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,rw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hee=/[\[\].#$\/\u0000-\u001F\u007F]/,fee=/[\[\].#$\u0000-\u001F\u007F]/,jv=10*1024*1024,pj=function(t){return typeof t=="string"&&t.length!==0&&!hee.test(t)},mj=function(t){return typeof t=="string"&&t.length!==0&&!fee.test(t)},pee=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mj(t)},gj=function(t,e,n){const r=n instanceof $e?new PJ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Lo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Lo(r)+" with contents = "+e.toString());if(dL(e))throw new Error(t+"contains "+e.toString()+" "+Lo(r));if(typeof e=="string"&&e.length>jv/3&&xg(e)>jv)throw new Error(t+"contains a string greater than "+jv+" utf8 bytes "+Lo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(On(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!pj(o)))throw new Error(t+" contains an invalid key ("+o+") "+Lo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);NJ(r,o),gj(t,a,r),kJ(r)}),s&&i)throw new Error(t+' contains ".value" child '+Lo(r)+" in addition to actual children.")}},yj=function(t,e,n,r){if(!mj(n))throw new Error(dM(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mee=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yj(t,e,n)},gee=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!pj(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pee(n))throw new Error(dM(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vee(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!OL(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Co(t,e,n){vee(t,n),_ee(t,r=>Ir(r,e)||Ir(e,r))}function _ee(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(wee(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function wee(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Bu&&on("event: "+n.toString()),ph(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee="repo_interrupt",Eee=25;class Tee{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yee,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gm(),this.transactionQueueTree_=new pT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bee(t,e,n){if(t.stats_=YE(t.repoInfo_),t.forceRestClient_||tJ())t.server_=new mm(t.repoInfo_,(r,s,i,o)=>{hA(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>fA(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ls(t.repoInfo_,e,(r,s,i,o)=>{hA(t,r,s,i,o)},r=>{fA(t,r)},r=>{See(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=oJ(t.repoInfo_,()=>new sZ(t.stats_,t.server_)),t.infoData_=new ZJ,t.infoSyncTree_=new uA({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=gh(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),gT(t,"connected",!1),t.serverSyncTree_=new uA({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Co(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function Cee(t){const n=t.infoData_.getNode(new $e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vj(t){return see({timestamp:Cee(t)})}function hA(t,e,n,r,s){t.dataUpdateCount++;const i=new $e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=qp(n,c=>zt(c));o=XZ(t.serverSyncTree_,i,l,s)}else{const l=zt(n);o=oj(t.serverSyncTree_,i,l,s)}else if(r){const l=qp(n,c=>zt(c));o=KZ(t.serverSyncTree_,i,l)}else{const l=zt(n);o=gh(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=_T(t,i)),Co(t.eventQueue_,a,o)}function fA(t,e){gT(t,"connected",e),e===!1&&Ree(t)}function See(t,e){On(e,(n,r)=>{gT(t,n,r)})}function gT(t,e,n){const r=new $e("/.info/"+e),s=zt(n);t.infoData_.updateSnapshot(r,s);const i=gh(t.infoSyncTree_,r,s);Co(t.eventQueue_,r,i)}function Iee(t){return t.nextWriteId_++}function Aee(t,e,n){const r=ZZ(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=zt(s).withIndex(e._queryParams.getIndex());JZ(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=gh(t.serverSyncTree_,e._path,i);else{const a=Ld(t.serverSyncTree_,e);o=oj(t.serverSyncTree_,e._path,i,a)}return Co(t.eventQueue_,e._path,o),ij(t.serverSyncTree_,e,n,null,!0),i},s=>(yT(t,"get for query "+Pt(e)+" failed: "+s),Promise.reject(new Error(s))))}function Ree(t){yT(t,"onDisconnectEvents");const e=vj(t),n=gm();J0(t.onDisconnect_,Me(),(s,i)=>{const o=aee(s,i,t.serverSyncTree_,e);zL(n,s,o)});let r=[];J0(n,Me(),(s,i)=>{r=r.concat(gh(t.serverSyncTree_,s,i));const o=Dee(t,s);_T(t,o)}),t.onDisconnect_=gm(),Co(t.eventQueue_,Me(),r)}function Pee(t){t.persistentConnection_&&t.persistentConnection_.interrupt(xee)}function yT(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),on(n,...e)}function _j(t,e,n){return aj(t.serverSyncTree_,e,n)||de.EMPTY_NODE}function vT(t,e=t.transactionQueueTree_){if(e||Gg(t,e),Sc(e)){const n=xj(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Nee(t,vh(e),n)}else hj(e)&&qg(e,n=>{vT(t,n)})}function Nee(t,e,n){const r=n.map(c=>c.currentWriteId),s=_j(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=gn(e,u.path);i=i.updateChild(h,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{yT(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let p=0;p<n.length;p++)n[p].status=2,u=u.concat(cl(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&h.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();Gg(t,mT(t.transactionQueueTree_,e)),vT(t,t.transactionQueueTree_),Co(t.eventQueue_,e,u);for(let p=0;p<h.length;p++)ph(h[p])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Yn("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}_T(t,e)}},o)}function _T(t,e){const n=wj(t,e),r=vh(n),s=xj(t,n);return kee(t,s,r),r}function kee(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=gn(n,l.path);let u=!1,h;if(G(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(cl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Eee)u=!0,h="maxretry",s=s.concat(cl(t.serverSyncTree_,l.currentWriteId,!0));else{const p=_j(t,l.path,o);l.currentInputSnapshot=p;const m=e[a].update(p.val());if(m!==void 0){gj("transaction failed: Data returned ",m,l.path);let y=zt(m);typeof m=="object"&&m!=null&&Zs(m,".priority")||(y=y.updatePriority(p.getPriority()));const x=l.currentWriteId,T=vj(t),w=lee(y,p,T);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=w,l.currentWriteId=Iee(t),o.splice(o.indexOf(x),1),s=s.concat(GZ(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),s=s.concat(cl(t.serverSyncTree_,x,!0))}else u=!0,h="nodata",s=s.concat(cl(t.serverSyncTree_,l.currentWriteId,!0))}Co(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Gg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ph(r[a]);vT(t,t.transactionQueueTree_)}function wj(t,e){let n,r=t.transactionQueueTree_;for(n=Ae(e);n!==null&&Sc(r)===void 0;)r=mT(r,n),e=He(e),n=Ae(e);return r}function xj(t,e){const n=[];return Ej(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Ej(t,e,n){const r=Sc(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);qg(e,s=>{Ej(t,s,n)})}function Gg(t,e){const n=Sc(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,dj(e,n.length>0?n:void 0)}qg(e,r=>{Gg(t,r)})}function Dee(t,e){const n=vh(wj(t,e)),r=mT(t.transactionQueueTree_,e);return uee(r,s=>{Vv(t,s)}),Vv(t,r),fj(r,s=>{Vv(t,s)}),n}function Vv(t,e){const n=Sc(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(cl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?dj(e,void 0):n.length=i+1,Co(t.eventQueue_,vh(e),s);for(let o=0;o<r.length;o++)ph(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mee(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Oee(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Yn(`Invalid query segment '${n}' in query '${t}'`)}return e}const pA=function(t,e){const n=Lee(t),r=n.namespace;n.domain==="firebase.com"&&Ys(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ys("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||qX();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new TL(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new $e(n.pathString)}},Lee=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=Mee(t.substring(u,h)));const p=Oee(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),i=r}"ns"in p&&(i=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pt(this.snapshot.exportVal())}}class Vee{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return be(this._path)?null:kL(this._path)}get ref(){return new ei(this._repo,this._path)}get _queryIdentifier(){const e=ZI(this._queryParams),n=KE(e);return n==="{}"?"default":n}get _queryObject(){return ZI(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof wT))return!1;const n=this._repo===e._repo,r=OL(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+RJ(this._path)}}class ei extends wT{constructor(e,n){super(e,n,new tT,!1)}get parent(){const e=ML(this._path);return e===null?null:new ei(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class jd{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new $e(e),r=sw(this.ref,e);return new jd(this._node.getChild(n),r,ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new jd(s,sw(this.ref,r),ht)))}hasChild(e){const n=new $e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Uee(t,e){return t=ft(t),t._checkNotDeleted("ref"),t._root}function sw(t,e){return t=ft(t),Ae(t._path)===null?mee("child","path",e):yj("child","path",e),new ei(t._repo,Nt(t._path,e))}function Bee(t){t=ft(t);const e=new Fee(()=>{}),n=new xT(e);return Aee(t._repo,t,n).then(r=>new jd(r,new ei(t._repo,t._path),t._queryParams.getIndex()))}class xT{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new jee("value",this,new jd(e.snapshotNode,new ei(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Vee(this,e,n):null}matches(e){return e instanceof xT?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}FZ(ei);WZ(ei);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee="FIREBASE_DATABASE_EMULATOR_HOST",iw={};let zee=!1;function Wee(t,e,n,r){t.repoInfo_=new TL(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Hee(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Ys("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=pA(i,s),a=o.repoInfo,l;typeof process<"u"&&OI&&(l=OI[$ee]),l?(i=`http://${l}?ns=${a.namespace}`,o=pA(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new rJ(t.name,t.options,e);gee("Invalid Firebase Database URL",o),be(o.path)||Ys("Database URL must point to the root of a Firebase Database (not including a child path).");const u=Gee(a,t,c,new nJ(t,n));return new Kee(u,t)}function qee(t,e){const n=iw[e];(!n||n[t.key]!==t)&&Ys(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Pee(t),delete n[t.key]}function Gee(t,e,n,r){let s=iw[e.name];s||(s={},iw[e.name]=s);let i=s[t.toURLString()];return i&&Ys("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Tee(t,zee,n,r),s[t.toURLString()]=i,i}class Kee{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bee(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ei(this._repo,Me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qee(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ys("Cannot call "+e+" on a deleted database.")}}function Tj(t=Eg(),e){const n=Eo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=tM("database");r&&Qee(n,...r)}return n}function Qee(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Hs(r,i.repoInfo_.emulatorOptions))return;Ys("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ys('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new np(np.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:sM(r.mockUserToken,t.app.options.projectId);o=new np(a)}Wee(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(t){UX(ba),jr(new hr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Hee(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Nn(LI,jI,t),Nn(LI,jI,"esm2017")}Ls.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ls.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Yee();const Xee={apiKey:"AIzaSyC7oLi6Juy9wkZPn6acVZMKhQ5O1vsg9V8",authDomain:"gurukulcode-991f0.firebaseapp.com",projectId:"gurukulcode-991f0",storageBucket:"gurukulcode-991f0.appspot.com",messagingSenderId:"448113937765",appId:"1:448113937765:web:288afe0361249f3351a58c",measurementId:"G-4TWS74ENCS",databaseURL:"https://gurukulcode-991f0-default-rtdb.asia-southeast1.firebasedatabase.app"},_h=mM(Xee),Ic=aG(_h),Al=nY(_h);Tj(_h);LX(_h);var Jee=v.createContext(void 0);function Kg(t){const e=v.useContext(Jee);return t||e||"ltr"}var Fv=0;function bj(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??mA()),document.body.insertAdjacentElement("beforeend",t[1]??mA()),Fv++,()=>{Fv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fv--}},[])}function mA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Uv="focusScope.autoFocusOnMount",Bv="focusScope.autoFocusOnUnmount",gA={bubbles:!1,cancelable:!0},Zee="FocusScope",ET=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=st(s),u=st(i),h=v.useRef(null),p=Be(e,_=>l(_)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let _=function(b){if(m.paused||!a)return;const R=b.target;a.contains(R)?h.current=R:fi(h.current,{select:!0})},x=function(b){if(m.paused||!a)return;const R=b.relatedTarget;R!==null&&(a.contains(R)||fi(h.current,{select:!0}))},T=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&fi(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",x);const w=new MutationObserver(T);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){vA.add(m);const _=document.activeElement;if(!a.contains(_)){const T=new CustomEvent(Uv,gA);a.addEventListener(Uv,c),a.dispatchEvent(T),T.defaultPrevented||(ete(ite(Cj(a)),{select:!0}),document.activeElement===_&&fi(a))}return()=>{a.removeEventListener(Uv,c),setTimeout(()=>{const T=new CustomEvent(Bv,gA);a.addEventListener(Bv,u),a.dispatchEvent(T),T.defaultPrevented||fi(_??document.body,{select:!0}),a.removeEventListener(Bv,u),vA.remove(m)},0)}}},[a,c,u,m]);const y=v.useCallback(_=>{if(!n&&!r||m.paused)return;const x=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,T=document.activeElement;if(x&&T){const w=_.currentTarget,[b,R]=tte(w);b&&R?!_.shiftKey&&T===R?(_.preventDefault(),n&&fi(b,{select:!0})):_.shiftKey&&T===b&&(_.preventDefault(),n&&fi(R,{select:!0})):T===w&&_.preventDefault()}},[n,r,m.paused]);return f.jsx(ve.div,{tabIndex:-1,...o,ref:p,onKeyDown:y})});ET.displayName=Zee;function ete(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fi(r,{select:e}),document.activeElement!==n)return}function tte(t){const e=Cj(t),n=yA(e,t),r=yA(e.reverse(),t);return[n,r]}function Cj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yA(t,e){for(const n of t)if(!nte(n,{upTo:e}))return n}function nte(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rte(t){return t instanceof HTMLInputElement&&"select"in t}function fi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&rte(t)&&e&&t.select()}}var vA=ste();function ste(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=_A(t,e),t.unshift(e)},remove(e){var n;t=_A(t,e),(n=t[0])==null||n.resume()}}}function _A(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ite(t){return t.filter(e=>e.tagName!=="A")}function ote(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...y}=h,_=(p==null?void 0:p[t][l])||a,x=v.useMemo(()=>y,Object.values(y));return f.jsx(_.Provider,{value:x,children:m})}function u(h,p){const m=(p==null?void 0:p[t][l])||a,y=v.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,ate(s,...e)]}function ate(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var $v="rovingFocusGroup.onEntryFocus",lte={bubbles:!1,cancelable:!0},Qg="RovingFocusGroup",[ow,Sj,cte]=Ex(Qg),[ute,Yg]=ote(Qg,[cte]),[dte,hte]=ute(Qg),Ij=v.forwardRef((t,e)=>f.jsx(ow.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(ow.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(fte,{...t,ref:e})})}));Ij.displayName=Qg;var fte=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,p=v.useRef(null),m=Be(e,p),y=Kg(i),[_=null,x]=Zd({prop:o,defaultProp:a,onChange:l}),[T,w]=v.useState(!1),b=st(c),R=Sj(n),k=v.useRef(!1),[O,S]=v.useState(0);return v.useEffect(()=>{const C=p.current;if(C)return C.addEventListener($v,b),()=>C.removeEventListener($v,b)},[b]),f.jsx(dte,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:_,onItemFocus:v.useCallback(C=>x(C),[x]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:v.useCallback(()=>S(C=>C-1),[]),children:f.jsx(ve.div,{tabIndex:T||O===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:re(t.onMouseDown,()=>{k.current=!0}),onFocus:re(t.onFocus,C=>{const I=!k.current;if(C.target===C.currentTarget&&I&&!T){const P=new CustomEvent($v,lte);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=R().filter(J=>J.focusable),M=D.find(J=>J.active),N=D.find(J=>J.id===_),ee=[M,N,...D].filter(Boolean).map(J=>J.ref.current);Pj(ee,u)}}k.current=!1}),onBlur:re(t.onBlur,()=>w(!1))})})}),Aj="RovingFocusGroupItem",Rj=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Zo(),l=i||a,c=hte(Aj,n),u=c.currentTabStopId===l,h=Sj(n),{onFocusableItemAdd:p,onFocusableItemRemove:m}=c;return v.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),f.jsx(ow.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(ve.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:re(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:re(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:re(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=gte(y,c.orientation,c.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let T=h().filter(w=>w.focusable).map(w=>w.ref.current);if(_==="last")T.reverse();else if(_==="prev"||_==="next"){_==="prev"&&T.reverse();const w=T.indexOf(y.currentTarget);T=c.loop?yte(T,w+1):T.slice(w+1)}setTimeout(()=>Pj(T))}})})})});Rj.displayName=Aj;var pte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function gte(t,e,n){const r=mte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pte[r]}function Pj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function yte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Nj=Ij,kj=Rj,vte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$a=new WeakMap,Tf=new WeakMap,bf={},zv=0,Dj=function(t){return t&&(t.host||Dj(t.parentNode))},_te=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Dj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},wte=function(t,e,n,r){var s=_te(e,Array.isArray(t)?t:[t]);bf[n]||(bf[n]=new WeakMap);var i=bf[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),y=m!==null&&m!=="false",_=($a.get(p)||0)+1,x=(i.get(p)||0)+1;$a.set(p,_),i.set(p,x),o.push(p),_===1&&y&&Tf.set(p,!0),x===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",p,T)}})};return u(e),a.clear(),zv++,function(){o.forEach(function(h){var p=$a.get(h)-1,m=i.get(h)-1;$a.set(h,p),i.set(h,m),p||(Tf.has(h)||h.removeAttribute(r),Tf.delete(h)),m||h.removeAttribute(n)}),zv--,zv||($a=new WeakMap,$a=new WeakMap,Tf=new WeakMap,bf={})}},Mj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=vte(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),wte(r,s,n,"aria-hidden")):function(){return null}},rp="right-scroll-bar-position",sp="width-before-scroll-bar",xte="with-scroll-bars-hidden",Ete="--removed-body-scroll-bar-size";function Wv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Tte(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var bte=typeof window<"u"?v.useLayoutEffect:v.useEffect,wA=new WeakMap;function Cte(t,e){var n=Tte(null,function(r){return t.forEach(function(s){return Wv(s,r)})});return bte(function(){var r=wA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Wv(a,null)}),i.forEach(function(a){s.has(a)||Wv(a,o)})}wA.set(n,t)},[t]),n}function Ste(t){return t}function Ite(t,e){e===void 0&&(e=Ste);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function Ate(t){t===void 0&&(t={});var e=Ite(null);return e.options=ts({async:!0,ssr:!1},t),e}var Oj=function(t){var e=t.sideCar,n=nh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,ts({},n))};Oj.isSideCarExport=!0;function Rte(t,e){return t.useMedium(e),Oj}var Lj=Ate(),Hv=function(){},Xg=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Hv,onWheelCapture:Hv,onTouchMoveCapture:Hv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,y=t.inert,_=t.allowPinchZoom,x=t.as,T=x===void 0?"div":x,w=t.gapMode,b=nh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,k=Cte([n,e]),O=ts(ts({},b),s);return v.createElement(v.Fragment,null,u&&v.createElement(R,{sideCar:Lj,removeScrollBar:c,shards:h,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:w}),o?v.cloneElement(v.Children.only(a),ts(ts({},O),{ref:k})):v.createElement(T,ts({},O,{className:l,ref:k}),a))});Xg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xg.classNames={fullWidth:sp,zeroRight:rp};var Pte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Pte();return e&&t.setAttribute("nonce",e),t}function kte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Dte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Mte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Nte())&&(kte(e,n),Dte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ote=function(){var t=Mte();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jj=function(){var t=Ote(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Lte={left:0,top:0,right:0,gap:0},qv=function(t){return parseInt(t||"",10)||0},jte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[qv(n),qv(r),qv(s)]},Vte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Lte;var e=jte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Fte=jj(),Rl="data-scroll-locked",Ute=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(xte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Rl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rp," .").concat(rp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sp," .").concat(sp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rl,`] {
    `).concat(Ete,": ").concat(a,`px;
  }
`)},xA=function(){var t=parseInt(document.body.getAttribute(Rl)||"0",10);return isFinite(t)?t:0},Bte=function(){v.useEffect(function(){return document.body.setAttribute(Rl,(xA()+1).toString()),function(){var t=xA()-1;t<=0?document.body.removeAttribute(Rl):document.body.setAttribute(Rl,t.toString())}},[])},$te=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Bte();var i=v.useMemo(function(){return Vte(s)},[s]);return v.createElement(Fte,{styles:Ute(i,!e,s,n?"":"!important")})},aw=!1;if(typeof window<"u")try{var Cf=Object.defineProperty({},"passive",{get:function(){return aw=!0,!0}});window.addEventListener("test",Cf,Cf),window.removeEventListener("test",Cf,Cf)}catch{aw=!1}var za=aw?{passive:!1}:!1,zte=function(t){return t.tagName==="TEXTAREA"},Vj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!zte(t)&&n[e]==="visible")},Wte=function(t){return Vj(t,"overflowY")},Hte=function(t){return Vj(t,"overflowX")},EA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Fj(t,r);if(s){var i=Uj(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},qte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Gte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Fj=function(t,e){return t==="v"?Wte(e):Hte(e)},Uj=function(t,e){return t==="v"?qte(e):Gte(e)},Kte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Qte=function(t,e,n,r,s){var i=Kte(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{var m=Uj(t,a),y=m[0],_=m[1],x=m[2],T=_-x-i*y;(y||T)&&Fj(t,a)&&(h+=T,p+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},Sf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TA=function(t){return[t.deltaX,t.deltaY]},bA=function(t){return t&&"current"in t?t.current:t},Yte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Xte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Jte=0,Wa=[];function Zte(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(Jte++)[0],i=v.useState(jj)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=QH([t.lockRef.current],(t.shards||[]).map(bA),!0).filter(Boolean);return _.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(_,x){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var T=Sf(_),w=n.current,b="deltaX"in _?_.deltaX:w[0]-T[0],R="deltaY"in _?_.deltaY:w[1]-T[1],k,O=_.target,S=Math.abs(b)>Math.abs(R)?"h":"v";if("touches"in _&&S==="h"&&O.type==="range")return!1;var C=EA(S,O);if(!C)return!0;if(C?k=S:(k=S==="v"?"h":"v",C=EA(S,O)),!C)return!1;if(!r.current&&"changedTouches"in _&&(b||R)&&(r.current=k),!k)return!0;var I=r.current||k;return Qte(I,x,_,I==="h"?b:R,!0)},[]),l=v.useCallback(function(_){var x=_;if(!(!Wa.length||Wa[Wa.length-1]!==i)){var T="deltaY"in x?TA(x):Sf(x),w=e.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&Yte(k.delta,T)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(bA).filter(Boolean).filter(function(k){return k.contains(x.target)}),R=b.length>0?a(x,b[0]):!o.current.noIsolation;R&&x.cancelable&&x.preventDefault()}}},[]),c=v.useCallback(function(_,x,T,w){var b={name:_,delta:x,target:T,should:w,shadowParent:ene(T)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(R){return R!==b})},1)},[]),u=v.useCallback(function(_){n.current=Sf(_),r.current=void 0},[]),h=v.useCallback(function(_){c(_.type,TA(_),_.target,a(_,t.lockRef.current))},[]),p=v.useCallback(function(_){c(_.type,Sf(_),_.target,a(_,t.lockRef.current))},[]);v.useEffect(function(){return Wa.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,za),document.addEventListener("touchmove",l,za),document.addEventListener("touchstart",u,za),function(){Wa=Wa.filter(function(_){return _!==i}),document.removeEventListener("wheel",l,za),document.removeEventListener("touchmove",l,za),document.removeEventListener("touchstart",u,za)}},[]);var m=t.removeScrollBar,y=t.inert;return v.createElement(v.Fragment,null,y?v.createElement(i,{styles:Xte(s)}):null,m?v.createElement($te,{gapMode:t.gapMode}):null)}function ene(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tne=Rte(Lj,Zte);var TT=v.forwardRef(function(t,e){return v.createElement(Xg,ts({},t,{ref:e,sideCar:tne}))});TT.classNames=Xg.classNames;var lw=["Enter"," "],nne=["ArrowDown","PageUp","Home"],Bj=["ArrowUp","PageDown","End"],rne=[...nne,...Bj],sne={ltr:[...lw,"ArrowRight"],rtl:[...lw,"ArrowLeft"]},ine={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wh="Menu",[Vd,one,ane]=Ex(wh),[ka,$j]=_o(wh,[ane,pg,Yg]),Jg=pg(),zj=Yg(),[lne,Da]=ka(wh),[cne,xh]=ka(wh),Wj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Jg(e),[l,c]=v.useState(null),u=v.useRef(!1),h=st(i),p=Kg(s);return v.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),f.jsx(xz,{...a,children:f.jsx(lne,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:f.jsx(cne,{scope:e,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};Wj.displayName=wh;var une="MenuAnchor",bT=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Jg(n);return f.jsx(TD,{...s,...r,ref:e})});bT.displayName=une;var CT="MenuPortal",[dne,Hj]=ka(CT,{forceMount:void 0}),qj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Da(CT,e);return f.jsx(dne,{scope:e,forceMount:n,children:f.jsx(wn,{present:n||i.open,children:f.jsx(ig,{asChild:!0,container:s,children:r})})})};qj.displayName=CT;var cr="MenuContent",[hne,ST]=ka(cr),Gj=v.forwardRef((t,e)=>{const n=Hj(cr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Da(cr,t.__scopeMenu),o=xh(cr,t.__scopeMenu);return f.jsx(Vd.Provider,{scope:t.__scopeMenu,children:f.jsx(wn,{present:r||i.open,children:f.jsx(Vd.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(fne,{...s,ref:e}):f.jsx(pne,{...s,ref:e})})})})}),fne=v.forwardRef((t,e)=>{const n=Da(cr,t.__scopeMenu),r=v.useRef(null),s=Be(e,r);return v.useEffect(()=>{const i=r.current;if(i)return Mj(i)},[]),f.jsx(IT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pne=v.forwardRef((t,e)=>{const n=Da(cr,t.__scopeMenu);return f.jsx(IT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),IT=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:y,..._}=t,x=Da(cr,n),T=xh(cr,n),w=Jg(n),b=zj(n),R=one(n),[k,O]=v.useState(null),S=v.useRef(null),C=Be(e,S,x.onContentChange),I=v.useRef(0),P=v.useRef(""),D=v.useRef(0),M=v.useRef(null),N=v.useRef("right"),W=v.useRef(0),ee=y?TT:v.Fragment,J=y?{as:aa,allowPinchZoom:!0}:void 0,oe=U=>{var ze,un;const Y=P.current+U,H=R().filter(tt=>!tt.disabled),X=document.activeElement,se=(ze=H.find(tt=>tt.ref.current===X))==null?void 0:ze.textValue,ke=H.map(tt=>tt.textValue),Ge=Sne(ke,Y,se),ge=(un=H.find(tt=>tt.textValue===Ge))==null?void 0:un.ref.current;(function tt(pt){P.current=pt,window.clearTimeout(I.current),pt!==""&&(I.current=window.setTimeout(()=>tt(""),1e3))})(Y),ge&&setTimeout(()=>ge.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),bj();const j=v.useCallback(U=>{var H,X;return N.current===((H=M.current)==null?void 0:H.side)&&Ane(U,(X=M.current)==null?void 0:X.area)},[]);return f.jsx(hne,{scope:n,searchRef:P,onItemEnter:v.useCallback(U=>{j(U)&&U.preventDefault()},[j]),onItemLeave:v.useCallback(U=>{var Y;j(U)||((Y=S.current)==null||Y.focus(),O(null))},[j]),onTriggerLeave:v.useCallback(U=>{j(U)&&U.preventDefault()},[j]),pointerGraceTimerRef:D,onPointerGraceIntentChange:v.useCallback(U=>{M.current=U},[]),children:f.jsx(ee,{...J,children:f.jsx(ET,{asChild:!0,trapped:s,onMountAutoFocus:re(i,U=>{var Y;U.preventDefault(),(Y=S.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:f.jsx(Nj,{asChild:!0,...b,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:O,onEntryFocus:re(l,U=>{T.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(bD,{role:"menu","aria-orientation":"vertical","data-state":cV(x.open),"data-radix-menu-content":"",dir:T.dir,...w,..._,ref:C,style:{outline:"none",..._.style},onKeyDown:re(_.onKeyDown,U=>{const H=U.target.closest("[data-radix-menu-content]")===U.currentTarget,X=U.ctrlKey||U.altKey||U.metaKey,se=U.key.length===1;H&&(U.key==="Tab"&&U.preventDefault(),!X&&se&&oe(U.key));const ke=S.current;if(U.target!==ke||!rne.includes(U.key))return;U.preventDefault();const ge=R().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);Bj.includes(U.key)&&ge.reverse(),bne(ge)}),onBlur:re(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:re(t.onPointerMove,Fd(U=>{const Y=U.target,H=W.current!==U.clientX;if(U.currentTarget.contains(Y)&&H){const X=U.clientX>W.current?"right":"left";N.current=X,W.current=U.clientX}}))})})})})})})});Gj.displayName=cr;var mne="MenuGroup",AT=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(ve.div,{role:"group",...r,ref:e})});AT.displayName=mne;var gne="MenuLabel",Kj=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(ve.div,{...r,ref:e})});Kj.displayName=gne;var bm="MenuItem",CA="menu.itemSelect",Zg=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),o=xh(bm,t.__scopeMenu),a=ST(bm,t.__scopeMenu),l=Be(e,i),c=v.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(CA,{bubbles:!0,cancelable:!0});h.addEventListener(CA,m=>r==null?void 0:r(m),{once:!0}),Tx(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return f.jsx(Qj,{...s,ref:l,disabled:n,onClick:re(t.onClick,u),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:re(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:re(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||lw.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Zg.displayName=bm;var Qj=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=ST(bm,n),a=zj(n),l=v.useRef(null),c=Be(e,l),[u,h]=v.useState(!1),[p,m]=v.useState("");return v.useEffect(()=>{const y=l.current;y&&m((y.textContent??"").trim())},[i.children]),f.jsx(Vd.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(kj,{asChild:!0,...a,focusable:!r,children:f.jsx(ve.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:re(t.onPointerMove,Fd(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(t.onPointerLeave,Fd(y=>o.onItemLeave(y))),onFocus:re(t.onFocus,()=>h(!0)),onBlur:re(t.onBlur,()=>h(!1))})})})}),yne="MenuCheckboxItem",Yj=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(tV,{scope:t.__scopeMenu,checked:n,children:f.jsx(Zg,{role:"menuitemcheckbox","aria-checked":Cm(n)?"mixed":n,...s,ref:e,"data-state":PT(n),onSelect:re(s.onSelect,()=>r==null?void 0:r(Cm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Yj.displayName=yne;var Xj="MenuRadioGroup",[vne,_ne]=ka(Xj,{value:void 0,onValueChange:()=>{}}),Jj=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=st(r);return f.jsx(vne,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(AT,{...s,ref:e})})});Jj.displayName=Xj;var Zj="MenuRadioItem",eV=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=_ne(Zj,t.__scopeMenu),i=n===s.value;return f.jsx(tV,{scope:t.__scopeMenu,checked:i,children:f.jsx(Zg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":PT(i),onSelect:re(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});eV.displayName=Zj;var RT="MenuItemIndicator",[tV,wne]=ka(RT,{checked:!1}),nV=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=wne(RT,n);return f.jsx(wn,{present:r||Cm(i.checked)||i.checked===!0,children:f.jsx(ve.span,{...s,ref:e,"data-state":PT(i.checked)})})});nV.displayName=RT;var xne="MenuSeparator",rV=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});rV.displayName=xne;var Ene="MenuArrow",sV=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Jg(n);return f.jsx(CD,{...s,...r,ref:e})});sV.displayName=Ene;var Tne="MenuSub",[nde,iV]=ka(Tne),Eu="MenuSubTrigger",oV=v.forwardRef((t,e)=>{const n=Da(Eu,t.__scopeMenu),r=xh(Eu,t.__scopeMenu),s=iV(Eu,t.__scopeMenu),i=ST(Eu,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>u,[u]),v.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),f.jsx(bT,{asChild:!0,...c,children:f.jsx(Qj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":cV(n.open),...t,ref:sg(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(t.onPointerMove,Fd(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:re(t.onPointerLeave,Fd(h=>{var m,y;u();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const _=(y=n.content)==null?void 0:y.dataset.side,x=_==="right",T=x?-5:5,w=p[x?"left":"right"],b=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+T,y:h.clientY},{x:w,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:w,y:p.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:re(t.onKeyDown,h=>{var m;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||sne[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});oV.displayName=Eu;var aV="MenuSubContent",lV=v.forwardRef((t,e)=>{const n=Hj(cr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Da(cr,t.__scopeMenu),o=xh(cr,t.__scopeMenu),a=iV(aV,t.__scopeMenu),l=v.useRef(null),c=Be(e,l);return f.jsx(Vd.Provider,{scope:t.__scopeMenu,children:f.jsx(wn,{present:r||i.open,children:f.jsx(Vd.Slot,{scope:t.__scopeMenu,children:f.jsx(IT,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:re(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:re(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:re(t.onKeyDown,u=>{var m;const h=u.currentTarget.contains(u.target),p=ine[o.dir].includes(u.key);h&&p&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});lV.displayName=aV;function cV(t){return t?"open":"closed"}function Cm(t){return t==="indeterminate"}function PT(t){return Cm(t)?"indeterminate":t?"checked":"unchecked"}function bne(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Cne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Sne(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Cne(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Ine(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function Ane(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Ine(n,e)}function Fd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Rne=Wj,Pne=bT,Nne=qj,kne=Gj,Dne=AT,Mne=Kj,One=Zg,Lne=Yj,jne=Jj,Vne=eV,Fne=nV,Une=rV,Bne=sV,$ne=oV,zne=lV,NT="DropdownMenu",[Wne,rde]=_o(NT,[$j]),xn=$j(),[Hne,uV]=Wne(NT),dV=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=xn(e),c=v.useRef(null),[u=!1,h]=Zd({prop:s,defaultProp:i,onChange:o});return f.jsx(Hne,{scope:e,triggerId:Zo(),triggerRef:c,contentId:Zo(),open:u,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(p=>!p),[h]),modal:a,children:f.jsx(Rne,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};dV.displayName=NT;var hV="DropdownMenuTrigger",fV=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=uV(hV,n),o=xn(n);return f.jsx(Pne,{asChild:!0,...o,children:f.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:sg(e,i.triggerRef),onPointerDown:re(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:re(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});fV.displayName=hV;var qne="DropdownMenuPortal",pV=t=>{const{__scopeDropdownMenu:e,...n}=t,r=xn(e);return f.jsx(Nne,{...r,...n})};pV.displayName=qne;var mV="DropdownMenuContent",gV=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=uV(mV,n),i=xn(n),o=v.useRef(!1);return f.jsx(kne,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:re(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:re(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gV.displayName=mV;var Gne="DropdownMenuGroup",Kne=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(Dne,{...s,...r,ref:e})});Kne.displayName=Gne;var Qne="DropdownMenuLabel",yV=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(Mne,{...s,...r,ref:e})});yV.displayName=Qne;var Yne="DropdownMenuItem",vV=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(One,{...s,...r,ref:e})});vV.displayName=Yne;var Xne="DropdownMenuCheckboxItem",_V=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(Lne,{...s,...r,ref:e})});_V.displayName=Xne;var Jne="DropdownMenuRadioGroup",Zne=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(jne,{...s,...r,ref:e})});Zne.displayName=Jne;var ere="DropdownMenuRadioItem",wV=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(Vne,{...s,...r,ref:e})});wV.displayName=ere;var tre="DropdownMenuItemIndicator",xV=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(Fne,{...s,...r,ref:e})});xV.displayName=tre;var nre="DropdownMenuSeparator",EV=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(Une,{...s,...r,ref:e})});EV.displayName=nre;var rre="DropdownMenuArrow",sre=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(Bne,{...s,...r,ref:e})});sre.displayName=rre;var ire="DropdownMenuSubTrigger",TV=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx($ne,{...s,...r,ref:e})});TV.displayName=ire;var ore="DropdownMenuSubContent",bV=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xn(n);return f.jsx(zne,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bV.displayName=ore;var are=dV,lre=fV,cre=pV,CV=gV,SV=yV,IV=vV,AV=_V,RV=wV,PV=xV,NV=EV,kV=TV,DV=bV;const MV=are,OV=lre,ure=v.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(kV,{ref:s,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(_r,{className:"ml-auto h-4 w-4"})]}));ure.displayName=kV.displayName;const dre=v.forwardRef(({className:t,...e},n)=>f.jsx(DV,{ref:n,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));dre.displayName=DV.displayName;const kT=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(cre,{children:f.jsx(CV,{ref:r,sideOffset:e,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));kT.displayName=CV.displayName;const Sm=v.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(IV,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Sm.displayName=IV.displayName;const hre=v.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(AV,{ref:s,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(PV,{children:f.jsx(LB,{className:"h-4 w-4"})})}),e]}));hre.displayName=AV.displayName;const fre=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(RV,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(PV,{children:f.jsx(VB,{className:"h-2 w-2 fill-current"})})}),e]}));fre.displayName=RV.displayName;const DT=v.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(SV,{ref:r,className:ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));DT.displayName=SV.displayName;const Im=v.forwardRef(({className:t,...e},n)=>f.jsx(NV,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));Im.displayName=NV.displayName;var MT="Avatar",[pre,sde]=_o(MT),[mre,LV]=pre(MT),jV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=v.useState("idle");return f.jsx(mre,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:f.jsx(ve.span,{...r,ref:e})})});jV.displayName=MT;var VV="AvatarImage",FV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=LV(VV,n),a=gre(r,i.referrerPolicy),l=st(c=>{s(c),o.onImageLoadingStatusChange(c)});return Mr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?f.jsx(ve.img,{...i,ref:e,src:r}):null});FV.displayName=VV;var UV="AvatarFallback",BV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=LV(UV,n),[o,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?f.jsx(ve.span,{...s,ref:e}):null});BV.displayName=UV;function gre(t,e){const[n,r]=v.useState("idle");return Mr(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var $V=jV,zV=FV,WV=BV;const OT=v.forwardRef(({className:t,...e},n)=>f.jsx($V,{ref:n,className:ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));OT.displayName=$V.displayName;const yre=v.forwardRef(({className:t,...e},n)=>f.jsx(zV,{ref:n,className:ae("aspect-square h-full w-full",t),...e}));yre.displayName=zV.displayName;const LT=v.forwardRef(({className:t,...e},n)=>f.jsx(WV,{ref:n,className:ae("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));LT.displayName=WV.displayName;function HV({user:t}){const{toast:e}=fs(),n=pr(),r=async()=>{try{await sE(Ic),e({title:"Logged out",description:"You have been successfully logged out."}),n("/")}catch(i){console.error("Logout error:",i),e({title:"Logout failed",description:"An error occurred during logout.",variant:"destructive"})}},s=i=>i?i.charAt(0).toUpperCase():"U";return f.jsxs(MV,{children:[f.jsx(OV,{asChild:!0,children:f.jsx(Ce,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:f.jsx(OT,{className:"h-8 w-8",children:f.jsx(LT,{children:s(t==null?void 0:t.email)})})})}),f.jsxs(kT,{className:"w-56",align:"end",forceMount:!0,children:[f.jsx(DT,{className:"font-normal",children:f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("p",{className:"text-sm font-medium leading-none",children:t==null?void 0:t.email}),f.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(t==null?void 0:t.displayName)||"My Account"})]})}),f.jsx(Im,{}),f.jsx(Sm,{asChild:!0,children:f.jsxs(We,{to:"/profile",children:[f.jsx(JB,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"My Profile"})]})}),f.jsx(Im,{}),f.jsxs(Sm,{onClick:r,children:[f.jsx($B,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Log out"})]})]})]})}function vre({menuItems:t,isActive:e,toggleSubmenu:n,openSubmenu:r,handleLogin:s,handleSignup:i,user:o}){return f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:t.map(a=>f.jsx(dW,{item:a,isActive:e,toggleSubmenu:n,openSubmenu:r},a.title))}),f.jsx("div",{className:"hidden lg:flex items-center space-x-4",children:o?f.jsx(HV,{user:o}):f.jsxs(f.Fragment,{children:[f.jsx(Ce,{variant:"outline",size:"sm",onClick:s,children:"Log in"}),f.jsx(Ce,{size:"sm",onClick:i,children:"Sign up"})]})})]})}function _re({item:t,isActive:e,toggleSubmenu:n,openSubmenu:r,setIsOpen:s}){return f.jsx("div",{className:"py-1",children:t.submenu?f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>n(t.title),className:"flex items-center justify-between w-full text-left px-3 py-2 rounded-md text-foreground/80 hover:text-primary",children:[f.jsx("span",{children:t.title}),f.jsx(Px,{className:`h-4 w-4 transition-transform ${r===t.title?"rotate-180":""}`})]}),r===t.title&&f.jsx("div",{className:"pl-4 mt-1 space-y-1 border-l-2 border-muted",children:t.submenu.map(i=>f.jsx(We,{to:i.href,className:"block px-3 py-2 rounded-md text-sm text-foreground/80 hover:text-primary",onClick:()=>s(!1),children:i.title},i.title))})]}):f.jsx(We,{to:t.href,className:`block px-3 py-2 rounded-md transition-colors ${e(t.href)?"text-primary font-semibold":"text-foreground/80 hover:text-primary"}`,onClick:()=>s(!1),children:t.title})},t.title)}var jT="Dialog",[qV,ide]=_o(jT),[wre,$r]=qV(jT),GV=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[c=!1,u]=Zd({prop:r,defaultProp:s,onChange:i});return f.jsx(wre,{scope:e,triggerRef:a,contentRef:l,contentId:Zo(),titleId:Zo(),descriptionId:Zo(),open:c,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};GV.displayName=jT;var KV="DialogTrigger",xre=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(KV,n),i=Be(e,s.triggerRef);return f.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":UT(s.open),...r,ref:i,onClick:re(t.onClick,s.onOpenToggle)})});xre.displayName=KV;var VT="DialogPortal",[Ere,QV]=qV(VT,{forceMount:void 0}),YV=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=$r(VT,e);return f.jsx(Ere,{scope:e,forceMount:n,children:v.Children.map(r,o=>f.jsx(wn,{present:n||i.open,children:f.jsx(ig,{asChild:!0,container:s,children:o})}))})};YV.displayName=VT;var Am="DialogOverlay",XV=v.forwardRef((t,e)=>{const n=QV(Am,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$r(Am,t.__scopeDialog);return i.modal?f.jsx(wn,{present:r||i.open,children:f.jsx(Tre,{...s,ref:e})}):null});XV.displayName=Am;var Tre=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(Am,n);return f.jsx(TT,{as:aa,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(ve.div,{"data-state":UT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),va="DialogContent",JV=v.forwardRef((t,e)=>{const n=QV(va,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$r(va,t.__scopeDialog);return f.jsx(wn,{present:r||i.open,children:i.modal?f.jsx(bre,{...s,ref:e}):f.jsx(Cre,{...s,ref:e})})});JV.displayName=va;var bre=v.forwardRef((t,e)=>{const n=$r(va,t.__scopeDialog),r=v.useRef(null),s=Be(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return Mj(i)},[]),f.jsx(ZV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:re(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:re(t.onFocusOutside,i=>i.preventDefault())})}),Cre=v.forwardRef((t,e)=>{const n=$r(va,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return f.jsx(ZV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ZV=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=$r(va,n),l=v.useRef(null),c=Be(e,l);return bj(),f.jsxs(f.Fragment,{children:[f.jsx(ET,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Jd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":UT(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Sre,{titleId:a.titleId}),f.jsx(Are,{contentRef:l,descriptionId:a.descriptionId})]})]})}),FT="DialogTitle",eF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(FT,n);return f.jsx(ve.h2,{id:s.titleId,...r,ref:e})});eF.displayName=FT;var tF="DialogDescription",nF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(tF,n);return f.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});nF.displayName=tF;var rF="DialogClose",sF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(rF,n);return f.jsx(ve.button,{type:"button",...r,ref:e,onClick:re(t.onClick,()=>s.onOpenChange(!1))})});sF.displayName=rF;function UT(t){return t?"open":"closed"}var iF="DialogTitleWarning",[ode,oF]=Q6(iF,{contentName:va,titleName:FT,docsSlug:"dialog"}),Sre=({titleId:t})=>{const e=oF(iF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Ire="DialogDescriptionWarning",Are=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oF(Ire).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},aF=GV,lF=YV,ey=XV,ty=JV,ny=eF,ry=nF,Rre=sF;const Pre=aF,Nre=lF,cF=v.forwardRef(({className:t,...e},n)=>f.jsx(ey,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));cF.displayName=ey.displayName;const kre=dc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),uF=v.forwardRef(({side:t="right",className:e,children:n,...r},s)=>f.jsxs(Nre,{children:[f.jsx(cF,{}),f.jsx(ty,{ref:s,className:ae(kre({side:t}),e),...r,children:n})]}));uF.displayName=ty.displayName;const dF=({className:t,...e})=>f.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});dF.displayName="SheetHeader";const Dre=v.forwardRef(({className:t,...e},n)=>f.jsx(ny,{ref:n,className:ae("text-lg font-semibold text-foreground",t),...e}));Dre.displayName=ny.displayName;const Mre=v.forwardRef(({className:t,...e},n)=>f.jsx(ry,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));Mre.displayName=ry.displayName;function Ore(){const t=pr(),[e,n]=v.useState(!1),r=[{name:"AI Updates",description:"Latest updates in AI technology",icon:f.jsx(Kk,{className:"h-4 w-4 mr-2"}),action:()=>t("/ai-updates")},{name:"Tech",description:"Tech industry insights and trends",icon:f.jsx(Nx,{className:"h-4 w-4 mr-2"}),action:()=>t("/tech-insights")},{name:"Finance",description:"Financial advice and market analysis",icon:f.jsx(Hk,{className:"h-4 w-4 mr-2"}),action:()=>t("/finance-advisor")},{name:"Education",description:"Learning resources and study help",icon:f.jsx(Gk,{className:"h-4 w-4 mr-2"}),action:()=>t("/education-assistant")},{name:"Career",description:"Career guidance and job search",icon:f.jsx(Rx,{className:"h-4 w-4 mr-2"}),action:()=>t("/career-advisor")}];return f.jsxs(MV,{open:e,onOpenChange:n,children:[f.jsx(OV,{asChild:!0,children:f.jsxs(Ce,{variant:"outline",className:"gap-2",children:[f.jsx(Ix,{size:18}),"AI Agents",f.jsx(Px,{size:16,className:"ml-1"})]})}),f.jsxs(kT,{align:"end",className:"w-[240px]",children:[f.jsx(DT,{children:"Select AI Agent"}),f.jsx(Im,{}),r.map(s=>f.jsxs(Sm,{className:"flex items-center cursor-pointer py-2",onClick:()=>{s.action(),n(!1)},children:[s.icon,f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:s.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]},s.name))]})]})}function Lre({isOpen:t,menuItems:e,isActive:n,toggleSubmenu:r,openSubmenu:s,setIsOpen:i,handleLogin:o,handleSignup:a,user:l}){const{toast:c}=fs(),u=async()=>{try{await sE(Ic),i(!1),c({title:"Logged out",description:"You have been successfully logged out."})}catch(h){console.error("Error signing out:",h),c({title:"Logout failed",description:"An error occurred during logout.",variant:"destructive"})}};return f.jsx(Pre,{open:t,onOpenChange:i,children:f.jsxs(uF,{side:"right",className:"w-[300px] sm:w-[350px] p-0",children:[f.jsx(dF,{className:"border-b p-4",children:f.jsx("div",{className:"flex items-center justify-end",children:f.jsxs(Ce,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i(!1),children:[f.jsx(ug,{size:18}),f.jsx("span",{className:"sr-only",children:"Close"})]})})}),f.jsxs("div",{className:"px-4 py-5 space-y-3 subtle-scroll max-h-[calc(100vh-4rem)] overflow-y-auto",children:[e.map(h=>f.jsx(_re,{item:h,isActive:n,toggleSubmenu:r,openSubmenu:s,setIsOpen:i},h.title)),f.jsxs("div",{className:"pt-4 flex flex-col space-y-3",children:[f.jsx("div",{className:"mb-2",children:f.jsx(Ore,{})}),l?f.jsxs("div",{className:"border-t pt-4",children:[f.jsxs("div",{className:"text-sm font-medium mb-2",children:["Signed in as ",l.email]}),f.jsx(Ce,{className:"w-full",variant:"outline",onClick:u,children:"Sign Out"})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ce,{variant:"outline",className:"w-full",onClick:()=>{o(),i(!1)},children:"Log in"}),f.jsx(Ce,{className:"w-full",onClick:()=>{a(),i(!1)},children:"Sign up"})]})]})]})]})})}function jre({toggleMenu:t}){return f.jsx("button",{onClick:t,className:"lg:hidden text-foreground focus:outline-none p-2 rounded-md hover:bg-muted/80 transition-colors","aria-label":"Open menu",children:f.jsx(HB,{size:24})})}const SA=[{title:"Home",href:"/"},{title:"AI Assessment",href:"/ai-assessment"},{title:"Learning Center",href:"/learning-center",submenu:[{title:"Courses Catalog",href:"/learning-center"},{title:"Certifications",href:"/learning-center"},{title:"Learning Paths",href:"/learning-center"}]},{title:"Career Center",href:"/career-center",submenu:[{title:"Skill Analysis",href:"/career-center"},{title:"Career Mapping",href:"/career-center"},{title:"Career Awareness Hub",href:"/career-center"}]},{title:"About",href:"/about"},{title:"Contact",href:"/contact"},{title:"AI Updates",href:"/ai-updates"}],sy=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(!0);return v.useEffect(()=>{const s=Y7(Ic,i=>{e(i),r(!1)});return()=>s()},[]),{user:t,loading:n}};function Vre(){const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[s,i]=v.useState(null),o=Ea(),a=pr(),{user:l,loading:c}=sy();v.useEffect(()=>{const _=()=>{r(window.scrollY>10)};return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]),v.useEffect(()=>{e(!1)},[o.pathname]);const u=()=>{e(!t)},h=_=>{i(s===_?null:_)},p=_=>o.pathname===_,m=()=>{a("/login")},y=()=>{a("/signup")};return f.jsxs("header",{className:`fixed w-full z-50 transition-all duration-300 ${n?"bg-white/90 dark:bg-secondary/90 backdrop-blur-md shadow-sm py-3":"bg-transparent py-5"}`,children:[f.jsx("div",{className:"container mx-auto px-4 md:px-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(cW,{}),f.jsx(vre,{menuItems:SA,isActive:p,toggleSubmenu:h,openSubmenu:s,handleLogin:m,handleSignup:y,user:l}),f.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[l&&f.jsx(HV,{user:l}),f.jsx(jre,{toggleMenu:u})]})]})}),f.jsx(Lre,{isOpen:t,menuItems:SA,isActive:p,toggleSubmenu:h,openSubmenu:s,setIsOpen:e,handleLogin:m,handleSignup:y,user:l})]})}function Fre(){const t=new Date().getFullYear();return f.jsx("footer",{className:"bg-[#0F1026] text-secondary-foreground py-12 md:py-16",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-10",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx(We,{to:"/",className:"inline-block mb-6",children:f.jsx("img",{alt:"Gurukul Code",src:"/lovable-uploads/Logos-05-removebg-preview.png",className:"h-12 w-auto"})}),f.jsx("p",{className:"text-secondary-foreground/80 mb-6 max-w-md",children:"Blending traditional Gurukul mentorship with AI-driven career development, we empower learners at every stage of their journey."}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("a",{href:"#",className:"text-secondary-foreground/60 hover:text-white transition-colors","aria-label":"Twitter",children:f.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),f.jsx("a",{href:"#",className:"text-secondary-foreground/60 hover:text-white transition-colors","aria-label":"LinkedIn",children:f.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),f.jsx("a",{href:"#",className:"text-secondary-foreground/60 hover:text-white transition-colors","aria-label":"Instagram",children:f.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z"})})}),f.jsx("a",{href:"#",className:"text-secondary-foreground/60 hover:text-white transition-colors","aria-label":"YouTube",children:f.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Platform"}),f.jsxs("ul",{className:"space-y-3",children:[f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Learning Center"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Career Assessment"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Mentorship"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Knowledge Hub"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Community"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Resources"}),f.jsxs("ul",{className:"space-y-3",children:[f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Blog"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Case Studies"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Events"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Help Center"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"FAQs"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Company"}),f.jsxs("ul",{className:"space-y-3",children:[f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"About Us"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Careers"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Contact"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Privacy Policy"})}),f.jsx("li",{children:f.jsx(We,{to:"#",className:"text-secondary-foreground/80 hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),f.jsx("div",{className:"mt-12 pt-8 border-t border-white/10",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[f.jsxs("p",{className:"text-secondary-foreground/60 text-sm",children:["© ",t," Gurukul Code. All rights reserved."]}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[f.jsx(We,{to:"#",className:"text-secondary-foreground/60 hover:text-white transition-colors",children:"Privacy Policy"}),f.jsx(We,{to:"#",className:"text-secondary-foreground/60 hover:text-white transition-colors",children:"Terms of Service"}),f.jsx(We,{to:"#",className:"text-secondary-foreground/60 hover:text-white transition-colors",children:"Cookie Policy"})]})]})})]})})}function Ure({children:t}){return v.useEffect(()=>(document.documentElement.classList.add("dark"),()=>{document.documentElement.classList.remove("dark")}),[]),f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(Vre,{}),f.jsx("main",{className:"flex-grow",children:t}),f.jsx(Fre,{})]})}const hF=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),iy=v.createContext({}),BT=v.createContext(null),oy=typeof document<"u",Bre=oy?v.useLayoutEffect:v.useEffect,fF=v.createContext({strict:!1});function $re(t,e,n,r){const{visualElement:s}=v.useContext(iy),i=v.useContext(fF),o=v.useContext(BT),a=v.useContext(hF).reducedMotion,l=v.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,o)});const u=v.useRef(!!window.HandoffAppearAnimations);return Bre(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,u.current=!1)}),c}function ul(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zre(t,e,n){return v.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ul(n)&&(n.current=r))},[e])}function Ud(t){return typeof t=="string"||Array.isArray(t)}function ay(t){return typeof t=="object"&&typeof t.start=="function"}const $T=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zT=["initial",...$T];function ly(t){return ay(t.animate)||zT.some(e=>Ud(t[e]))}function pF(t){return!!(ly(t)||t.variants)}function Wre(t,e){if(ly(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ud(n)?n:void 0,animate:Ud(r)?r:void 0}}return t.inherit!==!1?e:{}}function Hre(t){const{initial:e,animate:n}=Wre(t,v.useContext(iy));return v.useMemo(()=>({initial:e,animate:n}),[IA(e),IA(n)])}function IA(t){return Array.isArray(t)?t.join(" "):t}const AA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bd={};for(const t in AA)Bd[t]={isEnabled:e=>AA[t].some(n=>!!e[n])};function qre(t){for(const e in t)Bd[e]={...Bd[e],...t[e]}}const mF=v.createContext({}),gF=v.createContext({}),Gre=Symbol.for("motionComponentSymbol");function Kre({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&qre(t);function i(a,l){let c;const u={...v.useContext(hF),...a,layoutId:Qre(a)},{isStatic:h}=u,p=Hre(a),m=r(a,h);if(!h&&oy){p.visualElement=$re(s,m,u,e);const y=v.useContext(gF),_=v.useContext(fF).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,_,t,y))}return v.createElement(iy.Provider,{value:p},c&&p.visualElement?v.createElement(c,{visualElement:p.visualElement,...u}):null,n(s,a,zre(m,p.visualElement,l),m,h,p.visualElement))}const o=v.forwardRef(i);return o[Gre]=s,o}function Qre({layoutId:t}){const e=v.useContext(mF).id;return e&&t!==void 0?e+"-"+t:t}function Yre(t){function e(r,s={}){return Kre(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const Xre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WT(t){return typeof t!="string"||t.includes("-")?!1:!!(Xre.indexOf(t)>-1||/[A-Z]/.test(t))}const Rm={};function Jre(t){Object.assign(Rm,t)}const Eh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ma=new Set(Eh);function yF(t,{layout:e,layoutId:n}){return Ma.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rm[t]||t==="opacity")}const Ln=t=>!!(t&&t.getVelocity),Zre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ese=Eh.length;function tse(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<ese;o++){const a=Eh[o];if(t[a]!==void 0){const l=Zre[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const vF=t=>e=>typeof e=="string"&&e.startsWith(t),_F=vF("--"),cw=vF("var(--"),nse=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,rse=(t,e)=>e&&typeof t=="number"?e.transform(t):t,po=(t,e,n)=>Math.min(Math.max(n,t),e),Oa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qu={...Oa,transform:t=>po(0,1,t)},If={...Oa,default:1},Gu=t=>Math.round(t*1e5)/1e5,cy=/(-)?([\d]*\.?[\d])+/g,wF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sse=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Th(t){return typeof t=="string"}const bh=t=>({test:e=>Th(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pi=bh("deg"),cs=bh("%"),le=bh("px"),ise=bh("vh"),ose=bh("vw"),RA={...cs,parse:t=>cs.parse(t)/100,transform:t=>cs.transform(t*100)},PA={...Oa,transform:Math.round},xF={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,size:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,rotate:pi,rotateX:pi,rotateY:pi,rotateZ:pi,scale:If,scaleX:If,scaleY:If,scaleZ:If,skew:pi,skewX:pi,skewY:pi,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:qu,originX:RA,originY:RA,originZ:le,zIndex:PA,fillOpacity:qu,strokeOpacity:qu,numOctaves:PA};function HT(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const h in e){const p=e[h];if(_F(h)){i[h]=p;continue}const m=xF[h],y=rse(p,m);if(Ma.has(h)){if(l=!0,o[h]=y,!u)continue;p!==(m.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=y):s[h]=y}if(e.transform||(l||r?s.transform=tse(t.transform,n,u,r):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;s.transformOrigin=`${h} ${p} ${m}`}}const qT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EF(t,e,n){for(const r in e)!Ln(e[r])&&!yF(r,n)&&(t[r]=e[r])}function ase({transformTemplate:t},e,n){return v.useMemo(()=>{const r=qT();return HT(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function lse(t,e,n){const r=t.style||{},s={};return EF(s,r,t),Object.assign(s,ase(t,e,n)),t.transformValues?t.transformValues(s):s}function cse(t,e,n){const r={},s=lse(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const use=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Pm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||use.has(t)}let TF=t=>!Pm(t);function dse(t){t&&(TF=e=>e.startsWith("on")?!Pm(e):t(e))}try{dse(require("@emotion/is-prop-valid").default)}catch{}function hse(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(TF(s)||n===!0&&Pm(s)||!e&&!Pm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function NA(t,e,n){return typeof t=="string"?t:le.transform(e+n*t)}function fse(t,e,n){const r=NA(e,t.x,t.width),s=NA(n,t.y,t.height);return`${r} ${s}`}const pse={offset:"stroke-dashoffset",array:"stroke-dasharray"},mse={offset:"strokeDashoffset",array:"strokeDasharray"};function gse(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?pse:mse;t[i.offset]=le.transform(-r);const o=le.transform(e),a=le.transform(n);t[i.array]=`${o} ${a}`}function GT(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h,p){if(HT(t,c,u,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:_}=t;m.transform&&(_&&(y.transform=m.transform),delete m.transform),_&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=fse(_,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&gse(m,o,a,l,!1)}const bF=()=>({...qT(),attrs:{}}),KT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yse(t,e,n,r){const s=v.useMemo(()=>{const i=bF();return GT(i,e,{enableHardwareAcceleration:!1},KT(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};EF(i,t.style,t),s.style={...i,...s.style}}return s}function vse(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(WT(n)?yse:cse)(r,i,o,n),u={...hse(r,typeof n=="string",t),...l,ref:s},{children:h}=r,p=v.useMemo(()=>Ln(h)?h.get():h,[h]);return v.createElement(n,{...u,children:p})}}const QT=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function CF(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const SF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IF(t,e,n,r){CF(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(SF.has(s)?s:QT(s),e.attrs[s])}function YT(t,e){const{style:n}=t,r={};for(const s in n)(Ln(n[s])||e.style&&Ln(e.style[s])||yF(s,t))&&(r[s]=n[s]);return r}function AF(t,e){const n=YT(t,e);for(const r in t)if(Ln(t[r])||Ln(e[r])){const s=Eh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function XT(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function _se(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nm=t=>Array.isArray(t),wse=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xse=t=>Nm(t)?t[t.length-1]||0:t;function ip(t){const e=Ln(t)?t.get():t;return wse(e)?e.toValue():e}function Ese({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:Tse(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const RF=t=>(e,n)=>{const r=v.useContext(iy),s=v.useContext(BT),i=()=>Ese(t,e,r,s);return n?i():_se(i)};function Tse(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=ip(i[p]);let{initial:o,animate:a}=t;const l=ly(t),c=pF(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!ay(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=XT(t,m);if(!y)return;const{transitionEnd:_,transition:x,...T}=y;for(const w in T){let b=T[w];if(Array.isArray(b)){const R=u?b.length-1:0;b=b[R]}b!==null&&(s[w]=b)}for(const w in _)s[w]=_[w]}),s}const yt=t=>t;class kA{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function bse(t){let e=new kA,n=new kA,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&s,p=h?e:n;return c&&o.add(l),p.add(l)&&h&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const Af=["prepare","read","update","preRender","render","postRender"],Cse=40;function Sse(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Af.reduce((h,p)=>(h[p]=bse(()=>n=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,Cse),1),s.timestamp=h,s.isProcessing=!0,Af.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Af.reduce((h,p)=>{const m=i[p];return h[p]=(y,_=!1,x=!1)=>(n||l(),m.schedule(y,_,x)),h},{}),cancel:h=>Af.forEach(p=>i[p].cancel(h)),state:s,steps:i}}const{schedule:et,cancel:Xs,state:Mt,steps:Gv}=Sse(typeof requestAnimationFrame<"u"?requestAnimationFrame:yt,!0),Ise={useVisualState:RF({scrapeMotionValuesFromProps:AF,createRenderState:bF,onMount:(t,e,{renderState:n,latestValues:r})=>{et.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),et.render(()=>{GT(n,r,{enableHardwareAcceleration:!1},KT(e.tagName),t.transformTemplate),IF(e,n)})}})},Ase={useVisualState:RF({scrapeMotionValuesFromProps:YT,createRenderState:qT})};function Rse(t,{forwardMotionProps:e=!1},n,r){return{...WT(t)?Ise:Ase,preloadedFeatures:n,useRender:vse(e),createVisualElement:r,Component:t}}function ks(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const PF=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function uy(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Pse=t=>e=>PF(e)&&t(e,uy(e));function js(t,e,n,r){return ks(t,e,Pse(n),r)}const Nse=(t,e)=>n=>e(t(n)),Qi=(...t)=>t.reduce(Nse);function NF(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const DA=NF("dragHorizontal"),MA=NF("dragVertical");function kF(t){let e=!1;if(t==="y")e=MA();else if(t==="x")e=DA();else{const n=DA(),r=MA();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function DF(){const t=kF(!0);return t?(t(),!1):!0}class So{constructor(e){this.isMounted=!1,this.node=e}update(){}}function OA(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.type==="touch"||DF())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&et.update(()=>a[r](i,o))};return js(t.current,n,s,{passive:!t.getProps()[r]})}class kse extends So{mount(){this.unmount=Qi(OA(this.node,!0),OA(this.node,!1))}unmount(){}}class Dse extends So{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qi(ks(this.node.current,"focus",()=>this.onFocus()),ks(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const MF=(t,e)=>e?t===e?!0:MF(t,e.parentElement):!1;function Kv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,uy(n))}class Mse extends So{constructor(){super(...arguments),this.removeStartListeners=yt,this.removeEndListeners=yt,this.removeAccessibleListeners=yt,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=js(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();et.update(()=>{MF(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=js(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qi(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Kv("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&et.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ks(this.node.current,"keyup",o),Kv("down",(a,l)=>{this.startPress(a,l)})},n=ks(this.node.current,"keydown",e),r=()=>{this.isPressing&&Kv("cancel",(i,o)=>this.cancelPress(i,o))},s=ks(this.node.current,"blur",r);this.removeAccessibleListeners=Qi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&et.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!DF()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&et.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=js(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ks(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uw=new WeakMap,Qv=new WeakMap,Ose=t=>{const e=uw.get(t.target);e&&e(t)},Lse=t=>{t.forEach(Ose)};function jse({root:t,...e}){const n=t||document;Qv.has(n)||Qv.set(n,{});const r=Qv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Lse,{root:t,...e})),r[s]}function Vse(t,e,n){const r=jse(e);return uw.set(t,n),r.observe(t),()=>{uw.delete(t),r.unobserve(t)}}const Fse={some:0,all:1};class Use extends So{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Fse[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return Vse(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Bse(e,n))&&this.startObserver()}unmount(){}}function Bse({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $se={inView:{Feature:Use},tap:{Feature:Mse},focus:{Feature:Dse},hover:{Feature:kse}};function OF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function zse(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Wse(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function dy(t,e,n){const r=t.getProps();return XT(r,e,n!==void 0?n:r.custom,zse(t),Wse(t))}const Hse="framerAppearId",qse="data-"+QT(Hse);let km=yt;const ea=t=>t*1e3,Vs=t=>t/1e3,Gse={current:!1},LF=t=>Array.isArray(t)&&typeof t[0]=="number";function jF(t){return!!(!t||typeof t=="string"&&VF[t]||LF(t)||Array.isArray(t)&&t.every(jF))}const Tu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,VF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tu([0,.65,.55,1]),circOut:Tu([.55,0,1,.45]),backIn:Tu([.31,.01,.66,-.59]),backOut:Tu([.33,1.53,.69,.99])};function FF(t){if(t)return LF(t)?Tu(t):Array.isArray(t)?t.map(FF):VF[t]}function Kse(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=FF(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Qse(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const UF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Yse=1e-7,Xse=12;function Jse(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=UF(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Yse&&++a<Xse);return o}function Ch(t,e,n,r){if(t===e&&n===r)return yt;const s=i=>Jse(i,0,1,t,n);return i=>i===0||i===1?i:UF(s(i),e,r)}const Zse=Ch(.42,0,1,1),eie=Ch(0,0,.58,1),BF=Ch(.42,0,.58,1),tie=t=>Array.isArray(t)&&typeof t[0]!="number",$F=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zF=t=>e=>1-t(1-e),WF=t=>1-Math.sin(Math.acos(t)),JT=zF(WF),nie=$F(JT),HF=Ch(.33,1.53,.69,.99),ZT=zF(HF),rie=$F(ZT),sie=t=>(t*=2)<1?.5*ZT(t):.5*(2-Math.pow(2,-10*(t-1))),LA={linear:yt,easeIn:Zse,easeInOut:BF,easeOut:eie,circIn:WF,circInOut:nie,circOut:JT,backIn:ZT,backInOut:rie,backOut:HF,anticipate:sie},jA=t=>{if(Array.isArray(t)){km(t.length===4);const[e,n,r,s]=t;return Ch(e,n,r,s)}else if(typeof t=="string")return km(LA[t]!==void 0),LA[t];return t},eb=(t,e)=>n=>!!(Th(n)&&sse.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),qF=(t,e,n)=>r=>{if(!Th(r))return r;const[s,i,o,a]=r.match(cy);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},iie=t=>po(0,255,t),Yv={...Oa,transform:t=>Math.round(iie(t))},Ho={test:eb("rgb","red"),parse:qF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yv.transform(t)+", "+Yv.transform(e)+", "+Yv.transform(n)+", "+Gu(qu.transform(r))+")"};function oie(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const dw={test:eb("#"),parse:oie,transform:Ho.transform},dl={test:eb("hsl","hue"),parse:qF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cs.transform(Gu(e))+", "+cs.transform(Gu(n))+", "+Gu(qu.transform(r))+")"},fn={test:t=>Ho.test(t)||dw.test(t)||dl.test(t),parse:t=>Ho.test(t)?Ho.parse(t):dl.test(t)?dl.parse(t):dw.parse(t),transform:t=>Th(t)?t:t.hasOwnProperty("red")?Ho.transform(t):dl.transform(t)},it=(t,e,n)=>-n*t+n*e+t;function Xv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aie({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Xv(l,a,t+1/3),i=Xv(l,a,t),o=Xv(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Jv=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},lie=[dw,Ho,dl],cie=t=>lie.find(e=>e.test(t));function VA(t){const e=cie(t);let n=e.parse(t);return e===dl&&(n=aie(n)),n}const GF=(t,e)=>{const n=VA(t),r=VA(e),s={...n};return i=>(s.red=Jv(n.red,r.red,i),s.green=Jv(n.green,r.green,i),s.blue=Jv(n.blue,r.blue,i),s.alpha=it(n.alpha,r.alpha,i),Ho.transform(s))};function uie(t){var e,n;return isNaN(t)&&Th(t)&&(((e=t.match(cy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(wF))===null||n===void 0?void 0:n.length)||0)>0}const KF={regex:nse,countKey:"Vars",token:"${v}",parse:yt},QF={regex:wF,countKey:"Colors",token:"${c}",parse:fn.parse},YF={regex:cy,countKey:"Numbers",token:"${n}",parse:Oa.parse};function Zv(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Dm(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Zv(n,KF),Zv(n,QF),Zv(n,YF),n}function XF(t){return Dm(t).values}function JF(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Dm(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(KF.token,o[l]):l<r+n?a=a.replace(QF.token,fn.transform(o[l])):a=a.replace(YF.token,Gu(o[l]));return a}}const die=t=>typeof t=="number"?0:t;function hie(t){const e=XF(t);return JF(t)(e.map(die))}const mo={test:uie,parse:XF,createTransformer:JF,getAnimatableNone:hie},ZF=(t,e)=>n=>`${n>0?e:t}`;function e4(t,e){return typeof t=="number"?n=>it(t,e,n):fn.test(t)?GF(t,e):t.startsWith("var(")?ZF(t,e):n4(t,e)}const t4=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>e4(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},fie=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=e4(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},n4=(t,e)=>{const n=mo.createTransformer(e),r=Dm(t),s=Dm(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Qi(t4(r.values,s.values),n):ZF(t,e)},$d=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},FA=(t,e)=>n=>it(t,e,n);function pie(t){return typeof t=="number"?FA:typeof t=="string"?fn.test(t)?GF:n4:Array.isArray(t)?t4:typeof t=="object"?fie:FA}function mie(t,e,n){const r=[],s=n||pie(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||yt:e;a=Qi(l,a)}r.push(a)}return r}function r4(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(km(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=mie(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=$d(t[u],t[u+1],c);return o[u](h)};return n?c=>l(po(t[0],t[i-1],c)):l}function gie(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=$d(0,e,r);t.push(it(n,1,s))}}function yie(t){const e=[0];return gie(e,t.length-1),e}function vie(t,e){return t.map(n=>n*e)}function _ie(t,e){return t.map(()=>e||BF).splice(0,t.length-1)}function Mm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=tie(r)?r.map(jA):jA(r),i={done:!1,value:e[0]},o=vie(n&&n.length===e.length?n:yie(e),t),a=r4(o,e,{ease:Array.isArray(s)?s:_ie(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function s4(t,e){return e?t*(1e3/e):0}const wie=5;function i4(t,e,n){const r=Math.max(e-wie,0);return s4(n-t(r),e-r)}const e_=.001,xie=.01,Eie=10,Tie=.05,bie=1;function Cie({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=po(Tie,bie,o),t=po(xie,Eie,Vs(t)),o<1?(s=c=>{const u=c*o,h=u*t,p=u-n,m=hw(c,o),y=Math.exp(-h);return e_-p/m*y},i=c=>{const h=c*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-h),_=hw(Math.pow(c,2),o);return(-s(c)+e_>0?-1:1)*((p-m)*y)/_}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-e_+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=Iie(s,i,a);if(t=ea(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Sie=12;function Iie(t,e,n){let r=n;for(let s=1;s<Sie;s++)r=r-t(r)/e(r);return r}function hw(t,e){return t*Math.sqrt(1-e*e)}const Aie=["duration","bounce"],Rie=["stiffness","damping","mass"];function UA(t,e){return e.some(n=>t[n]!==void 0)}function Pie(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!UA(t,Rie)&&UA(t,Aie)){const n=Cie(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function o4({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,velocity:u,duration:h,isResolvedFromDuration:p}=Pie(r),m=u?-Vs(u):0,y=l/(2*Math.sqrt(a*c)),_=i-s,x=Vs(Math.sqrt(a/c)),T=Math.abs(_)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let w;if(y<1){const b=hw(x,y);w=R=>{const k=Math.exp(-y*x*R);return i-k*((m+y*x*_)/b*Math.sin(b*R)+_*Math.cos(b*R))}}else if(y===1)w=b=>i-Math.exp(-x*b)*(_+(m+x*_)*b);else{const b=x*Math.sqrt(y*y-1);w=R=>{const k=Math.exp(-y*x*R),O=Math.min(b*R,300);return i-k*((m+y*x*_)*Math.sinh(O)+b*_*Math.cosh(O))/b}}return{calculatedDuration:p&&h||null,next:b=>{const R=w(b);if(p)o.done=b>=h;else{let k=m;b!==0&&(y<1?k=i4(w,b,R):k=0);const O=Math.abs(k)<=n,S=Math.abs(i-R)<=e;o.done=O&&S}return o.value=o.done?i:R,o}}}function BA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],p={done:!1,value:h},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,y=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let _=n*e;const x=h+_,T=o===void 0?x:o(x);T!==x&&(_=T-h);const w=C=>-_*Math.exp(-C/r),b=C=>T+w(C),R=C=>{const I=w(C),P=b(C);p.done=Math.abs(I)<=c,p.value=p.done?T:P};let k,O;const S=C=>{m(p.value)&&(k=C,O=o4({keyframes:[p.value,y(p.value)],velocity:i4(b,C,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let I=!1;return!O&&k===void 0&&(I=!0,R(C),S(C)),k!==void 0&&C>k?O.next(C-k):(!I&&R(C),p)}}}const Nie=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>Xs(e),now:()=>Mt.isProcessing?Mt.timestamp:performance.now()}},$A=2e4;function zA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$A;)e+=n,r=t.next(e);return e>=$A?1/0:e}const kie={decay:BA,inertia:BA,tween:Mm,keyframes:Mm,spring:o4};function Om({autoplay:t=!0,delay:e=0,driver:n=Nie,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:h,...p}){let m=1,y=!1,_,x;const T=()=>{x=new Promise(H=>{_=H})};T();let w;const b=kie[s]||Mm;let R;b!==Mm&&typeof r[0]!="number"&&(R=r4([0,100],r,{clamp:!1}),r=[0,100]);const k=b({...p,keyframes:r});let O;a==="mirror"&&(O=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let S="idle",C=null,I=null,P=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=zA(k));const{calculatedDuration:D}=k;let M=1/0,N=1/0;D!==null&&(M=D+o,N=M*(i+1)-o);let W=0;const ee=H=>{if(I===null)return;m>0&&(I=Math.min(I,H)),m<0&&(I=Math.min(H-N/m,I)),C!==null?W=C:W=Math.round(H-I)*m;const X=W-e*(m>=0?1:-1),se=m>=0?X<0:X>N;W=Math.max(X,0),S==="finished"&&C===null&&(W=N);let ke=W,Ge=k;if(i){const tt=W/M;let pt=Math.floor(tt),Ut=tt%1;!Ut&&tt>=1&&(Ut=1),Ut===1&&pt--,pt=Math.min(pt,i+1);const Fn=!!(pt%2);Fn&&(a==="reverse"?(Ut=1-Ut,o&&(Ut-=o/M)):a==="mirror"&&(Ge=O));let En=po(0,1,Ut);W>N&&(En=a==="reverse"&&Fn?1:0),ke=En*M}const ge=se?{done:!1,value:r[0]}:Ge.next(ke);R&&(ge.value=R(ge.value));let{done:ze}=ge;!se&&D!==null&&(ze=m>=0?W>=N:W<=0);const un=C===null&&(S==="finished"||S==="running"&&ze);return h&&h(ge.value),un&&j(),ge},J=()=>{w&&w.stop(),w=void 0},oe=()=>{S="idle",J(),_(),T(),I=P=null},j=()=>{S="finished",u&&u(),J(),_()},U=()=>{if(y)return;w||(w=n(ee));const H=w.now();l&&l(),C!==null?I=H-C:(!I||S==="finished")&&(I=H),S==="finished"&&T(),P=I,C=null,S="running",w.start()};t&&U();const Y={then(H,X){return x.then(H,X)},get time(){return Vs(W)},set time(H){H=ea(H),W=H,C!==null||!w||m===0?C=H:I=w.now()-H/m},get duration(){const H=k.calculatedDuration===null?zA(k):k.calculatedDuration;return Vs(H)},get speed(){return m},set speed(H){H===m||!w||(m=H,Y.time=Vs(W))},get state(){return S},play:U,pause:()=>{S="paused",C=W},stop:()=>{y=!0,S!=="idle"&&(S="idle",c&&c(),oe())},cancel:()=>{P!==null&&ee(P),oe()},complete:()=>{S="finished"},sample:H=>(I=0,ee(H))};return Y}function Die(t){let e;return()=>(e===void 0&&(e=t()),e)}const Mie=Die(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Oie=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Rf=10,Lie=2e4,jie=(t,e)=>e.type==="spring"||t==="backgroundColor"||!jF(e.ease);function Vie(t,e,{onUpdate:n,onComplete:r,...s}){if(!(Mie()&&Oie.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(w=>{a=w})};c();let{keyframes:u,duration:h=300,ease:p,times:m}=s;if(jie(e,s)){const w=Om({...s,repeat:0,delay:0});let b={done:!1,value:u[0]};const R=[];let k=0;for(;!b.done&&k<Lie;)b=w.sample(k),R.push(b.value),k+=Rf;m=void 0,u=R,h=k-Rf,p="linear"}const y=Kse(t.owner.current,e,u,{...s,duration:h,ease:p,times:m});s.syncStart&&(y.startTime=Mt.isProcessing?Mt.timestamp:document.timeline?document.timeline.currentTime:performance.now());const _=()=>y.cancel(),x=()=>{et.update(_),a(),c()};return y.onfinish=()=>{t.set(Qse(u,s)),r&&r(),x()},{then(w,b){return l.then(w,b)},attachTimeline(w){return y.timeline=w,y.onfinish=null,yt},get time(){return Vs(y.currentTime||0)},set time(w){y.currentTime=ea(w)},get speed(){return y.playbackRate},set speed(w){y.playbackRate=w},get duration(){return Vs(h)},play:()=>{o||(y.play(),Xs(_))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:w}=y;if(w){const b=Om({...s,autoplay:!1});t.setWithVelocity(b.sample(w-Rf).value,b.sample(w).value,Rf)}x()},complete:()=>y.finish(),cancel:x}}function Fie({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:yt,pause:yt,stop:yt,then:i=>(i(),Promise.resolve()),cancel:yt,complete:yt});return e?Om({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const Uie={type:"spring",stiffness:500,damping:25,restSpeed:10},Bie=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$ie={type:"keyframes",duration:.8},zie={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wie=(t,{keyframes:e})=>e.length>2?$ie:Ma.has(t)?t.startsWith("scale")?Bie(e[1]):Uie:zie,fw=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mo.test(e)||e==="0")&&!e.startsWith("url(")),Hie=new Set(["brightness","contrast","saturate","opacity"]);function qie(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cy)||[];if(!r)return t;const s=n.replace(r,"");let i=Hie.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Gie=/([a-z-]*)\(.*?\)/g,pw={...mo,getAnimatableNone:t=>{const e=t.match(Gie);return e?e.map(qie).join(" "):t}},Kie={...xF,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:pw,WebkitFilter:pw},tb=t=>Kie[t];function a4(t,e){let n=tb(t);return n!==pw&&(n=mo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const l4=t=>/^0[^.\s]+$/.test(t);function Qie(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||l4(t)}function Yie(t,e,n,r){const s=fw(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Qie(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=a4(e,a)}return i}function Xie({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function c4(t,e){return t[e]||t.default||t}const nb=(t,e,n,r={})=>s=>{const i=c4(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ea(o);const l=Yie(e,t,n,i),c=l[0],u=l[l.length-1],h=fw(t,c),p=fw(t,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:y=>{e.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(Xie(i)||(m={...m,...Wie(t,m)}),m.duration&&(m.duration=ea(m.duration)),m.repeatDelay&&(m.repeatDelay=ea(m.repeatDelay)),!h||!p||Gse.current||i.type===!1)return Fie(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=Vie(e,t,m);if(y)return y}return Om(m)};function Lm(t){return!!(Ln(t)&&t.add)}const u4=t=>/^\-?\d*\.?\d+$/.test(t);function rb(t,e){t.indexOf(e)===-1&&t.push(e)}function sb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ib{constructor(){this.subscriptions=[]}add(e){return rb(this.subscriptions,e),()=>sb(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jie=t=>!isNaN(parseFloat(t));class Zie{constructor(e,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Mt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,et.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>et.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Jie(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ib);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?s4(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ic(t,e){return new Zie(t,e)}const d4=t=>e=>e.test(t),eoe={test:t=>t==="auto",parse:t=>t},h4=[Oa,le,cs,pi,ose,ise,eoe],lu=t=>h4.find(d4(t)),toe=[...h4,fn,mo],noe=t=>toe.find(d4(t));function roe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ic(n))}function soe(t,e){const n=dy(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=xse(i[o]);roe(t,o,a)}}function ioe(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),u!=null&&(typeof u=="string"&&(u4(u)||l4(u))?u=parseFloat(u):!noe(u)&&mo.test(c)&&(u=a4(l,c)),t.addValue(l,ic(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function ooe(t,e){return e?(e[t]||e.default||e).from:void 0}function aoe(t,e,n){const r={};for(const s in t){const i=ooe(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function loe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function f4(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const p=t.getValue(h),m=a[h];if(!p||m===void 0||u&&loe(u,h))continue;const y={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=t.getProps()[qse];x&&(y.elapsed=window.HandoffAppearAnimations(x,h,p,et),y.syncStart=!0)}p.start(nb(h,p,m,t.shouldReduceMotion&&Ma.has(h)?{type:!1}:y));const _=p.animation;Lm(l)&&(l.add(h),_.then(()=>l.remove(h))),c.push(_)}return o&&Promise.all(c).then(()=>{o&&soe(t,o)}),c}function mw(t,e,n={}){const r=dy(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(f4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=s;return coe(t,e,c+l,u,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function coe(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(uoe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(mw(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function uoe(t,e){return t.sortNodePosition(e)}function doe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>mw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=mw(t,e,n);else{const s=typeof e=="function"?dy(t,e,n.custom):e;r=Promise.all(f4(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const hoe=[...$T].reverse(),foe=$T.length;function poe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>doe(t,n,r)))}function moe(t){let e=poe(t);const n=yoe();let r=!0;const s=(l,c)=>{const u=dy(t,c);if(u){const{transition:h,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function i(l){e=l(t)}function o(l,c){const u=t.getProps(),h=t.getVariantContext(!0)||{},p=[],m=new Set;let y={},_=1/0;for(let T=0;T<foe;T++){const w=hoe[T],b=n[w],R=u[w]!==void 0?u[w]:h[w],k=Ud(R),O=w===c?b.isActive:null;O===!1&&(_=T);let S=R===h[w]&&R!==u[w]&&k;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...y},!b.isActive&&O===null||!R&&!b.prevProp||ay(R)||typeof R=="boolean")continue;const C=goe(b.prevProp,R);let I=C||w===c&&b.isActive&&!S&&k||T>_&&k;const P=Array.isArray(R)?R:[R];let D=P.reduce(s,{});O===!1&&(D={});const{prevResolvedValues:M={}}=b,N={...M,...D},W=ee=>{I=!0,m.delete(ee),b.needsAnimating[ee]=!0};for(const ee in N){const J=D[ee],oe=M[ee];y.hasOwnProperty(ee)||(J!==oe?Nm(J)&&Nm(oe)?!OF(J,oe)||C?W(ee):b.protectedKeys[ee]=!0:J!==void 0?W(ee):m.add(ee):J!==void 0&&m.has(ee)?W(ee):b.protectedKeys[ee]=!0)}b.prevProp=R,b.prevResolvedValues=D,b.isActive&&(y={...y,...D}),r&&t.blockInitialAnimation&&(I=!1),I&&!S&&p.push(...P.map(ee=>({animation:ee,options:{type:w,...l}})))}if(m.size){const T={};m.forEach(w=>{const b=t.getBaseTarget(w);b!==void 0&&(T[w]=b)}),p.push({animation:T})}let x=!!p.length;return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,c,u){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const p=o(u,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function goe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OF(e,t):!1}function ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yoe(){return{animate:ko(!0),whileInView:ko(),whileHover:ko(),whileTap:ko(),whileDrag:ko(),whileFocus:ko(),exit:ko()}}class voe extends So{constructor(e){super(e),e.animationState||(e.animationState=moe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ay(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let _oe=0;class woe extends So{constructor(){super(...arguments),this.id=_oe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xoe={animation:{Feature:voe},exit:{Feature:woe}},WA=(t,e)=>Math.abs(t-e);function Eoe(t,e){const n=WA(t.x,e.x),r=WA(t.y,e.y);return Math.sqrt(n**2+r**2)}class p4{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=n_(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,h=Eoe(c.offset,{x:0,y:0})>=3;if(!u&&!h)return;const{point:p}=c,{timestamp:m}=Mt;this.history.push({...p,timestamp:m});const{onStart:y,onMove:_}=this.handlers;u||(y&&y(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=t_(u,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=n_(c.type==="pointercancel"?this.lastMoveEventInfo:t_(u,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,m),p&&p(c,m)},!PF(e))return;this.handlers=n,this.transformPagePoint=r;const s=uy(e),i=t_(s,this.transformPagePoint),{point:o}=i,{timestamp:a}=Mt;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,n_(i,this.history)),this.removeListeners=Qi(js(window,"pointermove",this.handlePointerMove),js(window,"pointerup",this.handlePointerUp),js(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xs(this.updatePoint)}}function t_(t,e){return e?{point:e(t.point)}:t}function HA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function n_({point:t},e){return{point:t,delta:HA(t,m4(e)),offset:HA(t,Toe(e)),velocity:boe(e,.1)}}function Toe(t){return t[0]}function m4(t){return t[t.length-1]}function boe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=m4(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ea(e)));)n--;if(!r)return{x:0,y:0};const i=Vs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zn(t){return t.max-t.min}function gw(t,e=0,n=.01){return Math.abs(t-e)<=n}function qA(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=Zn(n)/Zn(e),(gw(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(gw(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ku(t,e,n,r){qA(t.x,e.x,n.x,r?r.originX:void 0),qA(t.y,e.y,n.y,r?r.originY:void 0)}function GA(t,e,n){t.min=n.min+e.min,t.max=t.min+Zn(e)}function Coe(t,e,n){GA(t.x,e.x,n.x),GA(t.y,e.y,n.y)}function KA(t,e,n){t.min=e.min-n.min,t.max=t.min+Zn(e)}function Qu(t,e,n){KA(t.x,e.x,n.x),KA(t.y,e.y,n.y)}function Soe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function QA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ioe(t,{top:e,left:n,bottom:r,right:s}){return{x:QA(t.x,n,s),y:QA(t.y,e,r)}}function YA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Aoe(t,e){return{x:YA(t.x,e.x),y:YA(t.y,e.y)}}function Roe(t,e){let n=.5;const r=Zn(t),s=Zn(e);return s>r?n=$d(e.min,e.max-r,t.min):r>s&&(n=$d(t.min,t.max-s,e.min)),po(0,1,n)}function Poe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yw=.35;function Noe(t=yw){return t===!1?t=0:t===!0&&(t=yw),{x:XA(t,"left","right"),y:XA(t,"top","bottom")}}function XA(t,e,n){return{min:JA(t,e),max:JA(t,n)}}function JA(t,e){return typeof t=="number"?t:t[e]||0}const ZA=()=>({translate:0,scale:1,origin:0,originPoint:0}),hl=()=>({x:ZA(),y:ZA()}),eR=()=>({min:0,max:0}),Et=()=>({x:eR(),y:eR()});function Qr(t){return[t("x"),t("y")]}function g4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function koe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Doe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function r_(t){return t===void 0||t===1}function vw({scale:t,scaleX:e,scaleY:n}){return!r_(t)||!r_(e)||!r_(n)}function jo(t){return vw(t)||y4(t)||t.z||t.rotate||t.rotateX||t.rotateY}function y4(t){return tR(t.x)||tR(t.y)}function tR(t){return t&&t!=="0%"}function jm(t,e,n){const r=t-n,s=e*r;return n+s}function nR(t,e,n,r,s){return s!==void 0&&(t=jm(t,s,r)),jm(t,n,r)+e}function _w(t,e=0,n=1,r,s){t.min=nR(t.min,e,n,r,s),t.max=nR(t.max,e,n,r,s)}function v4(t,{x:e,y:n}){_w(t.x,e.translate,e.scale,e.originPoint),_w(t.y,n.translate,n.scale,n.originPoint)}function Moe(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,v4(t,o)),r&&jo(i.latestValues)&&fl(t,i.latestValues))}e.x=rR(e.x),e.y=rR(e.y)}function rR(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function yi(t,e){t.min=t.min+e,t.max=t.max+e}function sR(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=it(t.min,t.max,i);_w(t,e[n],e[r],o,e.scale)}const Ooe=["x","scaleX","originX"],Loe=["y","scaleY","originY"];function fl(t,e){sR(t.x,e,Ooe),sR(t.y,e,Loe)}function _4(t,e){return g4(Doe(t.getBoundingClientRect(),e))}function joe(t,e,n){const r=_4(t,n),{scroll:s}=e;return s&&(yi(r.x,s.offset.x),yi(r.y,s.offset.y)),r}const Voe=new WeakMap;class Foe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=l=>{this.stopAnimation(),n&&this.snapToCursor(uy(l,"page").point)},i=(l,c)=>{const{drag:u,dragPropagation:h,onDragStart:p}=this.getProps();if(u&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=kF(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qr(y=>{let _=this.getAxisMotionValue(y).get()||0;if(cs.test(_)){const{projection:x}=this.visualElement;if(x&&x.layout){const T=x.layout.layoutBox[y];T&&(_=Zn(T)*(parseFloat(_)/100))}}this.originPoint[y]=_}),p&&et.update(()=>p(l,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:y}=c;if(h&&this.currentDirection===null){this.currentDirection=Uoe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,y),this.updateAxis("y",c.point,y),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new p4(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&et.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Pf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Soe(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},s=this.constraints;e&&ul(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Ioe(r.layoutBox,e):this.constraints=!1,this.elastic=Noe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qr(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=Poe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ul(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=joe(r,s.root,this.visualElement.getTransformPagePoint());let o=Aoe(s.layout.layoutBox,i);if(n){const a=n(koe(o));this.hasMutatedConstraints=!!a,a&&(o=g4(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Qr(u=>{if(!Pf(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(nb(e,r,0,n))}stopAnimation(){Qr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qr(n=>{const{drag:r}=this.getProps();if(!Pf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-it(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ul(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=Roe({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qr(o=>{if(!Pf(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(it(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Voe.set(this.visualElement,this);const e=this.visualElement.current,n=js(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ul(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=ks(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Qr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=yw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Pf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Uoe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Boe extends So{constructor(e){super(e),this.removeGroupControls=yt,this.removeListeners=yt,this.controls=new Foe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const iR=t=>(e,n)=>{t&&et.update(()=>t(e,n))};class $oe extends So{constructor(){super(...arguments),this.removePointerDownListener=yt}onPointerDown(e){this.session=new p4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:iR(e),onStart:iR(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&et.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=js(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function zoe(){const t=v.useContext(BT);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=v.useId();return v.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const op={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=oR(t,e.target.x),r=oR(t,e.target.y);return`${n}% ${r}%`}},Woe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=mo.parse(t);if(s.length>5)return r;const i=mo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=it(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class Hoe extends K.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Jre(qoe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),op.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||et.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function w4(t){const[e,n]=zoe(),r=v.useContext(mF);return K.createElement(Hoe,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(gF),isPresent:e,safeToRemove:n})}const qoe={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:Woe},x4=["TopLeft","TopRight","BottomLeft","BottomRight"],Goe=x4.length,aR=t=>typeof t=="string"?parseFloat(t):t,lR=t=>typeof t=="number"||le.test(t);function Koe(t,e,n,r,s,i){s?(t.opacity=it(0,n.opacity!==void 0?n.opacity:1,Qoe(r)),t.opacityExit=it(e.opacity!==void 0?e.opacity:1,0,Yoe(r))):i&&(t.opacity=it(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Goe;o++){const a=`border${x4[o]}Radius`;let l=cR(e,a),c=cR(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||lR(l)===lR(c)?(t[a]=Math.max(it(aR(l),aR(c),r),0),(cs.test(c)||cs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function cR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Qoe=E4(0,.5,JT),Yoe=E4(.5,.95,yt);function E4(t,e,n){return r=>r<t?0:r>e?1:n($d(t,e,r))}function uR(t,e){t.min=e.min,t.max=e.max}function nr(t,e){uR(t.x,e.x),uR(t.y,e.y)}function dR(t,e,n,r,s){return t-=e,t=jm(t,1/n,r),s!==void 0&&(t=jm(t,1/s,r)),t}function Xoe(t,e=0,n=1,r=.5,s,i=t,o=t){if(cs.test(e)&&(e=parseFloat(e),e=it(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=it(i.min,i.max,r);t===i&&(a-=e),t.min=dR(t.min,e,n,a,s),t.max=dR(t.max,e,n,a,s)}function hR(t,e,[n,r,s],i,o){Xoe(t,e[n],e[r],e[s],e.scale,i,o)}const Joe=["x","scaleX","originX"],Zoe=["y","scaleY","originY"];function fR(t,e,n,r){hR(t.x,e,Joe,n?n.x:void 0,r?r.x:void 0),hR(t.y,e,Zoe,n?n.y:void 0,r?r.y:void 0)}function pR(t){return t.translate===0&&t.scale===1}function T4(t){return pR(t.x)&&pR(t.y)}function eae(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function b4(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function mR(t){return Zn(t.x)/Zn(t.y)}class tae{constructor(){this.members=[]}add(e){rb(this.members,e),e.scheduleRender()}remove(e){if(sb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gR(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const nae=(t,e)=>t.depth-e.depth;class rae{constructor(){this.children=[],this.isDirty=!1}add(e){rb(this.children,e),this.isDirty=!0}remove(e){sb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nae),this.isDirty=!1,this.children.forEach(e)}}function sae(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Xs(r),t(i-e))};return et.read(r,!0),()=>Xs(r)}function iae(t){window.MotionDebug&&window.MotionDebug.record(t)}function oae(t){return t instanceof SVGElement&&t.tagName!=="svg"}function aae(t,e,n){const r=Ln(t)?t:ic(t);return r.start(nb("",r,e,n)),r.animation}const yR=["","X","Y","Z"],vR=1e3;let lae=0;const Vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function C4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=lae++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Vo.totalNodes=Vo.resolvedTargetDeltas=Vo.recalculatedProjection=0,this.nodes.forEach(dae),this.nodes.forEach(gae),this.nodes.forEach(yae),this.nodes.forEach(hae),iae(Vo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new rae)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ib),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=sae(p,250),op.hasAnimatedSinceResize&&(op.hasAnimatedSinceResize=!1,this.nodes.forEach(wR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||u.getDefaultTransition()||Eae,{onLayoutAnimationStart:x,onLayoutAnimationComplete:T}=u.getProps(),w=!this.targetLayout||!b4(this.targetLayout,y)||m,b=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const R={...c4(_,"layout"),onPlay:x,onComplete:T};(u.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||wR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vae),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_R);return}this.isUpdating||this.nodes.forEach(pae),this.isUpdating=!1,this.nodes.forEach(mae),this.nodes.forEach(cae),this.nodes.forEach(uae),this.clearAllSnapshots();const a=performance.now();Mt.delta=po(0,1e3/60,a-Mt.timestamp),Mt.timestamp=a,Mt.isProcessing=!0,Gv.update.process(Mt),Gv.preRender.process(Mt),Gv.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(fae),this.sharedNodes.forEach(_ae)}scheduleUpdateProjection(){et.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!T4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||jo(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Tae(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Et();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(yi(a.x,l.offset.x),yi(a.y,l.offset.y)),a}removeElementScroll(o){const a=Et();nr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){nr(a,o);const{scroll:p}=this.root;p&&(yi(a.x,-p.offset.x),yi(a.y,-p.offset.y))}yi(a.x,u.offset.x),yi(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Et();nr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&fl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),jo(u.latestValues)&&fl(l,u.latestValues)}return jo(this.latestValues)&&fl(l,this.latestValues),l}removeTransform(o){const a=Et();nr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!jo(c.latestValues))continue;vw(c.latestValues)&&c.updateSnapshot();const u=Et(),h=c.measurePageBox();nr(u,h),fR(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return jo(this.latestValues)&&fR(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Qu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Coe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),v4(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Qu(this.relativeTargetOrigin,this.target,m.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vw(this.parent.latestValues)||y4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;nr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Moe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=hl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=hl(),this.projectionDeltaWithTransform=hl());const _=this.projectionTransform;Ku(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=gR(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Et(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,_=m!==y,x=this.getStack(),T=!x||x.members.length<=1,w=!!(_&&!T&&this.options.crossfade===!0&&!this.path.some(xae));this.animationProgress=0;let b;this.mixTargetDelta=R=>{const k=R/1e3;xR(h.x,o.x,k),xR(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wae(this.relativeTarget,this.relativeTargetOrigin,p,k),b&&eae(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Et()),nr(b,this.relativeTarget)),_&&(this.animationValues=u,Koe(u,c,this.latestValues,k,w,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{op.hasAnimatedSinceResize=!0,this.currentAnimation=aae(0,vR,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&S4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Et();const h=Zn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Zn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}nr(a,l),fl(a,u),Ku(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tae),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<yR.length;u++){const h="rotate"+yR[u];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ip(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=ip(o.pointerEvents)||""),this.hasProjected&&!jo(this.latestValues)&&(_.transform=u?u({},""):"none",this.hasProjected=!1),_}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=gR(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in Rm){if(p[_]===void 0)continue;const{correct:x,applyTo:T}=Rm[_],w=c.transform==="none"?p[_]:x(p[_],h);if(T){const b=T.length;for(let R=0;R<b;R++)c[T[R]]=w}else c[_]=w}return this.options.layoutId&&(c.pointerEvents=h===this?ip(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(_R),this.root.sharedNodes.clear()}}}function cae(t){t.updateLayout()}function uae(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Qr(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=Zn(p);p.min=r[h].min,p.max=p.min+m}):S4(i,n.layoutBox,r)&&Qr(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=Zn(r[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=hl();Ku(a,r,n.layoutBox);const l=hl();o?Ku(l,t.applyTransform(s,!0),n.measuredBox):Ku(l,r,n.layoutBox);const c=!T4(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=Et();Qu(y,n.layoutBox,p.layoutBox);const _=Et();Qu(_,r,m.layoutBox),b4(y,_)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dae(t){Vo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hae(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fae(t){t.clearSnapshot()}function _R(t){t.clearMeasurements()}function pae(t){t.isLayoutDirty=!1}function mae(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gae(t){t.resolveTargetDelta()}function yae(t){t.calcProjection()}function vae(t){t.resetRotation()}function _ae(t){t.removeLeadSnapshot()}function xR(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ER(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function wae(t,e,n,r){ER(t.x,e.x,n.x,r),ER(t.y,e.y,n.y,r)}function xae(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Eae={duration:.45,ease:[.4,0,.1,1]},TR=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),bR=TR("applewebkit/")&&!TR("chrome/")?Math.round:yt;function CR(t){t.min=bR(t.min),t.max=bR(t.max)}function Tae(t){CR(t.x),CR(t.y)}function S4(t,e,n){return t==="position"||t==="preserve-aspect"&&!gw(mR(e),mR(n),.2)}const bae=C4({attachResizeListener:(t,e)=>ks(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),s_={current:void 0},I4=C4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!s_.current){const t=new bae({});t.mount(window),t.setOptions({layoutScroll:!0}),s_.current=t}return s_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Cae={pan:{Feature:$oe},drag:{Feature:Boe,ProjectionNode:I4,MeasureLayout:w4}},Sae=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Iae(t){const e=Sae.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function ww(t,e,n=1){const[r,s]=Iae(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return u4(o)?parseFloat(o):o}else return cw(s)?ww(s,e,n+1):s}function Aae(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!cw(i))return;const o=ww(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!cw(i))continue;const o=ww(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const Rae=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),A4=t=>Rae.has(t),Pae=t=>Object.keys(t).some(A4),SR=t=>t===Oa||t===le,IR=(t,e)=>parseFloat(t.split(", ")[e]),AR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return IR(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?IR(i[1],t):0}},Nae=new Set(["x","y","z"]),kae=Eh.filter(t=>!Nae.has(t));function Dae(t){const e=[];return kae.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const oc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:AR(4,13),y:AR(5,14)};oc.translateX=oc.x;oc.translateY=oc.y;const Mae=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=oc[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=oc[c](l,i)}),t},Oae=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(A4);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],h=lu(u);const p=e[l];let m;if(Nm(p)){const y=p.length,_=p[0]===null?1:0;u=p[_],h=lu(u);for(let x=_;x<y&&p[x]!==null;x++)m?km(lu(p[x])===m):m=lu(p[x])}else m=lu(p);if(h!==m)if(SR(h)&&SR(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===le&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(u===0||p===0)?u===0?c.set(m.transform(u)):e[l]=h.transform(p):(o||(i=Dae(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Mae(e,t,a);return i.length&&i.forEach(([u,h])=>{t.getValue(u).set(h)}),t.render(),oy&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Lae(t,e,n,r){return Pae(e)?Oae(t,e,n,r):{target:e,transitionEnd:r}}const jae=(t,e,n,r)=>{const s=Aae(t,e,r);return e=s.target,r=s.transitionEnd,Lae(t,e,n,r)},xw={current:null},R4={current:!1};function Vae(){if(R4.current=!0,!!oy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xw.current=t.matches;t.addListener(e),e()}else xw.current=!1}function Fae(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Ln(i))t.addValue(s,i),Lm(r)&&r.add(s);else if(Ln(o))t.addValue(s,ic(i,{owner:t})),Lm(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,ic(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const RR=new WeakMap,P4=Object.keys(Bd),Uae=P4.length,PR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Bae=zT.length;class $ae{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>et.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=ly(n),this.isVariantNode=pF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const p=u[h];a[h]!==void 0&&Ln(p)&&(p.set(a[h],!1),Lm(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,RR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),R4.current||Vae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){RR.delete(this.current),this.projection&&this.projection.unmount(),Xs(this.notifyUpdate),Xs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ma.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&et.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<Uae;l++){const c=P4[l],{isEnabled:u,Feature:h,ProjectionNode:p,MeasureLayout:m}=Bd[c];p&&(o=p),u(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:h,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||h&&ul(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PR.length;r++){const s=PR[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Fae(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Bae;r++){const s=zT[r],i=this.props[s];(Ud(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ic(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=XT(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ln(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ib),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class N4 extends $ae{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=aoe(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){ioe(this,r,o);const a=jae(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function zae(t){return window.getComputedStyle(t)}class Wae extends N4{readValueFromInstance(e,n){if(Ma.has(n)){const r=tb(n);return r&&r.default||0}else{const r=zae(e),s=(_F(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _4(e,n)}build(e,n,r,s){HT(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return YT(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){CF(e,n,r,s)}}class Hae extends N4{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ma.has(n)){const r=tb(n);return r&&r.default||0}return n=SF.has(n)?n:QT(n),e.getAttribute(n)}measureInstanceViewportBox(){return Et()}scrapeMotionValuesFromProps(e,n){return AF(e,n)}build(e,n,r,s){GT(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){IF(e,n,r,s)}mount(e){this.isSVGTag=KT(e.tagName),super.mount(e)}}const qae=(t,e)=>WT(t)?new Hae(e,{enableHardwareAcceleration:!1}):new Wae(e,{enableHardwareAcceleration:!0}),Gae={layout:{ProjectionNode:I4,MeasureLayout:w4}},Kae={...xoe,...$se,...Cae,...Gae},ce=Yre((t,e)=>Rse(t,e,Kae,qae));function Qae(){const t=pr(),e={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},r={y:[0,-10,0],transition:{duration:3,repeat:1/0,ease:"easeInOut"}},s={backgroundPosition:["0% 50%","100% 50%","0% 50%"],transition:{duration:5,repeat:1/0,ease:"easeInOut"}};return f.jsxs("section",{className:"relative overflow-hidden pt-16 pb-4 md:pt-40 md:pb-12 lg:pt-48 lg:pb-16 bg-[#0F1026]",children:[f.jsx("div",{className:"absolute inset-0 hero-pattern opacity-50"}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full max-w-6xl"}),f.jsx("div",{className:"container relative mx-auto px-4 md:px-6 z-10",children:f.jsxs(ce.div,{className:"max-w-4xl mx-auto text-center",variants:n,initial:"hidden",animate:"visible",children:[f.jsx(ce.div,{variants:e,children:f.jsxs(ce.div,{className:"inline-flex items-center px-3 py-1 mb-6 text-sm font-medium rounded-full bg-primary/10 text-primary",animate:r,children:[f.jsx(ce.span,{className:"mr-2 h-2 w-2 rounded-full bg-primary",animate:{scale:[1,1.5,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0}}),"Transforming Career Paths With AI"]})}),f.jsx(ce.h1,{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold leading-tight mb-6 text-balance",variants:e,style:{backgroundImage:"linear-gradient(45deg, #036D9B, #036D9B, #036D9B)",backgroundSize:"200% auto",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},animate:s,children:"Empowering Sustainable Career Growth  with AI"}),f.jsx(ce.p,{className:"text-lg md:text-xl text-foreground/70 mb-8 md:mb-10 max-w-2xl mx-auto text-balance",variants:e,children:"Gurukul Code combines ancient teaching methods with cutting-edge AI to create personalized learning experiences that adapt to your needs and career goals."}),f.jsxs(ce.div,{className:"flex flex-col sm:flex-row items-center justify-center gap-4",variants:e,children:[f.jsx(ce.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsx(Ce,{size:"lg",className:"w-full sm:w-auto px-8 py-6 text-base bg-[#F57E20] hover:bg-[#e76c0f] text-white shadow-lg",onClick:()=>t("/get-started"),children:"Get Started for Free"})}),f.jsx(ce.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsxs(Ce,{variant:"outline",size:"lg",className:"w-full sm:w-auto px-8 py-6 text-base group",onClick:()=>t("/explore-courses"),children:["Explore Courses",f.jsx(ce.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:f.jsx(Wk,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})})]})})]})]})}),f.jsx(ce.div,{className:"container mx-auto px-4 md:px-6 mt-16 md:mt-24",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.8}})]})}function Yae(){const t=[{number:"01",title:"Sign Up & Self-Assess",description:"Quick AI-driven quiz → Career Fit Score",details:"Get personalized insights into your strengths, interests, and career alignment through our comprehensive assessment."},{number:"02",title:"Explore & Experiment",description:"Role simulations, live briefs, peer pods",details:"Dive into real-world scenarios and collaborate with peers to understand different career paths and opportunities."},{number:"03",title:"Build & Validate",description:"Projects, resumes, and interview prep",details:"Create tangible outcomes through hands-on projects while preparing for your career transition with expert guidance."},{number:"04",title:"Launch & Grow",description:"Referrals, momentum tracking, lifelong learning",details:"Transition into your new career with placement support and continue growing through our lifelong learning ecosystem."}];return f.jsx("section",{className:"py-8 md:py-16 bg-[#0F1026]",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16 md:mb-20",children:[f.jsx(ce.h2,{className:"text-3xl md:text-4xl font-display font-bold mb-4 text-[#036D9B]",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:"How It Works"}),f.jsx(ce.p,{className:"text-lg text-foreground/70 text-balance",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},children:"Your journey from career discovery to professional success in four strategic stages."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,n)=>f.jsxs(ce.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:n*.1},children:[f.jsx("div",{className:"relative mb-6",children:f.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-primary text-primary-foreground text-xl font-bold flex items-center justify-center mb-4",children:e.number})}),f.jsx("h3",{className:"text-xl font-display font-bold mb-2",children:e.title}),f.jsx("p",{className:"text-primary font-medium mb-3",children:e.description}),f.jsx("p",{className:"text-foreground/70 text-sm",children:e.details})]},e.number))})]})})}const Xae=[{title:"Colleges",description:"Top educational institutions trust our platform"},{title:"Enterprises",description:"Fortune 500 companies use our solutions"},{title:"Professionals",description:"Thousands of career changers and learners"}],i_={content:"Gurukul Code's predictive insights and mentor network cut our placement cycle in half.",author:"Campus Director",role:"Top Engineering College"};function Jae(){return f.jsx("section",{className:"py-20 md:py-16 bg-[#0F1026]",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsx("div",{className:"max-w-4xl mx-auto text-center mb-16 md:mb-20",children:f.jsx(ce.h2,{className:"text-3xl md:text-4xl font-display font-bold mb-8 text-[#036D9B]",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:"Trusted By"})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:Xae.map((t,e)=>f.jsxs(ce.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},children:[f.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:t.title}),f.jsx("p",{className:"text-foreground/70",children:t.description})]},t.title))}),f.jsx(ce.div,{className:"max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},children:f.jsxs("div",{className:"rounded-2xl p-8 md:p-12 backdrop-blur-md border border-white/10 shadow-xl text-center bg-[#0F1026]",children:[f.jsx("svg",{className:"h-8 w-8 text-primary mb-6 mx-auto",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"})}),f.jsxs("blockquote",{className:"text-xl md:text-2xl font-medium text-white mb-6",children:['"',i_.content,'"']}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold text-lg text-white",children:i_.author}),f.jsx("div",{className:"text-foreground/60",children:i_.role})]})]})})]})})}function Zae(){const t=pr();return f.jsx("section",{className:"py-20 md:py-32 relative overflow-hidden bg-[#0F1026]",children:f.jsx("div",{className:"container relative mx-auto px-4 md:px-6",children:f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsx("div",{className:"glass-card rounded-2xl p-8 md:p-12 backdrop-blur-md border border-white/10 shadow-xl",children:f.jsxs(ce.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold mb-4 text-balance text-[#036D9B]",children:"Begin Your Learning Journey Today"}),f.jsx("p",{className:"text-lg text-foreground/70 mb-8 md:mb-10 text-balance max-w-2xl mx-auto",children:"Join thousands of students who are transforming their careers through our AI-powered platform and mentorship program."}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[f.jsx(Ce,{size:"lg",className:"w-full sm:w-auto bg-[#F57E20] hover:bg-[#e76c0f] text-white shadow-lg",onClick:()=>t("/get-started"),children:"Get Started for Free"}),f.jsxs(Ce,{variant:"outline",size:"lg",className:"w-full sm:w-auto bg-[#F57E20] hover:bg-[#e76c0f] text-white shadow-lg",onClick:()=>t("/contact"),children:["Schedule a Demo ",f.jsx(Wk,{className:"ml-2 h-4 w-4"})]})]}),f.jsx("p",{className:"mt-6 text-sm text-foreground/60",children:"No credit card required. Start with our free plan and upgrade anytime."})]})})})})})}const ele=[{icon:Ax,title:"AI Assessment",description:"Comprehensive evaluation of personal interests, skills, personality traits, values, and career goals.",details:["Personal Interests and Passions","Skills and Aptitudes","Personality Traits","Values and Work Preferences","Career Motivation and Goals"],colorClass:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"},{icon:QB,title:"Career Awareness",description:"Educational programs to broaden understanding of career opportunities and professional development.",details:["Education on Diverse Opportunities","Career Research Methodology","Soft/Professional Skill Development","Conferences and Networking Events","Personalized Mentorship"],colorClass:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400"},{icon:YB,title:"Career Path Exploration",description:"Guided exploration of potential career paths with AI assistance and expert mentorship.",details:["AI Assistant and Career Counseling","Curriculum Planning and Assignments","Industry Research and Career Clubs","Extracurricular Activities","Training Workshops and Talks"],colorClass:"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400"},{icon:Rx,title:"Career Preparation",description:"Practical skill development and hands-on experience to prepare for successful career entry and growth.",details:["AI-assisted Training and Support","Entry-level and Advanced Training Modules","Practical Experience through Projects","Internship Opportunities","Job Placement Assistance"],colorClass:"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"}];function tle(){return f.jsx("section",{className:"py-20 md:py-32 bg-[#0F1026]",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsxs("div",{className:"text-center mb-16 md:mb-20",children:[f.jsxs(ce.h2,{className:"text-3xl md:text-4xl font-display font-bold mb-4 text-[#036D9B]",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:["Empowering Sustainable Career Growth",f.jsx("br",{}),"Using AI Insights"]}),f.jsx(ce.p,{className:"text-lg text-foreground/70 max-w-2xl mx-auto text-balance",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:"Our comprehensive career journey framework guides you through each stage of professional development, combining AI technology with personalized mentorship."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:ele.map((t,e)=>f.jsxs(ce.div,{className:"bg-card rounded-xl p-8 shadow-md hover-scale",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},children:[f.jsx("div",{className:ae("w-12 h-12 rounded-lg flex items-center justify-center mb-6",t.colorClass),children:f.jsx(t.icon,{className:"h-6 w-6"})}),f.jsx("h3",{className:"text-2xl font-display font-semibold mb-4",children:t.title}),f.jsx("p",{className:"text-foreground/70 mb-6",children:t.description}),f.jsx("ul",{className:"space-y-2",children:t.details.map(n=>f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-2 text-primary",children:"•"}),f.jsx("span",{children:n})]},n))})]},t.title))})]})})}const nle=()=>f.jsxs(f.Fragment,{children:[f.jsx(Qae,{}),f.jsx(Yae,{}),f.jsx(tle,{}),f.jsx(Zae,{}),f.jsx(Jae,{})]}),jn=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));jn.displayName="Card";const fr=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",t),...e}));fr.displayName="CardHeader";const Ur=v.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ur.displayName="CardTitle";const hs=v.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));hs.displayName="CardDescription";const Vn=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("p-6 pt-0",t),...e}));Vn.displayName="CardContent";const Ac=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",t),...e}));Ac.displayName="CardFooter";const rle=()=>f.jsxs("div",{className:"py-20 bg-[#0F1026] text-white",children:[f.jsx("section",{className:"container mx-auto px-4 md:px-6 pt-16 pb-16",children:f.jsxs(ce.div,{className:"max-w-4xl mx-auto text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[f.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold mb-4 text-[#036D9B]",children:"About Gurukul Code"}),f.jsx("p",{className:"text-lg md:text-xl text-white/70 mb-8",children:"Reimagining career development through the timeless Gurukulam tradition"})]})}),f.jsx("section",{className:"py-16 bg-[ #0F1026] relative",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsx(ce.h2,{className:"text-3xl md:text-4xl font-display font-bold text-center mb-12 text-[#036D9B]",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},children:"Sustainable Career Development-Aware-Explore-Prep"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[{icon:f.jsx(a0,{className:"h-6 w-6 text-orange-400"}),title:"Learn",color:"text-orange-400",description:"Acquire knowledge through structured guidance, expert mentorship, and personalized learning paths"},{icon:f.jsx(l0,{className:"h-6 w-6 text-blue-400"}),title:"Grow",color:"text-blue-400",description:"Develop your skills through community engagement, practical application, and continuous feedback"},{icon:f.jsx(ES,{className:"h-6 w-6 text-green-400"}),title:"Succeed",color:"text-green-400",description:"Achieve your career goals through strategic guidance, industry connections, and purpose-driven development"}].map((t,e)=>f.jsx(ce.div,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:e*.1},whileHover:{y:-5},className:"transition-all duration-300",children:f.jsx(jn,{className:"h-full bg-[#1f203a] text-white border border-white/10 backdrop-blur-sm shadow-md hover:shadow-lg transition-shadow duration-300",children:f.jsx(Vn,{className:"p-6",children:f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center mb-4",children:t.icon}),f.jsx("h3",{className:`text-2xl font-bold mb-3 ${t.color}`,children:t.title}),f.jsx("p",{className:"text-white/70",children:t.description})]})})})},t.title))})]})}),f.jsx("section",{className:"bg-[ #0F1026 ] py-20",children:f.jsx("div",{className:"container mx-auto px-4 md:px-6",children:f.jsx("div",{className:"max-w-4xl mx-auto text-white",children:f.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"rounded-xl p-8 md:p-12 bg-[#15162d]",children:[f.jsx("h2",{className:"text-3xl font-display font-bold mb-6 text-[#036D9B]",children:"Our Vision"}),f.jsx(ce.p,{className:"text-lg text-white/80 mb-6",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.7,delay:.2},children:"To redefine the journey toward sustainable career mastery by seamlessly integrating practical knowledge, mentorship, and AI-driven insights..."}),f.jsx("h2",{className:"text-3xl font-display font-bold mt-12 mb-6 text-[#036D9B]",children:"Our Mission"}),f.jsx(ce.p,{className:"text-lg text-white/80",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.7,delay:.4},children:"Gurukul Code is a pioneering platform reimagining the journey of career development through a modern revival of the timeless Gurukulam tradition..."})]})})})}),f.jsx("section",{className:"py-20 bg-[#0F1026]",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsx(ce.h2,{className:"text-3xl md:text-4xl font-display font-bold text-center mb-16 text-[#036D9B]",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:"Our Core Values"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:a0,title:"Personalized Mentorship",description:"We believe in the power of one-on-one guidance..."},{icon:ZB,title:"AI-Powered Growth",description:"Leveraging artificial intelligence to deliver insights..."},{icon:l0,title:"Community Learning",description:"Building a supportive network where knowledge sharing..."},{icon:Nx,title:"Practical Application",description:"Emphasizing hands-on experience..."},{icon:ES,title:"Continuous Development",description:"Fostering a mindset of lifelong learning..."},{icon:BB,title:"Purpose-Driven Careers",description:"Guiding individuals towards meaningful growth..."}].map((t,e)=>f.jsxs(ce.div,{className:"bg-[#1f203a] rounded-xl p-6 text-white shadow-md hover:shadow-xl",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},children:[f.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/10 flex items-center justify-center mb-4",children:f.jsx(t.icon,{className:"h-6 w-6 text-[#F57E20]"})}),f.jsx("h3",{className:"text-xl font-semibold mb-3",children:t.title}),f.jsx("p",{className:"text-white/70",children:t.description})]},t.title))})]})}),f.jsx("section",{className:"py-20 bg-[ #0F1026 ]",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[f.jsx(ce.h2,{className:"text-3xl md:text-4xl font-display font-bold mb-6 text-[#036D9B]",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},children:"Join Our Learning Community"}),f.jsx(ce.p,{className:"text-lg text-white/80 mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:"Become part of a growing community dedicated to redefining career development through the perfect blend of traditional wisdom and modern technology."}),f.jsx(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsx(Ce,{className:"bg-[#036D9B] text-white text-lg px-6 py-3 rounded-xl border-2 border-transparent hover:border-[#F57E20] transition-all duration-300 shadow-md hover:shadow-lg",children:"Start Your Journey Today"})})]})})]}),sle=aF,ile=lF,k4=v.forwardRef(({className:t,...e},n)=>f.jsx(ey,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));k4.displayName=ey.displayName;const D4=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(ile,{children:[f.jsx(k4,{}),f.jsxs(ty,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(Rre,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(ug,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));D4.displayName=ty.displayName;const M4=({className:t,...e})=>f.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});M4.displayName="DialogHeader";const O4=v.forwardRef(({className:t,...e},n)=>f.jsx(ny,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",t),...e}));O4.displayName=ny.displayName;const ole=v.forwardRef(({className:t,...e},n)=>f.jsx(ry,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));ole.displayName=ry.displayName;function ale({isOpen:t,onClose:e}){return f.jsx(sle,{open:t,onOpenChange:e,children:f.jsxs(D4,{className:"sm:max-w-[700px] max-h-[90vh] flex flex-col text-white",style:{backgroundColor:"#0F1026"},children:[f.jsx(M4,{children:f.jsx(O4,{children:"AI Career Assessment"})}),f.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center space-y-6",children:[f.jsxs("div",{className:"bg-primary/10 p-4 rounded-full",children:[f.jsx(Ax,{className:"h-12 w-12 text-primary"})," "]}),f.jsx("h2",{className:"text-2xl font-bold",children:"Coming Soon!"}),f.jsx("p",{className:"text-white/70 max-w-md",children:"Stay Tuned! We will update you."}),f.jsx(Ce,{onClick:e,className:"mt-4 bg-[#F57E20] hover:bg-[#e76c0f] text-white",children:"Close"})]})]})})}const lle=()=>{const[t,e]=v.useState(!1);return f.jsxs("div",{className:"container mx-auto py-32  px-4 md:px-6 space-y-16 bg-[#0F1026]",children:[" ",f.jsxs("section",{className:"text-center space-y-6",children:[f.jsx("div",{className:"inline-block p-2 bg-primary/10 rounded-full mb-4",children:f.jsx(Ax,{className:"w-8 h-8 text-primary"})}),f.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight text-[#036D9B]",children:"AI-Powered Career Assessment"}),f.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Discover your ideal career path through our interactive AI assessment"}),f.jsxs(Ce,{size:"lg",onClick:()=>e(!0),className:"mt-6 text-white bg-[#F57E20] hover:bg-[#e86e10] transition-colors",children:["Start Your Assessment ",f.jsx(_r,{className:"ml-2"})]})]}),f.jsxs("section",{className:"grid gap-12 md:grid-cols-2 lg:grid-cols-3",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-xl font-semibold",children:"Five Key Pillars"}),f.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(_r,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),f.jsx("span",{children:"Personal Interests and Passions"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(_r,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),f.jsx("span",{children:"Skills and Aptitudes"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(_r,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),f.jsx("span",{children:"Personality Traits"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(_r,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),f.jsx("span",{children:"Values and Work Preferences"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(_r,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),f.jsx("span",{children:"Career Motivation and Goals"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-xl font-semibold",children:"How It Works"}),f.jsx("p",{className:"text-muted-foreground",children:"Our AI assessment uses advanced algorithms to analyze your responses to a series of interactive questions. The assessment adapts based on your answers, creating a personalized experience."}),f.jsx("p",{className:"text-muted-foreground",children:"Upon completion, you'll receive tailored career recommendations that align with your unique profile."})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-xl font-semibold",children:"Benefits"}),f.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(_r,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),f.jsx("span",{children:"Gain deeper insights into your strengths and preferences"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(_r,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),f.jsx("span",{children:"Discover career paths you may not have considered"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(_r,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),f.jsx("span",{children:"Make more informed decisions about your professional future"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(_r,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),f.jsx("span",{children:"Receive personalized guidance for your career journey"})]})]})]})]}),f.jsxs("section",{className:"bg-primary/5 p-8 rounded-lg text-center space-y-6",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Ready to discover your ideal career path?"}),f.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Our AI-powered assessment will guide you through an interactive experience to help you find the career that best matches your interests, skills, and goals."}),f.jsx(Ce,{size:"lg",onClick:()=>e(!0),className:"text-white bg-[#F57E20] hover:bg-[#e86e10] transition-colors",children:"Let's Start"})]}),f.jsx(ale,{isOpen:t,onClose:()=>e(!1)})]})},kr=v.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));kr.displayName="Input";const ob=v.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:ae("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ob.displayName="Textarea";function L4(t,e){return function(){return t.apply(e,arguments)}}const{toString:cle}=Object.prototype,{getPrototypeOf:ab}=Object,hy=(t=>e=>{const n=cle.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zr=t=>(t=t.toLowerCase(),e=>hy(e)===t),fy=t=>e=>typeof e===t,{isArray:Rc}=Array,zd=fy("undefined");function ule(t){return t!==null&&!zd(t)&&t.constructor!==null&&!zd(t.constructor)&&Xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const j4=zr("ArrayBuffer");function dle(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&j4(t.buffer),e}const hle=fy("string"),Xn=fy("function"),V4=fy("number"),py=t=>t!==null&&typeof t=="object",fle=t=>t===!0||t===!1,ap=t=>{if(hy(t)!=="object")return!1;const e=ab(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ple=zr("Date"),mle=zr("File"),gle=zr("Blob"),yle=zr("FileList"),vle=t=>py(t)&&Xn(t.pipe),_le=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xn(t.append)&&((e=hy(t))==="formdata"||e==="object"&&Xn(t.toString)&&t.toString()==="[object FormData]"))},wle=zr("URLSearchParams"),[xle,Ele,Tle,ble]=["ReadableStream","Request","Response","Headers"].map(zr),Cle=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Rc(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function F4(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const qo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U4=t=>!zd(t)&&t!==qo;function Ew(){const{caseless:t}=U4(this)&&this||{},e={},n=(r,s)=>{const i=t&&F4(e,s)||s;ap(e[i])&&ap(r)?e[i]=Ew(e[i],r):ap(r)?e[i]=Ew({},r):Rc(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Sh(arguments[r],n);return e}const Sle=(t,e,n,{allOwnKeys:r}={})=>(Sh(e,(s,i)=>{n&&Xn(s)?t[i]=L4(s,n):t[i]=s},{allOwnKeys:r}),t),Ile=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ale=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Rle=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&ab(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Ple=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Nle=t=>{if(!t)return null;if(Rc(t))return t;let e=t.length;if(!V4(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},kle=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ab(Uint8Array)),Dle=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Mle=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Ole=zr("HTMLFormElement"),Lle=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),NR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),jle=zr("RegExp"),B4=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Sh(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},Vle=t=>{B4(t,(e,n)=>{if(Xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Xn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Fle=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Rc(t)?r(t):r(String(t).split(e)),n},Ule=()=>{},Ble=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function $le(t){return!!(t&&Xn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const zle=t=>{const e=new Array(10),n=(r,s)=>{if(py(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Rc(r)?[]:{};return Sh(r,(o,a)=>{const l=n(o,s+1);!zd(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},Wle=zr("AsyncFunction"),Hle=t=>t&&(py(t)||Xn(t))&&Xn(t.then)&&Xn(t.catch),$4=((t,e)=>t?setImmediate:e?((n,r)=>(qo.addEventListener("message",({source:s,data:i})=>{s===qo&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),qo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xn(qo.postMessage)),qle=typeof queueMicrotask<"u"?queueMicrotask.bind(qo):typeof process<"u"&&process.nextTick||$4,F={isArray:Rc,isArrayBuffer:j4,isBuffer:ule,isFormData:_le,isArrayBufferView:dle,isString:hle,isNumber:V4,isBoolean:fle,isObject:py,isPlainObject:ap,isReadableStream:xle,isRequest:Ele,isResponse:Tle,isHeaders:ble,isUndefined:zd,isDate:ple,isFile:mle,isBlob:gle,isRegExp:jle,isFunction:Xn,isStream:vle,isURLSearchParams:wle,isTypedArray:kle,isFileList:yle,forEach:Sh,merge:Ew,extend:Sle,trim:Cle,stripBOM:Ile,inherits:Ale,toFlatObject:Rle,kindOf:hy,kindOfTest:zr,endsWith:Ple,toArray:Nle,forEachEntry:Dle,matchAll:Mle,isHTMLForm:Ole,hasOwnProperty:NR,hasOwnProp:NR,reduceDescriptors:B4,freezeMethods:Vle,toObjectSet:Fle,toCamelCase:Lle,noop:Ule,toFiniteNumber:Ble,findKey:F4,global:qo,isContextDefined:U4,isSpecCompliantForm:$le,toJSONObject:zle,isAsyncFn:Wle,isThenable:Hle,setImmediate:$4,asap:qle};function ye(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}F.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const z4=ye.prototype,W4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{W4[t]={value:t}});Object.defineProperties(ye,W4);Object.defineProperty(z4,"isAxiosError",{value:!0});ye.from=(t,e,n,r,s,i)=>{const o=Object.create(z4);return F.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ye.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Gle=null;function Tw(t){return F.isPlainObject(t)||F.isArray(t)}function H4(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function kR(t,e,n){return t?t.concat(e).map(function(s,i){return s=H4(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Kle(t){return F.isArray(t)&&!t.some(Tw)}const Qle=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function my(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,x){return!F.isUndefined(x[_])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(F.isDate(y))return y.toISOString();if(!l&&F.isBlob(y))throw new ye("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(y)||F.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,_,x){let T=y;if(y&&!x&&typeof y=="object"){if(F.endsWith(_,"{}"))_=r?_:_.slice(0,-2),y=JSON.stringify(y);else if(F.isArray(y)&&Kle(y)||(F.isFileList(y)||F.endsWith(_,"[]"))&&(T=F.toArray(y)))return _=H4(_),T.forEach(function(b,R){!(F.isUndefined(b)||b===null)&&e.append(o===!0?kR([_],R,i):o===null?_:_+"[]",c(b))}),!1}return Tw(y)?!0:(e.append(kR(x,_,i),c(y)),!1)}const h=[],p=Object.assign(Qle,{defaultVisitor:u,convertValue:c,isVisitable:Tw});function m(y,_){if(!F.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(y),F.forEach(y,function(T,w){(!(F.isUndefined(T)||T===null)&&s.call(e,T,F.isString(w)?w.trim():w,_,p))===!0&&m(T,_?_.concat(w):[w])}),h.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return m(t),e}function DR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function lb(t,e){this._pairs=[],t&&my(t,this,e)}const q4=lb.prototype;q4.append=function(e,n){this._pairs.push([e,n])};q4.toString=function(e){const n=e?function(r){return e.call(this,r,DR)}:DR;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Yle(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function G4(t,e,n){if(!e)return t;const r=n&&n.encode||Yle;F.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=F.isURLSearchParams(e)?e.toString():new lb(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class MR{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const K4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xle=typeof URLSearchParams<"u"?URLSearchParams:lb,Jle=typeof FormData<"u"?FormData:null,Zle=typeof Blob<"u"?Blob:null,ece={isBrowser:!0,classes:{URLSearchParams:Xle,FormData:Jle,Blob:Zle},protocols:["http","https","file","blob","url","data"]},cb=typeof window<"u"&&typeof document<"u",bw=typeof navigator=="object"&&navigator||void 0,tce=cb&&(!bw||["ReactNative","NativeScript","NS"].indexOf(bw.product)<0),nce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rce=cb&&window.location.href||"http://localhost",sce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cb,hasStandardBrowserEnv:tce,hasStandardBrowserWebWorkerEnv:nce,navigator:bw,origin:rce},Symbol.toStringTag,{value:"Module"})),an={...sce,...ece};function ice(t,e){return my(t,new an.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return an.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function oce(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ace(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function Q4(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&F.isArray(s)?s.length:o,l?(F.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!F.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&F.isArray(s[o])&&(s[o]=ace(s[o])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,s)=>{e(oce(r),s,n,0)}),n}return null}function lce(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Ih={transitional:K4,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=F.isObject(e);if(i&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return s?JSON.stringify(Q4(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ice(e,this.formSerializer).toString();if((a=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return my(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),lce(e)):e}],transformResponse:[function(e){const n=this.transitional||Ih.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ye.from(a,ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:an.classes.FormData,Blob:an.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{Ih.headers[t]={}});const cce=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uce=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&cce[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},OR=Symbol("internals");function uu(t){return t&&String(t).trim().toLowerCase()}function lp(t){return t===!1||t==null?t:F.isArray(t)?t.map(lp):String(t)}function dce(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const hce=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function o_(t,e,n,r,s){if(F.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function fce(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function pce(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Mn{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=uu(l);if(!u)throw new Error("header name must be a non-empty string");const h=F.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=lp(a))}const o=(a,l)=>F.forEach(a,(c,u)=>i(c,u,l));if(F.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(F.isString(e)&&(e=e.trim())&&!hce(e))o(uce(e),n);else if(F.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=uu(e),e){const r=F.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return dce(s);if(F.isFunction(n))return n.call(this,s,r);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=uu(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||o_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=uu(o),o){const a=F.findKey(r,o);a&&(!n||o_(r,r[a],a,n))&&(delete r[a],s=!0)}}return F.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||o_(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return F.forEach(this,(s,i)=>{const o=F.findKey(r,i);if(o){n[o]=lp(s),delete n[i];return}const a=e?fce(i):String(i).trim();a!==i&&delete n[i],n[a]=lp(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[OR]=this[OR]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=uu(o);r[a]||(pce(s,o),r[a]=!0)}return F.isArray(e)?e.forEach(i):i(e),this}}Mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(Mn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});F.freezeMethods(Mn);function a_(t,e){const n=this||Ih,r=e||n,s=Mn.from(r.headers);let i=r.data;return F.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Y4(t){return!!(t&&t.__CANCEL__)}function Pc(t,e,n){ye.call(this,t??"canceled",ye.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(Pc,ye,{__CANCEL__:!0});function X4(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ye("Request failed with status code "+n.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mce(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gce(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,p=0;for(;h!==s;)p+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(p*1e3/m):void 0}}function yce(t,e){let n=0,r=1e3/e,s,i;const o=(c,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-h)))},()=>s&&o(s)]}const Vm=(t,e,n=3)=>{let r=0;const s=gce(50,250);return yce(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),u=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},LR=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},jR=t=>(...e)=>F.asap(()=>t(...e)),vce=an.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,an.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(an.origin),an.navigator&&/(msie|trident)/i.test(an.navigator.userAgent)):()=>!0,_ce=an.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];F.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),F.isString(r)&&o.push("path="+r),F.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wce(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function xce(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function J4(t,e,n){let r=!wce(e);return t&&(r||n==!1)?xce(t,e):e}const VR=t=>t instanceof Mn?{...t}:t;function _a(t,e){e=e||{};const n={};function r(c,u,h,p){return F.isPlainObject(c)&&F.isPlainObject(u)?F.merge.call({caseless:p},c,u):F.isPlainObject(u)?F.merge({},u):F.isArray(u)?u.slice():u}function s(c,u,h,p){if(F.isUndefined(u)){if(!F.isUndefined(c))return r(void 0,c,h,p)}else return r(c,u,h,p)}function i(c,u){if(!F.isUndefined(u))return r(void 0,u)}function o(c,u){if(F.isUndefined(u)){if(!F.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>s(VR(c),VR(u),h,!0)};return F.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,p=h(t[u],e[u],u);F.isUndefined(p)&&h!==a||(n[u]=p)}),n}const Z4=t=>{const e=_a({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Mn.from(o),e.url=G4(J4(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(F.isFormData(n)){if(an.hasStandardBrowserEnv||an.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(an.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(e)),r||r!==!1&&vce(e.url))){const c=s&&i&&_ce.read(i);c&&o.set(s,c)}return e},Ece=typeof XMLHttpRequest<"u",Tce=Ece&&function(t){return new Promise(function(n,r){const s=Z4(t);let i=s.data;const o=Mn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,h,p,m,y;function _(){m&&m(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function T(){if(!x)return;const b=Mn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:t,request:x};X4(function(S){n(S),_()},function(S){r(S),_()},k),x=null}"onloadend"in x?x.onloadend=T:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(T)},x.onabort=function(){x&&(r(new ye("Request aborted",ye.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new ye("Network Error",ye.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let R=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||K4;s.timeoutErrorMessage&&(R=s.timeoutErrorMessage),r(new ye(R,k.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,t,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&F.forEach(o.toJSON(),function(R,k){x.setRequestHeader(k,R)}),F.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),a&&a!=="json"&&(x.responseType=s.responseType),c&&([p,y]=Vm(c,!0),x.addEventListener("progress",p)),l&&x.upload&&([h,m]=Vm(l),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=b=>{x&&(r(!b||b.type?new Pc(null,t,x):b),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const w=mce(s.url);if(w&&an.protocols.indexOf(w)===-1){r(new ye("Unsupported protocol "+w+":",ye.ERR_BAD_REQUEST,t));return}x.send(i||null)})},bce=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof ye?u:new Pc(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new ye(`timeout ${e} of ms exceeded`,ye.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},Cce=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},Sce=async function*(t,e){for await(const n of Ice(t))yield*Cce(n,e)},Ice=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},FR=(t,e,n,r)=>{const s=Sce(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let h=u.byteLength;if(n){let p=i+=h;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},gy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eU=gy&&typeof ReadableStream=="function",Ace=gy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),tU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Rce=eU&&tU(()=>{let t=!1;const e=new Request(an.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),UR=64*1024,Cw=eU&&tU(()=>F.isReadableStream(new Response("").body)),Fm={stream:Cw&&(t=>t.body)};gy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fm[e]&&(Fm[e]=F.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ye(`Response type '${e}' is not supported`,ye.ERR_NOT_SUPPORT,r)})})})(new Response);const Pce=async t=>{if(t==null)return 0;if(F.isBlob(t))return t.size;if(F.isSpecCompliantForm(t))return(await new Request(an.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(F.isArrayBufferView(t)||F.isArrayBuffer(t))return t.byteLength;if(F.isURLSearchParams(t)&&(t=t+""),F.isString(t))return(await Ace(t)).byteLength},Nce=async(t,e)=>{const n=F.toFiniteNumber(t.getContentLength());return n??Pce(e)},kce=gy&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:p}=Z4(t);c=c?(c+"").toLowerCase():"text";let m=bce([s,i&&i.toAbortSignal()],o),y;const _=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let x;try{if(l&&Rce&&n!=="get"&&n!=="head"&&(x=await Nce(u,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),O;if(F.isFormData(r)&&(O=k.headers.get("content-type"))&&u.setContentType(O),k.body){const[S,C]=LR(x,Vm(jR(l)));r=FR(k.body,UR,S,C)}}F.isString(h)||(h=h?"include":"omit");const T="credentials"in Request.prototype;y=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:T?h:void 0});let w=await fetch(y);const b=Cw&&(c==="stream"||c==="response");if(Cw&&(a||b&&_)){const k={};["status","statusText","headers"].forEach(I=>{k[I]=w[I]});const O=F.toFiniteNumber(w.headers.get("content-length")),[S,C]=a&&LR(O,Vm(jR(a),!0))||[];w=new Response(FR(w.body,UR,S,()=>{C&&C(),_&&_()}),k)}c=c||"text";let R=await Fm[F.findKey(Fm,c)||"text"](w,t);return!b&&_&&_(),await new Promise((k,O)=>{X4(k,O,{data:R,headers:Mn.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:y})})}catch(T){throw _&&_(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,t,y),{cause:T.cause||T}):ye.from(T,T&&T.code,t,y)}}),Sw={http:Gle,xhr:Tce,fetch:kce};F.forEach(Sw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const BR=t=>`- ${t}`,Dce=t=>F.isFunction(t)||t===null||t===!1,nU={getAdapter:t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!Dce(n)&&(r=Sw[(o=String(n)).toLowerCase()],r===void 0))throw new ye(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(BR).join(`
`):" "+BR(i[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Sw};function l_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pc(null,t)}function $R(t){return l_(t),t.headers=Mn.from(t.headers),t.data=a_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nU.getAdapter(t.adapter||Ih.adapter)(t).then(function(r){return l_(t),r.data=a_.call(t,t.transformResponse,r),r.headers=Mn.from(r.headers),r},function(r){return Y4(r)||(l_(t),r&&r.response&&(r.response.data=a_.call(t,t.transformResponse,r.response),r.response.headers=Mn.from(r.response.headers))),Promise.reject(r)})}const rU="1.8.4",yy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{yy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const zR={};yy.transitional=function(e,n,r){function s(i,o){return"[Axios v"+rU+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new ye(s(o," has been removed"+(n?" in "+n:"")),ye.ERR_DEPRECATED);return n&&!zR[o]&&(zR[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};yy.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Mce(t,e,n){if(typeof t!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new ye("option "+i+" must be "+l,ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ye("Unknown option "+i,ye.ERR_BAD_OPTION)}}const cp={assertOptions:Mce,validators:yy},Gr=cp.validators;class ta{constructor(e){this.defaults=e,this.interceptors={request:new MR,response:new MR}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_a(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&cp.assertOptions(r,{silentJSONParsing:Gr.transitional(Gr.boolean),forcedJSONParsing:Gr.transitional(Gr.boolean),clarifyTimeoutError:Gr.transitional(Gr.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:cp.assertOptions(s,{encode:Gr.function,serialize:Gr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),cp.assertOptions(n,{baseUrl:Gr.spelling("baseURL"),withXsrfToken:Gr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&F.merge(i.common,i[n.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=Mn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});let u,h=0,p;if(!l){const y=[$R.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),p=y.length,u=Promise.resolve(n);h<p;)u=u.then(y[h++],y[h++]);return u}p=a.length;let m=n;for(h=0;h<p;){const y=a[h++],_=a[h++];try{m=y(m)}catch(x){_.call(this,x);break}}try{u=$R.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,p=c.length;h<p;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=_a(this.defaults,e);const n=J4(e.baseURL,e.url,e.allowAbsoluteUrls);return G4(n,e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(e){ta.prototype[e]=function(n,r){return this.request(_a(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(_a(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ta.prototype[e]=n(),ta.prototype[e+"Form"]=n(!0)});class ub{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Pc(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ub(function(s){e=s}),cancel:e}}}function Oce(t){return function(n){return t.apply(null,n)}}function Lce(t){return F.isObject(t)&&t.isAxiosError===!0}const Iw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Iw).forEach(([t,e])=>{Iw[e]=t});function sU(t){const e=new ta(t),n=L4(ta.prototype.request,e);return F.extend(n,ta.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return sU(_a(t,s))},n}const It=sU(Ih);It.Axios=ta;It.CanceledError=Pc;It.CancelToken=ub;It.isCancel=Y4;It.VERSION=rU;It.toFormData=my;It.AxiosError=ye;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=Oce;It.isAxiosError=Lce;It.mergeConfig=_a;It.AxiosHeaders=Mn;It.formToJSON=t=>Q4(F.isHTMLForm(t)?new FormData(t):t);It.getAdapter=nU.getAdapter;It.HttpStatusCode=Iw;It.default=It;const jce="http://localhost:5000/api",up=It.create({baseURL:jce,headers:{"Content-Type":"application/json"}});up.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const Vce={submitContactForm:async t=>(await up.post("/contact",t)).data,getAllContactMessages:async()=>(await up.get("/contact")).data,updateContactStatus:async(t,e)=>(await up.put(`/contact/${t}`,{status:e})).data},Fce=()=>{const{toast:t}=fs(),[e,n]=v.useState({name:"",email:"",subject:"",message:""}),[r,s]=v.useState(!1),i=h=>{const{name:p,value:m}=h.target;n(y=>({...y,[p]:m}))},o=async h=>{h.preventDefault(),s(!0);try{await Vce.submitContactForm(e),t({title:"Message Sent",description:"We'll get back to you as soon as possible!"}),n({name:"",email:"",subject:"",message:""})}catch(p){console.error("Error submitting contact form:",p),t({title:"Error",description:"Failed to send your message. Please try again later.",variant:"destructive"})}finally{s(!1)}},a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},l={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},c={hidden:{y:40,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}},u={scale:[1,1.05,1],transition:{duration:2,repeat:1/0}};return f.jsx("div",{className:"py-20 bg-[#0F1026]",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsxs(ce.div,{className:"max-w-4xl mx-auto text-center mb-16",initial:"hidden",animate:"visible",variants:a,children:[f.jsx(ce.h1,{className:"text-4xl md:text-5xl font-display font-bold mt-8 mb-6 text-gradient",variants:l,children:"Contact Us"}),f.jsx(ce.p,{className:"text-lg md:text-xl text-foreground/80",variants:l,children:"We'd love to hear from you. Get in touch with our team."})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[f.jsx(ce.div,{initial:"hidden",animate:"visible",variants:c,children:f.jsxs(ce.div,{className:"glass-card rounded-xl p-8 h-full",whileHover:{scale:1.02},transition:{duration:.3},children:[f.jsx("h2",{className:"text-2xl font-display font-bold mb-8",children:"Get In Touch"}),f.jsxs(ce.div,{className:"space-y-6",children:[f.jsxs(ce.div,{className:"flex items-start gap-4",whileHover:{x:5},transition:{duration:.2},children:[f.jsx(ce.div,{className:"bg-primary/10 p-3 rounded-full",animate:u,children:f.jsx(WB,{className:"h-6 w-6 text-primary"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Our Location"}),f.jsx("p",{className:"text-foreground/70",children:"Hadapsar, Pune"})]})]}),f.jsxs(ce.div,{className:"flex items-start gap-4",whileHover:{x:5},transition:{duration:.2},children:[f.jsx(ce.div,{className:"bg-primary/10 p-3 rounded-full",animate:u,children:f.jsx(zB,{className:"h-6 w-6 text-primary"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Email Us"}),f.jsx("p",{className:"text-foreground/70",children:"info@gurukulcode.com"})]})]}),f.jsxs(ce.div,{className:"flex items-start gap-4",whileHover:{x:5},transition:{duration:.2},children:[f.jsx(ce.div,{className:"bg-primary/10 p-3 rounded-full",animate:u,children:f.jsx(GB,{className:"h-6 w-6 text-primary"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Call Us"}),f.jsx("p",{className:"text-foreground/70",children:"+91 9922089089"})]})]})]}),f.jsxs(ce.div,{className:"mt-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.5},children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Office Hours"}),f.jsx("p",{className:"text-foreground/70 mb-2",children:"Monday - Friday: 9:00 AM - 6:00 PM"}),f.jsx("p",{className:"text-foreground/70",children:"Saturday - Sunday: Closed"})]})]})}),f.jsx(ce.div,{initial:"hidden",animate:"visible",variants:c,transition:{delay:.3},children:f.jsxs(ce.div,{className:"glass-card rounded-xl p-8",whileHover:{scale:1.02},transition:{duration:.3},children:[f.jsx("h2",{className:"text-2xl font-display font-bold mb-8",children:"Send a Message"}),f.jsxs("form",{onSubmit:o,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:"Your Name"}),f.jsx(kr,{id:"name",name:"name",value:e.name,onChange:i,placeholder:"John Doe",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email Address"}),f.jsx(kr,{id:"email",name:"email",type:"email",value:e.email,onChange:i,placeholder:"john@example.com",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium mb-2",children:"Subject"}),f.jsx(kr,{id:"subject",name:"subject",value:e.subject,onChange:i,placeholder:"How can we help you?",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-2",children:"Your Message"}),f.jsx(ob,{id:"message",name:"message",value:e.message,onChange:i,placeholder:"Tell us what you need...",rows:5,required:!0})]}),f.jsx(ce.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},whileTap:{scale:.95},children:f.jsx(Ce,{type:"submit",className:"w-full bg-[#F57E20] hover:bg-[#e76c0f] text-white",disabled:r,children:r?"Sending...":"Send Message"})})]})]})})]})]})})};var Uce="Label",iU=v.forwardRef((t,e)=>f.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iU.displayName=Uce;var oU=iU;const Bce=dc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yi=v.forwardRef(({className:t,...e},n)=>f.jsx(oU,{ref:n,className:ae(Bce(),t),...e}));Yi.displayName=oU.displayName;function $ce(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!1),{toast:o}=fs(),a=pr(),l=async c=>{c.preventDefault(),i(!0);try{await G7(Ic,t,n),o({title:"Login successful",description:"Welcome back!"}),e(""),r(""),i(!1),window.location.href="/"}catch(u){i(!1);let h="An unexpected error occurred.";u instanceof Error&&(h=u.message),o({title:"Login failed",description:h,variant:"destructive"})}};return f.jsx("div",{className:"flex min-h-[calc(100vh-12rem)] items-center justify-center px-4 pt-32 py-12",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs(Ce,{variant:"ghost",className:"mb-6 items-center justify-center",onClick:()=>a("/"),children:[f.jsx(cg,{className:"mr-2 h-4 w-4"})," Back to home"]}),f.jsxs(jn,{className:"border-border/40 shadow-lg",children:[f.jsxs(fr,{className:"space-y-1",children:[f.jsx(Ur,{className:"text-2xl font-bold",children:"Welcome back"}),f.jsx(hs,{children:"Enter your credentials to access your account"})]}),f.jsxs("form",{onSubmit:l,children:[f.jsxs(Vn,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Yi,{htmlFor:"email",children:"Email"}),f.jsx(kr,{id:"email",type:"email",placeholder:"your.email@example.com",value:t,onChange:c=>e(c.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Yi,{htmlFor:"password",children:"Password"}),f.jsx("a",{href:"#",className:"text-sm font-medium text-primary underline-offset-4 hover:underline",children:"Forgot password?"})]}),f.jsx(kr,{id:"password",type:"password",value:n,onChange:c=>r(c.target.value),required:!0})]})]}),f.jsxs(Ac,{className:"flex flex-col space-y-4",children:[f.jsx(Ce,{type:"submit",className:"w-full",disabled:s,children:s?"Signing in...":"Sign in"}),f.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",f.jsx("a",{onClick:()=>a("/signup"),className:"font-medium text-primary underline-offset-4 hover:underline cursor-pointer",children:"Sign up"})]})]})]})]})]})})}function zce(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(!1),[l,c]=v.useState(!navigator.onLine),{toast:u}=fs(),h=pr();v.useEffect(()=>{const m=()=>{c(!navigator.onLine)};return window.addEventListener("online",m),window.addEventListener("offline",m),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",m)}},[]);const p=async m=>{if(m.preventDefault(),l){u({title:"No internet connection",description:"Please check your internet connection and try again.",variant:"destructive"});return}a(!0);try{if((await jO(Fu(Al,"users",`email_${n.toLowerCase()}`))).exists()){u({title:"Email already in use",description:"Please use a different email address.",variant:"destructive"}),a(!1);return}const x=(await q7(Ic,n,s)).user;await SI(Fu(Al,"users",x.uid),{name:t,email:n,uid:x.uid,createdAt:new Date().toISOString()}),await SI(Fu(Al,"users",`email_${n.toLowerCase()}`),{uid:x.uid,email:n.toLowerCase()}),u({title:"Account created",description:"Welcome to Gurukul Code!"}),e(""),r(""),i(""),a(!1),window.location.href="/"}catch(y){console.error("Signup Error:",y);let _=y.message;y.code==="auth/email-already-in-use"&&(_="This email is already in use. Please try another one."),u({title:"Signup failed",description:_,variant:"destructive"}),a(!1)}};return f.jsx("div",{className:"flex min-h-[calc(100vh-12rem)] items-center justify-center px-4 py-12",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs(Ce,{variant:"ghost",className:"mb-6",onClick:()=>h("/"),children:[f.jsx(cg,{className:"mr-2 h-4 w-4"})," Back to home"]}),f.jsxs(jn,{className:"border-border/40 shadow-lg",children:[f.jsxs(fr,{className:"space-y-1",children:[f.jsx(Ur,{className:"text-2xl font-bold",children:"Create an account"}),f.jsx(hs,{children:"Enter your information to create your Gurukul Code account"})]}),f.jsxs("form",{onSubmit:p,children:[f.jsxs(Vn,{className:"space-y-4",children:[l&&f.jsx("div",{className:"bg-destructive/15 text-destructive p-3 rounded-md text-sm mb-4",children:"You appear to be offline. Please check your internet connection to create an account."}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Yi,{htmlFor:"name",children:"Full Name"}),f.jsx(kr,{id:"name",placeholder:"Your Name",value:t,onChange:m=>e(m.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Yi,{htmlFor:"email",children:"Email"}),f.jsx(kr,{id:"email",type:"email",placeholder:"your.email@example.com",value:n,onChange:m=>r(m.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Yi,{htmlFor:"password",children:"Password"}),f.jsx(kr,{id:"password",type:"password",value:s,onChange:m=>i(m.target.value),required:!0,minLength:6})]})]}),f.jsxs(Ac,{className:"flex flex-col space-y-4",children:[f.jsx(Ce,{type:"submit",className:"w-full",disabled:o||l,children:o?"Creating account...":"Create account"}),f.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",f.jsx("a",{onClick:()=>h("/login"),className:"font-medium text-primary underline-offset-4 hover:underline cursor-pointer",children:"Sign in"})]})]})]})]})]})})}function Wce(){var l,c;const[t,e]=v.useState(null),[n,r]=v.useState(!0),{user:s}=sy(),i=pr(),{toast:o}=fs();v.useEffect(()=>{if(!s&&!n){i("/login");return}(async()=>{if(s)try{const h=await jO(Fu(Al,"users",s.uid));h.exists()&&e(h.data())}catch(h){console.error("Error fetching user data:",h)}finally{r(!1)}})()},[s,i,n]);const a=async()=>{try{await sE(Ic),o({title:"Logged out",description:"You have been successfully logged out."}),i("/")}catch(u){console.error("Logout error:",u),o({title:"Error",description:"Could not log out. Please try again.",variant:"destructive"})}};return s?f.jsx("div",{className:"flex min-h-[calc(100vh-12rem)] items-center justify-center px-4 py-12",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs(Ce,{variant:"ghost",className:"mb-6",onClick:()=>i("/"),children:[f.jsx(cg,{className:"mr-2 h-4 w-4"})," Back to home"]}),f.jsxs(jn,{className:"border-border/40 shadow-lg",children:[f.jsxs(fr,{className:"text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx(OT,{className:"h-20 w-20",children:f.jsx(LT,{className:"text-2xl bg-primary text-primary-foreground",children:((l=t==null?void 0:t.name)==null?void 0:l.charAt(0))||((c=s.email)==null?void 0:c.charAt(0))||"U"})})}),f.jsx(Ur,{className:"text-2xl font-bold",children:"My Profile"}),f.jsx(hs,{children:"Manage your account information"})]}),f.jsx(Vn,{className:"space-y-4",children:n?f.jsx("p",{className:"text-center",children:"Loading profile information..."}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),f.jsx("p",{className:"font-medium",children:(t==null?void 0:t.name)||"Not set"})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),f.jsx("p",{className:"font-medium",children:s.email})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Account Created"}),f.jsx("p",{className:"font-medium",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():new Date().toLocaleDateString()})]})]})}),f.jsx(Ac,{className:"flex flex-col space-y-4",children:f.jsx(Ce,{variant:"outline",className:"w-full",onClick:a,children:"Sign Out"})})]})]})}):null}var db="Tabs",[Hce,lde]=_o(db,[Yg]),aU=Yg(),[qce,hb]=Hce(db),lU=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Kg(a),[h,p]=Zd({prop:r,onChange:s,defaultProp:i});return f.jsx(qce,{scope:n,baseId:Zo(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:l,children:f.jsx(ve.div,{dir:u,"data-orientation":o,...c,ref:e})})});lU.displayName=db;var cU="TabsList",uU=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=hb(cU,n),o=aU(n);return f.jsx(Nj,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});uU.displayName=cU;var dU="TabsTrigger",hU=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=hb(dU,n),a=aU(n),l=mU(o.baseId,r),c=gU(o.baseId,r),u=r===o.value;return f.jsx(kj,{asChild:!0,...a,focusable:!s,active:u,children:f.jsx(ve.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:re(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:re(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:re(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(r)})})})});hU.displayName=dU;var fU="TabsContent",pU=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=hb(fU,n),l=mU(a.baseId,r),c=gU(a.baseId,r),u=r===a.value,h=v.useRef(u);return v.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(wn,{present:s||u,children:({present:p})=>f.jsx(ve.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});pU.displayName=fU;function mU(t,e){return`${t}-trigger-${e}`}function gU(t,e){return`${t}-content-${e}`}var Gce=lU,yU=uU,vU=hU,_U=pU;const Kce=Gce,wU=v.forwardRef(({className:t,...e},n)=>f.jsx(yU,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));wU.displayName=yU.displayName;const dp=v.forwardRef(({className:t,...e},n)=>f.jsx(vU,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));dp.displayName=vU.displayName;const hp=v.forwardRef(({className:t,...e},n)=>f.jsx(_U,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));hp.displayName=_U.displayName;function Qce({post:t}){return f.jsxs(jn,{children:[f.jsxs(fr,{children:[f.jsx(Ur,{children:t.title}),f.jsxs(hs,{children:["Posted by ",t.authorName]})]}),f.jsx(Vn,{children:f.jsx("p",{children:t.content})}),f.jsxs(Ac,{className:"flex justify-between",children:[f.jsxs(Ce,{variant:"outline",size:"sm",children:["Like (",t.likes,")"]}),f.jsxs(Ce,{variant:"outline",size:"sm",children:["Comment (",t.comments,")"]})]})]},t.id)}function Yce({posts:t,type:e,emptyMessage:n}){const r=t.filter(s=>s.type===e);return r.length===0?f.jsx(jn,{children:f.jsx(Vn,{className:"pt-6",children:f.jsx("p",{className:"text-center text-muted-foreground",children:n})})}):f.jsx("div",{className:"space-y-4",children:r.map(s=>f.jsx(Qce,{post:s},s.id))})}function c_({title:t,description:e,posts:n,type:r,emptyMessage:s}){return f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:t}),f.jsx("p",{className:"text-muted-foreground mb-6",children:e}),f.jsx(Yce,{posts:n,type:r,emptyMessage:s})]})}function Xce({user:t,activeTab:e,onPostCreated:n}){const[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(!1),{toast:c}=fs(),u=async h=>{if(h.preventDefault(),!t){c({title:"Authentication required",description:"Please log in to post in the community",variant:"destructive"});return}if(!r||!i){c({title:"Missing information",description:"Please provide both title and content for your post",variant:"destructive"});return}l(!0);try{await _Y(bO(Al,"posts"),{title:r,content:i,authorName:t.displayName||"Anonymous",authorId:t.uid,createdAt:Ct.now(),likes:0,comments:0,type:e}),s(""),o(""),c({title:"Success",description:"Your post has been published!"}),n()}catch(p){console.error("Error creating post:",p),c({title:"Error",description:"Failed to create your post",variant:"destructive"})}finally{l(!1)}};return f.jsxs("form",{onSubmit:u,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Yi,{htmlFor:"title",children:"Title"}),f.jsx(kr,{id:"title",value:r,onChange:h=>s(h.target.value),placeholder:"Enter a descriptive title",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Yi,{htmlFor:"content",children:"Content"}),f.jsx(ob,{id:"content",value:i,onChange:h=>o(h.target.value),placeholder:"Share your thoughts, questions, or resources...",className:"min-h-[150px]",required:!0})]}),f.jsx(Ce,{type:"submit",className:"w-full",disabled:a||!t,children:a?"Posting...":"Post to Community"}),!t&&f.jsx("p",{className:"text-sm text-muted-foreground text-center mt-2",children:"Please log in to post in the community"})]})}function Jce(){const[t,e]=v.useState("questions"),[n,r]=v.useState([]),{toast:s}=fs(),{user:i}=sy();v.useEffect(()=>{o()},[]);const o=async()=>{try{const a=fY(bO(Al,"posts"),pY("createdAt","desc")),l=await vY(a),c=[];l.forEach(u=>{c.push({id:u.id,...u.data()})}),r(c)}catch(a){console.error("Error fetching posts:",a),s({title:"Error",description:"Failed to load community posts",variant:"destructive"})}};return f.jsxs("div",{className:"container py-10 max-w-7xl mx-auto",children:[f.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Community"}),f.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Connect with fellow learners, ask questions, and share resources."}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsxs(Kce,{defaultValue:"questions",onValueChange:e,className:"mb-8",children:[f.jsxs(wU,{className:"w-full grid grid-cols-3",children:[f.jsxs(dp,{value:"questions",children:[f.jsx(qB,{className:"mr-2 h-4 w-4"}),"Q&A"]}),f.jsxs(dp,{value:"discussions",children:[f.jsx(l0,{className:"mr-2 h-4 w-4"}),"Discussions"]}),f.jsxs(dp,{value:"resources",children:[f.jsx(a0,{className:"mr-2 h-4 w-4"}),"Resources"]})]}),f.jsx(hp,{value:"questions",className:"mt-6",children:f.jsx(c_,{title:"Questions & Answers",description:"Ask coding questions and get answers from the community.",posts:n,type:"questions",emptyMessage:"No questions yet. Be the first to ask!"})}),f.jsx(hp,{value:"discussions",className:"mt-6",children:f.jsx(c_,{title:"Discussion Forum",description:"Engage in discussions about programming, career paths, and more.",posts:n,type:"discussions",emptyMessage:"No discussions yet. Start the conversation!"})}),f.jsx(hp,{value:"resources",className:"mt-6",children:f.jsx(c_,{title:"Shared Resources",description:"Share helpful resources, tutorials, and learning materials.",posts:n,type:"resources",emptyMessage:"No resources shared yet. Share something useful!"})})]})}),f.jsx("div",{children:f.jsxs(jn,{children:[f.jsxs(fr,{children:[f.jsx(Ur,{children:"Create a Post"}),f.jsx(hs,{children:"Share your thoughts, questions, or resources with the community"})]}),f.jsx(Vn,{children:f.jsx(Xce,{user:i,activeTab:t,onPostCreated:o})})]})})]})]})}const Zce=()=>{const t=Ea();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-md w-full text-center",children:[f.jsx("h1",{className:"text-6xl font-display font-bold text-primary mb-6",children:"404"}),f.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page Not Found"}),f.jsx("p",{className:"text-foreground/70 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),f.jsx(Ce,{asChild:!0,size:"lg",children:f.jsx(We,{to:"/",children:"Return to Home"})})]})})},xU=v.createContext({isOpen:!1,openChat:()=>{},closeChat:()=>{},toggleChat:()=>{}});function eue({children:t}){const[e,n]=v.useState(!1),r=()=>n(!0),s=()=>n(!1),i=()=>n(o=>!o);return f.jsx(xU.Provider,{value:{isOpen:e,openChat:r,closeChat:s,toggleChat:i},children:t})}const EU=()=>v.useContext(xU);function tue(){const{openChat:t}=EU();return f.jsxs(Ce,{onClick:t,className:"fixed bottom-6 right-6 rounded-full w-14 h-14 p-0 shadow-lg",size:"icon",children:[f.jsx(Ix,{className:"h-6 w-6"}),f.jsx("span",{className:"sr-only",children:"Open chat"})]})}function nue(t,[e,n]){return Math.min(n,Math.max(e,t))}function rue(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var fb="ScrollArea",[TU,cde]=_o(fb),[sue,mr]=TU(fb),bU=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=v.useState(null),[c,u]=v.useState(null),[h,p]=v.useState(null),[m,y]=v.useState(null),[_,x]=v.useState(null),[T,w]=v.useState(0),[b,R]=v.useState(0),[k,O]=v.useState(!1),[S,C]=v.useState(!1),I=Be(e,D=>l(D)),P=Kg(s);return f.jsx(sue,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:k,onScrollbarXEnabledChange:O,scrollbarY:_,onScrollbarYChange:x,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:w,onCornerHeightChange:R,children:f.jsx(ve.div,{dir:P,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});bU.displayName=fb;var CU="ScrollAreaViewport",SU=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...o}=t,a=mr(CU,n),l=v.useRef(null),c=Be(e,l,a.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),f.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:pue({asChild:s,children:r},u=>f.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});SU.displayName=CU;var ms="ScrollAreaScrollbar",pb=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=mr(ms,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?f.jsx(iue,{...r,ref:e,forceMount:n}):s.type==="scroll"?f.jsx(oue,{...r,ref:e,forceMount:n}):s.type==="auto"?f.jsx(IU,{...r,ref:e,forceMount:n}):s.type==="always"?f.jsx(mb,{...r,ref:e}):null});pb.displayName=ms;var iue=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=mr(ms,t.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),f.jsx(wn,{present:n||i,children:f.jsx(IU,{"data-state":i?"visible":"hidden",...r,ref:e})})}),oue=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=mr(ms,t.__scopeScrollArea),i=t.orientation==="horizontal",o=_y(()=>l("SCROLL_END"),100),[a,l]=rue("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let h=c[u];const p=()=>{const m=c[u];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),f.jsx(wn,{present:n||a!=="hidden",children:f.jsx(mb,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:re(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:re(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),IU=v.forwardRef((t,e)=>{const n=mr(ms,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=v.useState(!1),a=t.orientation==="horizontal",l=_y(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return ac(n.viewport,l),ac(n.content,l),f.jsx(wn,{present:r||i,children:f.jsx(mb,{"data-state":i?"visible":"hidden",...s,ref:e})})}),mb=v.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=mr(ms,t.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=kU(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,m){return hue(p,o.current,a,m)}return n==="horizontal"?f.jsx(aue,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,m=WR(p,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?f.jsx(lue,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,m=WR(p,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),aue=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=mr(ms,t.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Be(e,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(RU,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(p),MU(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Bm(o.paddingLeft),paddingEnd:Bm(o.paddingRight)}})}})}),lue=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=mr(ms,t.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Be(e,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(RU,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(p),MU(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Bm(o.paddingTop),paddingEnd:Bm(o.paddingBottom)}})}})}),[cue,AU]=TU(ms),RU=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...p}=t,m=mr(ms,n),[y,_]=v.useState(null),x=Be(e,I=>_(I)),T=v.useRef(null),w=v.useRef(""),b=m.viewport,R=r.content-r.viewport,k=st(u),O=st(l),S=_y(h,10);function C(I){if(T.current){const P=I.clientX-T.current.left,D=I.clientY-T.current.top;c({x:P,y:D})}}return v.useEffect(()=>{const I=P=>{const D=P.target;(y==null?void 0:y.contains(D))&&k(P,R)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,y,R,k]),v.useEffect(O,[r,O]),ac(y,S),ac(m.content,S),f.jsx(cue,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:st(i),onThumbPointerUp:st(o),onThumbPositionChange:O,onThumbPointerDown:st(a),children:f.jsx(ve.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:re(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),T.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(I))}),onPointerMove:re(t.onPointerMove,C),onPointerUp:re(t.onPointerUp,I=>{const P=I.target;P.hasPointerCapture(I.pointerId)&&P.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),T.current=null})})})}),Um="ScrollAreaThumb",PU=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=AU(Um,t.__scopeScrollArea);return f.jsx(wn,{present:n||s.hasThumb,children:f.jsx(uue,{ref:e,...r})})}),uue=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=mr(Um,n),o=AU(Um,n),{onThumbPositionChange:a}=o,l=Be(e,h=>o.onThumbChange(h)),c=v.useRef(),u=_y(()=>{c.current&&(c.current(),c.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(u(),!c.current){const m=fue(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,u,a]),f.jsx(ve.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:re(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),y=h.clientX-m.left,_=h.clientY-m.top;o.onThumbPointerDown({x:y,y:_})}),onPointerUp:re(t.onPointerUp,o.onThumbPointerUp)})});PU.displayName=Um;var gb="ScrollAreaCorner",NU=v.forwardRef((t,e)=>{const n=mr(gb,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(due,{...t,ref:e}):null});NU.displayName=gb;var due=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=mr(gb,n),[i,o]=v.useState(0),[a,l]=v.useState(0),c=!!(i&&a);return ac(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),ac(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?f.jsx(ve.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Bm(t){return t?parseInt(t,10):0}function kU(t,e){const n=t/e;return isNaN(n)?0:n}function vy(t){const e=kU(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function hue(t,e,n,r="ltr"){const s=vy(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return DU([l,c],h)(t)}function WR(t,e,n="ltr"){const r=vy(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=nue(t,l);return DU([0,o],[0,a])(c)}function DU(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function MU(t,e){return t>0&&t<e}var fue=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function _y(t,e){const n=st(t),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ac(t,e){const n=st(e);Mr(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function pue(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const s=v.Children.only(r);return v.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var OU=bU,mue=SU,gue=NU;const LU=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(OU,{ref:r,className:ae("relative overflow-hidden",t),...n,children:[f.jsx(mue,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(jU,{}),f.jsx(gue,{})]}));LU.displayName=OU.displayName;const jU=v.forwardRef(({className:t,orientation:e="vertical",...n},r)=>f.jsx(pb,{ref:r,orientation:e,className:ae("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:f.jsx(PU,{className:"relative flex-1 rounded-full bg-border"})}));jU.displayName=pb.displayName;const HR=["Welcome to Gurukul Code! How can I assist you today?","We offer personalized career guidance and AI-driven insights.","Our platform combines traditional mentorship with modern learning methods.","You can explore our Career Awareness and Career Path Exploration services.","We have experts available for personalized mentorship sessions.","Would you like to know more about our AI Assessment tools?","Our Career Preparation resources can help you develop practical skills.","Feel free to ask any questions about our services!"];function yue(){const{isOpen:t,closeChat:e}=EU(),[n,r]=v.useState([{id:"welcome",content:"Hello! How can I help you with your career journey?",isBot:!0}]),[s,i]=v.useState(""),[o,a]=v.useState(!1),l=v.useRef(null);v.useEffect(()=>{l.current&&l.current.scrollIntoView({behavior:"smooth"})},[n]);const c=()=>{if(!s.trim())return;const h={id:Date.now().toString(),content:s,isBot:!1};r(p=>[...p,h]),i(""),a(!0),setTimeout(()=>{const p=HR[Math.floor(Math.random()*HR.length)],m={id:(Date.now()+1).toString(),content:p,isBot:!0};r(y=>[...y,m]),a(!1)},1e3)},u=h=>{h.key==="Enter"&&c()};return t?f.jsxs("div",{className:"fixed bottom-6 right-6 w-80 md:w-96 bg-background rounded-lg shadow-xl border z-50 flex flex-col h-[500px] max-h-[80vh]",children:[f.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[f.jsx("h3",{className:"font-semibold",children:"Gurukul Assistant"}),f.jsx(Ce,{variant:"ghost",size:"icon",onClick:e,children:f.jsx(ug,{className:"h-4 w-4"})})]}),f.jsx(LU,{className:"flex-grow p-4",children:f.jsxs("div",{className:"space-y-4",children:[n.map(h=>f.jsx("div",{className:`flex ${h.isBot?"justify-start":"justify-end"}`,children:f.jsx("div",{className:`max-w-[80%] px-4 py-2 rounded-lg ${h.isBot?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"}`,children:h.content})},h.id)),o&&f.jsx("div",{className:"flex justify-start",children:f.jsx("div",{className:"max-w-[80%] px-4 py-2 rounded-lg bg-secondary text-secondary-foreground",children:f.jsx("span",{className:"inline-block animate-pulse",children:"..."})})}),f.jsx("div",{ref:l})]})}),f.jsx("div",{className:"p-4 border-t",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(kr,{value:s,onChange:h=>i(h.target.value),onKeyDown:u,placeholder:"Type your message...",className:"flex-grow"}),f.jsx(Ce,{size:"icon",onClick:c,disabled:!s.trim(),children:f.jsx(XB,{className:"h-4 w-4"})})]})})]}):null}function vue(){return f.jsxs("div",{className:"flex flex-col items-center justify-center text-center mt-20 mb-12",children:[f.jsx("div",{className:"bg-primary/10 p-3 rounded-full mb-4",children:f.jsx(Kk,{className:"h-10 w-10 text-primary"})}),f.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:"#036D9B"},children:"AI Updates Agent"}),f.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Stay up-to-date with the latest developments in artificial intelligence, machine learning, and related technologies."})]})}function _ue({loading:t,onFetch:e}){return f.jsxs(Ce,{onClick:e,disabled:t,className:"gap-2 bg-[#F57E20] hover:bg-[#e76c0f] text-white",children:[f.jsx(KB,{className:`h-4 w-4 ${t?"animate-spin":""}`}),t?"Loading...":"Refresh Updates"]})}var wue="Separator",qR="horizontal",xue=["horizontal","vertical"],VU=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=qR,...s}=t,i=Eue(r)?r:qR,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(ve.div,{"data-orientation":i,...a,...s,ref:e})});VU.displayName=wue;function Eue(t){return xue.includes(t)}var FU=VU;const UU=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>f.jsx(FU,{ref:s,decorative:n,orientation:e,className:ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));UU.displayName=FU.displayName;function Tue({newsItems:t=[]}){var n;if(!(t!=null&&t.length))return null;const e=r=>r.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n\n/g,"<br/><br/>").replace(/\n(\d+\. )/g,"<br/>$1").split(`
`);return f.jsxs("div",{className:"space-y-8 font-sans",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"#036D9B"},children:"AI Daily Update"}),((n=t[0])==null?void 0:n.date)&&f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx(OB,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{className:"text-lg text-muted-foreground",children:t[0].date})]})]}),f.jsx("div",{className:"grid grid-cols-1 gap-10",children:t.map((r,s)=>{const i=e(r.summary);return f.jsxs(jn,{className:"bg-card shadow-md border-t-4 border-t-primary hover:shadow-lg transition-shadow",children:[f.jsx(fr,{className:"pb-3",children:f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsx(Ur,{className:"text-xl leading-tight",children:r.title||"AI News Update"}),f.jsx(qk,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]})}),f.jsxs(Vn,{className:"pt-0",children:[f.jsx("div",{className:"prose prose-sm max-w-none",children:i.map((o,a)=>a===0?f.jsx("div",{className:"text-lg font-bold text-foreground mb-4",dangerouslySetInnerHTML:{__html:o}},a):a===i.length-1?f.jsxs("div",{className:"mt-4",children:[f.jsx("div",{className:"text-sm text-foreground mb-3",dangerouslySetInnerHTML:{__html:o}}),f.jsx("div",{className:"flex justify-end mt-2",children:f.jsxs("a",{href:"#",className:"flex items-center gap-1 text-sm text-primary hover:underline",onClick:l=>l.preventDefault(),children:["Read more ",f.jsx(UB,{size:14})]})})]},a):f.jsx("div",{className:"text-sm text-foreground mb-3",dangerouslySetInnerHTML:{__html:o}},a))}),s<t.length-1&&f.jsx("div",{className:"mt-6",children:f.jsx(UU,{className:"w-full opacity-50"})})]})]},s)})})]})}function du({className:t,...e}){return f.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",t),...e})}function bue(){return f.jsxs(jn,{children:[f.jsxs(fr,{children:[f.jsx(du,{className:"h-8 w-3/4 mb-2"}),f.jsx(du,{className:"h-4 w-1/2"})]}),f.jsxs(Vn,{className:"space-y-4",children:[f.jsx(du,{className:"h-4 w-full"}),f.jsx(du,{className:"h-4 w-full"}),f.jsx(du,{className:"h-4 w-3/4"})]})]})}const Cue=dc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),BU=v.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:ae(Cue({variant:e}),t),...n}));BU.displayName="Alert";const Sue=v.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:ae("mb-1 font-medium leading-none tracking-tight",t),...e}));Sue.displayName="AlertTitle";const $U=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ae("text-sm [&_p]:leading-relaxed",t),...e}));$U.displayName="AlertDescription";const Iue=dc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Aue({className:t,variant:e,...n}){return f.jsx("div",{className:ae(Iue({variant:e}),t),...n})}function Rue({error:t,onRetry:e}){const n=t.includes("Firebase")||t.includes("database")||t.includes("permission_denied");return f.jsxs(jn,{className:"border-destructive/50",children:[f.jsxs(fr,{children:[f.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[f.jsx(jB,{className:"h-5 w-5"}),f.jsx(Ur,{children:"Error Loading Updates"})]}),f.jsx(hs,{children:"We encountered a problem while fetching the latest AI updates from Firebase."})]}),f.jsxs(Vn,{className:"space-y-4",children:[f.jsx(BU,{variant:"destructive",children:f.jsx($U,{className:"text-sm whitespace-pre-wrap break-words",children:t})}),f.jsx("div",{className:"pt-2",children:n?f.jsxs("div",{className:"space-y-3",children:[f.jsx(Aue,{variant:"outline",className:"bg-amber-100 text-amber-800 border-amber-300",children:"Firebase Database Error"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"There seems to be an issue with the Firebase Realtime Database connection. This could be due to:"}),f.jsxs("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:[f.jsx("li",{children:"Firebase database rules restricting access"}),f.jsx("li",{children:"Incorrect database path (should be '/news')"}),f.jsx("li",{children:"Network connectivity issues"}),f.jsx("li",{children:"Database URL configuration problems"})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Please check your Firebase console and database configuration."})]}):f.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This could be due to network connectivity issues or the Firebase service being temporarily unavailable. Please try again in a few moments."})}),f.jsx(Ce,{variant:"outline",onClick:e,className:"mt-4",children:"Try Again"})]})]})}function Pue({onRefresh:t}){return f.jsxs(jn,{children:[f.jsxs(fr,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(qk,{className:"h-5 w-5 text-muted-foreground"}),f.jsx(Ur,{children:"No Summary Found in Firebase"})]}),f.jsx(hs,{children:"We couldn't find any AI summary data in your Firebase Realtime Database."})]}),f.jsxs(Vn,{children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"To see the AI summary here, add data to your Firebase Realtime Database under the 'summaries/latest' path. The data should include 'created_at' and 'summary' fields."}),f.jsxs("div",{className:"bg-muted p-3 rounded-md mb-4 text-sm font-mono",children:[f.jsx("p",{className:"mb-1",children:"Firebase Path: /summaries/latest"}),f.jsx("p",{className:"mb-1",children:"Format:"}),f.jsx("p",{children:"{"}),f.jsx("p",{children:'  "summaries": {'}),f.jsx("p",{children:'    "latest": {'}),f.jsx("p",{children:'      "created_at": "2025-05-13T08:25:48.234Z",'}),f.jsx("p",{children:'      "summary": "**Daily AI News Update** 1. Artificial Intelligence..."'}),f.jsx("p",{children:"    }"}),f.jsx("p",{children:"  }"}),f.jsx("p",{children:"}"})]}),f.jsx(Ce,{onClick:t,children:"Refresh Now"})]})]})}const GR=[{title:"OpenAI Releases GPT-5 with Enhanced Reasoning Capabilities",date:"May 11, 2025",summary:"OpenAI has unveiled GPT-5, featuring unprecedented reasoning abilities and improved factual accuracy. Early testers report significant improvements in mathematical problem-solving and contextual understanding.",link:"https://example.com/gpt5-release"},{title:"Breakthrough in Quantum Machine Learning Announced",date:"May 10, 2025",summary:"Researchers at MIT have demonstrated a new quantum algorithm that exponentially speeds up certain machine learning tasks, potentially revolutionizing AI model training for complex systems.",link:"https://example.com/quantum-ml"},{title:"AI Ethics Commission Establishes Global Standards",date:"May 9, 2025",summary:"The International AI Ethics Commission has published comprehensive guidelines for responsible AI development, with major tech companies pledging adherence to these new standards for transparency and fairness.",link:"https://example.com/ai-ethics-standards"},{title:"New Neural Architecture Mimics Human Memory Systems",date:"May 8, 2025",summary:"Neuroscientists and AI researchers have collaborated on a novel neural network architecture that more accurately replicates human memory formation and recall, leading to more human-like learning patterns.",link:"https://example.com/neural-memory"},{title:"Multimodal AI System Sets New Benchmark in Creative Tasks",date:"May 7, 2025",summary:"A groundbreaking multimodal AI system has demonstrated remarkable creative capabilities across text, image, and audio generation, challenging existing definitions of machine creativity.",link:"https://example.com/creative-ai-benchmark"}],Nue=Tj(_h),kue=async()=>{try{console.log("Fetching news from Firebase RTDB path: summaries/latest");const t=Uee(Nue),e=await Bee(sw(t,"summaries/latest"));if(!e.exists())return console.log("No summary data available in Firebase"),[];const n=e.val();return console.log("Retrieved summary data:",n),[{title:"AI Daily Update",date:new Date(n.created_at).toLocaleDateString(),summary:n.summary}]}catch(t){throw console.error("Error fetching summary from Firebase:",t),new Error(`Failed to fetch summary from Firebase: ${t instanceof Error?t.message:String(t)}`)}};function Due(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[s,i]=v.useState(null),[o,a]=v.useState(!1),{toast:l}=fs(),c=async()=>{e(!0),r(null),a(!1);try{const h=await kue();i(h),h.length===0?l({title:"No News Found",description:"No AI news found in the database. Try adding some data or using sample data."}):l({title:"News Updated",description:`Successfully loaded ${h.length} AI news items from Firebase.`})}catch(h){console.error("Firebase fetch error:",h);const p=h instanceof Error?h.message:"An unknown error occurred";r(p),l({title:"Error",description:`Failed to fetch AI updates: ${p}`,variant:"destructive"})}finally{e(!1)}};v.useEffect(()=>{c(),l({title:"Fetching AI News",description:"Loading the latest AI updates from Firebase..."})},[]);const u=()=>{a(!0),r(null),l({title:"Sample Data Loaded",description:"Showing sample AI news for demonstration purposes."})};return f.jsx("div",{className:"bg-[#0F1026] min-h-screen py-12",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsx(vue,{}),f.jsxs("div",{className:"flex justify-between mb-6",children:[f.jsx("div",{children:(n||s&&s.length===0)&&!o&&f.jsx(Ce,{variant:"secondary",onClick:u,className:"mr-2 bg-[#F57E20] hover:bg-[#e76c0f] text-white",children:"Show Sample Data"})}),f.jsx(_ue,{loading:t,onFetch:c})]}),f.jsx("div",{className:"space-y-8",children:t?f.jsx(bue,{}):n&&!o?f.jsx(Rue,{error:n,onRetry:c}):(o?GR:s&&s.length>0)?f.jsx(Tue,{newsItems:o?GR:s}):f.jsx(Pue,{onRefresh:c})})]})})}function wy({title:t,description:e,icon:n}){const r=pr();return f.jsx("div",{className:"min-h-screen bg-[#0F1026] text-white pt-24",children:f.jsxs("div",{className:"container max-w-4xl mx-auto py-12 px-4",children:[f.jsxs("div",{className:"flex flex-col items-center justify-center text-center mb-12",children:[f.jsx("div",{className:"bg-primary/10 p-3 rounded-full mb-4",children:n||f.jsx(Ix,{className:"h-10 w-10 text-primary"})}),f.jsx("h1",{className:"text-3xl font-bold mb-4",children:t}),f.jsx("p",{className:"text-white/70 max-w-xl",children:e})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs(jn,{className:"bg-[#1f203a] border-white/20 text-white",children:[f.jsxs(fr,{children:[f.jsx(Ur,{children:"Features"}),f.jsx(hs,{children:"What this AI agent can do for you"})]}),f.jsx(Vn,{children:f.jsxs("ul",{className:"space-y-2",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"bg-primary/10 p-1 rounded mr-2 mt-0.5",children:"✓"}),f.jsx("span",{children:"Access the latest information in this domain"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"bg-primary/10 p-1 rounded mr-2 mt-0.5",children:"✓"}),f.jsx("span",{children:"Get personalized recommendations"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"bg-primary/10 p-1 rounded mr-2 mt-0.5",children:"✓"}),f.jsx("span",{children:"Ask specific questions related to this field"})]})]})})]}),f.jsxs(jn,{className:"bg-[#1f203a] border-white/20 text-white",children:[f.jsxs(fr,{children:[f.jsx(Ur,{children:"Coming Soon"}),f.jsx(hs,{children:"Future capabilities being developed"})]}),f.jsx(Vn,{children:f.jsx("p",{className:"text-white/70 mb-4",children:"This AI agent is currently under development. More advanced features will be added soon!"})}),f.jsx(Ac,{children:f.jsx(Ce,{className:"w-full bg-[#F57E20] hover:bg-[#e76c0f] text-white",onClick:()=>r("/"),children:"Return to Home"})})]})]})]})})}function Mue(){return f.jsx(wy,{title:"Tech Insights Agent",description:"Get expert insights on technology trends, programming languages, software development, and tech industry news.",icon:f.jsx(Nx,{className:"h-10 w-10 text-primary"})})}function Oue(){return f.jsx(wy,{title:"Finance Advisor Agent",description:"Receive financial advice, market analysis, investment strategies, and personal finance management tips.",icon:f.jsx(Hk,{className:"h-10 w-10 text-primary"})})}function Lue(){return f.jsx(wy,{title:"Education Assistant Agent",description:"Access learning resources, study guides, educational content, and academic support across various subjects.",icon:f.jsx(Gk,{className:"h-10 w-10 text-primary"})})}function jue(){return f.jsx(wy,{title:"Career Advisor Agent",description:"Get career guidance, job search assistance, resume tips, interview preparation, and professional development advice.",icon:f.jsx(Rx,{className:"h-10 w-10 text-primary"})})}function xy({title:t,description:e}){const n=pr();return f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 bg-[#0F1026] text-white pt-24",children:f.jsxs(ce.div,{className:"text-center max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[f.jsx("div",{className:"bg-white/10 p-5 rounded-full inline-flex mb-6",children:f.jsx(FB,{className:"h-12 w-12 text-primary"})}),f.jsx("h1",{className:"text-3xl font-bold mb-3",children:t}),f.jsx("p",{className:"text-white/70 mb-8",children:e||"This section is currently under development. Please check back soon for updates!"}),f.jsx("div",{className:"flex justify-center",children:f.jsxs(Ce,{onClick:()=>n(-1),className:"flex items-center gap-2 bg-[#F57E20] hover:bg-[#e76c0f] text-white",children:[f.jsx(cg,{className:"h-4 w-4"}),"Go Back"]})})]})})}const Vue=()=>f.jsx(xy,{title:"Learning Center Coming Soon",description:"Our comprehensive learning resources, courses, and certifications are being developed. Stay tuned for an immersive learning experience!"}),Fue=()=>f.jsx(xy,{title:"Career Center Coming Soon",description:"Our career tools, skill analysis, and mapping features are under development. We're working to help you navigate your professional journey!"}),Uue=()=>f.jsx(xy,{title:"Course Catalog Coming Soon",description:"We're developing a comprehensive library of courses designed to enhance your skills and advance your career. Check back soon!"}),Bue=()=>f.jsx(xy,{title:"Registration Coming Soon",description:"We're putting the finishing touches on our registration process. Soon you'll be able to create an account and begin your learning journey!"}),$ue=new a8,zue=({children:t})=>{const{user:e,loading:n}=sy();return n?f.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):e?f.jsx(f.Fragment,{children:t}):f.jsx(Y8,{to:"/login"})},Wue=()=>f.jsx(c8,{client:$ue,children:f.jsx(Vz,{children:f.jsxs(eue,{children:[f.jsx(O9,{}),f.jsx(u$,{}),f.jsxs(iW,{children:[f.jsx(Ure,{children:f.jsxs(J8,{children:[f.jsx(At,{path:"/",element:f.jsx(nle,{})}),f.jsx(At,{path:"/about",element:f.jsx(rle,{})}),f.jsx(At,{path:"/ai-assessment",element:f.jsx(lle,{})}),f.jsx(At,{path:"/contact",element:f.jsx(Fce,{})}),f.jsx(At,{path:"/login",element:f.jsx($ce,{})}),f.jsx(At,{path:"/signup",element:f.jsx(zce,{})}),f.jsx(At,{path:"/community",element:f.jsx(Jce,{})}),f.jsx(At,{path:"/profile",element:f.jsx(zue,{children:f.jsx(Wce,{})})}),f.jsx(At,{path:"/ai-updates",element:f.jsx(Due,{})}),f.jsx(At,{path:"/tech-insights",element:f.jsx(Mue,{})}),f.jsx(At,{path:"/finance-advisor",element:f.jsx(Oue,{})}),f.jsx(At,{path:"/education-assistant",element:f.jsx(Lue,{})}),f.jsx(At,{path:"/career-advisor",element:f.jsx(jue,{})}),f.jsx(At,{path:"/learning-center",element:f.jsx(Vue,{})}),f.jsx(At,{path:"/career-center",element:f.jsx(Fue,{})}),f.jsx(At,{path:"/explore-courses",element:f.jsx(Uue,{})}),f.jsx(At,{path:"/get-started",element:f.jsx(Bue,{})}),f.jsx(At,{path:"*",element:f.jsx(Zce,{})})]})}),f.jsx(tue,{}),f.jsx(yue,{})]})]})})});yk(document.getElementById("root")).render(f.jsx(Wue,{}));
